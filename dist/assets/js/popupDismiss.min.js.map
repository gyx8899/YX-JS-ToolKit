{"version":3,"sources":["webpack://PopupDismiss/webpack/bootstrap","webpack://PopupDismiss/./assets/js/PopupDismiss.js","webpack://PopupDismiss/./assets/js/Event.js","webpack://PopupDismiss/./assets/js/ClassName.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_Event2","_ClassName","Util","element","selector","matches","el","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","parentElement","undefined","parents","parentNode","push","selectorString","trim","document","selectorsElements","selectorsArray","split","map","selectorStringItem","uniqueArray","length","scopeNodeList","slice","querySelectorAll","concat","sourceArray","elem","resultArray","hash","events","event","callback","opts","this","namespaces","options","addEventListener","removeEventListener","isExtendOnOff","on","Element","off","elements","resultElement","jquery","window","NodeList","HTMLCollection","Array","isArray","filter","nodeType","url","query","queryParams","indexOf","location","search","substring","queryParam","scriptName","allScripts","getElementsByTagName","script","item","src","match","PopupDismiss","isDelegated","arguments","_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","isTap","attr","dataToggle","dataTarget","dataTargetParent","dataDismissScope","dataToggleClass","dataPopupHandler","dataDismissHandler","dataIsPopup","dataPopupDismiss","_elements","popupEvent","body","getElements","forEach","initElement","Event","getAttribute","setAttribute","triggerElement","targetElement","commonParent","findParent","querySelector","popupTrigger","target","that","dismissScopes","getSelectorsElements","eventData","type","namespace","Date","getTime","popupTarget","toggledClass","popupHandler","dismissHandler","monitorTap","addClass","scope","extendOnOff","newEvent","newEventData","dismissTrigger","dismiss","_eventHandler","setBodyCursorInIOS","isTrigger","_this2","hasClosest","isDismissTrigger","removeClass","start","end","mouseDown","x","pageX","y","pageY","mouseUp","Math","abs","child","parent","parentDismissFalse","parentDismissTrue","_this3","_get","eventName","trigger","val","test","navigator","userAgent","popupCount","parseInt","style","cursor","toString","popupDismiss","console","warn","popupDismissDelegate","currentScript","getScriptByName","initPopupDismiss","popupDismisser","getUrlQueryParams","readyState","_cache","_unread","fn","isFirst","Error","unReads","args","apply","_toConsumableArray","fns","index","splice","shift","cacheFns","keys","ClassName","createElement","classList","has","_has","add","_add","remove","_remove","toggle","_toggle","className","contains","RegExp","_addRemoveClassList","_addRemoveClassName","force","hasClass","replace","isElement","HTMLElement","_typeof","nodeName","argumentsProxyHandler","propKey","receiver","_len","_key","Proxy","toggleClass"],"mappings":"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","file":"popupDismiss.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Event from './Event.js';\r\nimport {addClass, removeClass} from './ClassName.js';\r\n\r\n/**!\r\n * Javascript plugin: popupDismiss v5.5.4.20190326\r\n */\r\nclass Util {\r\n\t// Utils\r\n\tstatic findParent(element, selector)\r\n\t{\r\n\t\tlet matches = (el, selector) => {\r\n\t\t\treturn (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n\t\t};\r\n\t\twhile ((element = element.parentElement) && !matches(element, selector))\r\n\t\t{\r\n\t\t}\r\n\t\treturn element;\r\n\t}\r\n\r\n\tstatic hasClosest(el, parentElement)\r\n\t{\r\n\t\tif (el === parentElement)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (parentElement === undefined)\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tlet parents = [], p = el.parentNode;\r\n\t\twhile (p !== parentElement && p.parentNode)\r\n\t\t{\r\n\t\t\tlet o = p;\r\n\t\t\tparents.push(o);\r\n\t\t\tp = o.parentNode;\r\n\t\t}\r\n\t\treturn p === parentElement;\r\n\t}\r\n\r\n\tstatic getSelectorsElements(selectorString)\r\n\t{\r\n\t\tif (!selectorString || (selectorString && selectorString.trim() === ''))\r\n\t\t{\r\n\t\t\treturn [document];\r\n\t\t}\r\n\t\tlet selectorsElements = [],\r\n\t\t\t\tselectorsArray = selectorString.split(',').map((selectorStringItem) => {\r\n\t\t\t\t\treturn selectorStringItem.trim();\r\n\t\t\t\t});\r\n\t\tselectorsArray = Util.uniqueArray(selectorsArray);\r\n\t\tfor (let i = 0, l = selectorsArray.length; i < l; i++)\r\n\t\t{\r\n\t\t\tif (selectorsArray[i] === 'document')\r\n\t\t\t{\r\n\t\t\t\tselectorsElements.push(document);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet scopeNodeList = [].slice.call(document.querySelectorAll(selectorsArray[i]));\r\n\t\t\t\tselectorsElements = selectorsElements.concat(scopeNodeList);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selectorsElements;\r\n\t}\r\n\r\n\tstatic uniqueArray(sourceArray)\r\n\t{\r\n\t\tlet resultArray = [], hash = {};\r\n\t\tfor (let i = 0, elem, l = sourceArray.length; i < l && (elem = sourceArray[i]) !== null; i++)\r\n\t\t{\r\n\t\t\tif (!hash[elem])\r\n\t\t\t{\r\n\t\t\t\tresultArray.push(elem);\r\n\t\t\t\thash[elem] = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resultArray;\r\n\t}\r\n\r\n\t//Extend on/off methods\r\n\tstatic extendOnOff(el)\r\n\t{\r\n\t\tif (el.length === 0)\r\n\t\t\treturn null;\r\n\t\tlet events = {\r\n\t\t\ton: function (event, callback, opts) {\r\n\t\t\t\tif (!this.namespaces) // save the namespaces on the DOM element itself\r\n\t\t\t\t\tthis.namespaces = {};\r\n\r\n\t\t\t\tthis.namespaces[event] = callback;\r\n\t\t\t\tlet options = opts || false;\r\n\r\n\t\t\t\tthis.addEventListener(event.split('.')[0], callback, options);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\toff: function (event) {\r\n\t\t\t\tthis.removeEventListener(event.split('.')[0], this.namespaces[event]);\r\n\t\t\t\tdelete this.namespaces[event];\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Extend the DOM with these above custom methods\r\n\t\tif (!el.isExtendOnOff)\r\n\t\t{\r\n\t\t\tel.on = Element.prototype.on = events.on;\r\n\t\t\tel.off = Element.prototype.off = events.off;\r\n\t\t\tel.isExtendOnOff = true;\r\n\t\t}\r\n\t\treturn el;\r\n\t}\r\n\r\n\tstatic getElements(elements)\r\n\t{\r\n\t\tlet resultElement = [];\r\n\t\tif (elements === undefined || elements === null)\r\n\t\t{\r\n\t\t\tresultElement = [];\r\n\t\t}\r\n\t\telse if (elements.jquery)\r\n\t\t{\r\n\t\t\tresultElement = elements.get();\r\n\t\t}\r\n\t\telse if (elements instanceof window.NodeList || elements instanceof NodeList || elements instanceof HTMLCollection)\r\n\t\t{\r\n\t\t\tresultElement = Array.prototype.slice.call(elements);\r\n\t\t}\r\n\t\telse if (Array.isArray(elements))\r\n\t\t{\r\n\t\t\tresultElement = elements.filter(function (element) {\r\n\t\t\t\treturn element.nodeType === 1 || element.jquery;\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (elements.nodeType === 1)\r\n\t\t{\r\n\t\t\tresultElement = [elements];\r\n\t\t}\r\n\t\telse if (typeof elements === 'string')\r\n\t\t{\r\n\t\t\tresultElement = document.querySelectorAll(elements);\r\n\t\t}\r\n\t\treturn resultElement;\r\n\t}\r\n\r\n\tstatic getUrlQueryParams(url)\r\n\t{\r\n\t\tlet query = {},\r\n\t\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : window.location.search.substring(1),\r\n\t\t\t\tqueryParams = searchStr.split(\"&\");\r\n\t\tfor (let i = 0; i < queryParams.length; i++)\r\n\t\t{\r\n\t\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\t\tif (queryParam.length > 1)\r\n\t\t\t{\r\n\t\t\t\tquery[queryParam[0]] = queryParam[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn query;\r\n\t}\r\n\r\n\tstatic getScriptByName(scriptName)\r\n\t{\r\n\t\tlet allScripts = document.getElementsByTagName(\"script\");\r\n\r\n\t\tif (scriptName)\r\n\t\t{\r\n\t\t\tfor (let i = 0; i < allScripts.length; i++)\r\n\t\t\t{\r\n\t\t\t\tlet script = allScripts.item(i);\r\n\r\n\t\t\t\tif (script.src && script.src.split('?')[0].match(scriptName))\r\n\t\t\t\t{\r\n\t\t\t\t\treturn script;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nclass PopupDismiss extends Event {\r\n\tconstructor(elements, isDelegated = false)\r\n\t{\r\n\t\t// Event constructor\r\n\t\tsuper();\r\n\r\n\t\tthis.name = 'popupDismiss';\r\n\t\tthis.isTap = undefined;\r\n\t\tthis.isDelegated = isDelegated;\r\n\t\tthis.attr = {\r\n\t\t\tdataToggle: 'data-toggle',\r\n\t\t\tdataTarget: 'data-target',\r\n\t\t\tdataTargetParent: 'data-target-parent',\r\n\t\t\tdataDismissScope: 'data-dismiss-scope',\r\n\t\t\tdataToggleClass: 'data-toggle-class',\r\n\t\t\tdataPopupHandler: 'data-popup-handler',\r\n\t\t\tdataDismissHandler: 'data-dismiss-handler',\r\n\t\t\tdataIsPopup: 'data-isPopup',\r\n\t\t\tdataPopupDismiss: 'data-popup-dismiss',\r\n\t\t};\r\n\t\tthis._elements = elements;\r\n\t\tthis.popupEvent = this.popupEvent.bind(this);\r\n\r\n\t\tif (elements === undefined)\r\n\t\t{\r\n\t\t\tthis.isDelegated = true;\r\n\t\t\tthis.elements = [document.body];\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.elements = Util.getElements(elements);\r\n\t\t}\r\n\t\t[].forEach.call(this.elements, element => this.initElement(element));\r\n\t}\r\n\r\n\tinitElement(element)\r\n\t{\r\n\t\tif ((this.isDelegated || element.getAttribute(this.attr.dataToggle) === this.name) && element.getAttribute(`data-${this.name}`) !== this.name)\r\n\t\t{\r\n\t\t\telement.setAttribute(`data-${this.name}`, this.name);\r\n\t\t\telement.addEventListener(\"click\", this.popupEvent);\r\n\t\t}\r\n\t}\r\n\r\n\tpopupTarget(dataTarget, triggerElement, dataTargetParent)\r\n\t{\r\n\t\tlet targetElement = null;\r\n\t\tif (!!dataTargetParent)\r\n\t\t{\r\n\t\t\tlet commonParent = Util.findParent(triggerElement, dataTargetParent);\r\n\t\t\tif (commonParent)\r\n\t\t\t{\r\n\t\t\t\ttargetElement = commonParent.querySelector(dataTarget);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (dataTarget === 'parent')\r\n\t\t{\r\n\t\t\ttargetElement = triggerElement.parentNode;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttargetElement = document.querySelector(dataTarget);\r\n\t\t}\r\n\t\treturn targetElement;\r\n\t}\r\n\r\n\tpopupEvent(event)\r\n\t{\r\n\t\tlet popupTrigger = event.target,\r\n\t\t\t\tthat = this;\r\n\t\tif (popupTrigger.getAttribute(this.attr.dataToggle) !== this.name)\r\n\t\t{\r\n\t\t\tpopupTrigger = Util.findParent(popupTrigger, `[${this.attr.dataToggle}=\"${this.name}\"]`);\r\n\t\t}\r\n\t\tif (!popupTrigger)\r\n\t\t{\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\tlet dataDismissScope = popupTrigger.getAttribute(this.attr.dataDismissScope),\r\n\t\t\t\tdismissScopes = Util.getSelectorsElements(dataDismissScope),\r\n\t\t\t\teventData = {\r\n\t\t\t\t\ttype: event.type,\r\n\t\t\t\t\tnamespace: popupTrigger.getAttribute(this.attr.dataTarget) + '-' + new Date().getTime(),\r\n\t\t\t\t\tpopupTrigger: popupTrigger,\r\n\t\t\t\t\tpopupTarget: this.popupTarget(popupTrigger.getAttribute(this.attr.dataTarget), popupTrigger, popupTrigger.getAttribute(this.attr.dataTargetParent)),\r\n\t\t\t\t\ttoggledClass: popupTrigger.getAttribute(this.attr.dataToggleClass) || null, // Recommend: 'open'\r\n\t\t\t\t\tpopupHandler: popupTrigger.getAttribute(this.attr.dataPopupHandler) || null,\r\n\t\t\t\t\tdismissHandler: popupTrigger.getAttribute(this.attr.dataDismissHandler) || null,\r\n\t\t\t\t\tdismissScopes: dismissScopes\r\n\t\t\t\t};\r\n\r\n\t\tif (eventData.popupTarget.getAttribute(this.attr.dataIsPopup) !== 'true')\r\n\t\t{\r\n\t\t\tthis.monitorTap();\r\n\t\t\tif (eventData.toggledClass)\r\n\t\t\t{\r\n\t\t\t\taddClass(eventData.popupTrigger, eventData.toggledClass);\r\n\t\t\t\taddClass(eventData.popupTarget, eventData.toggledClass);\r\n\t\t\t}\r\n\t\t\teventData.popupTarget.setAttribute(this.attr.dataIsPopup, 'true');\r\n\t\t\teventData.dismissScopes.forEach((scope) => {\r\n\t\t\t\tUtil.extendOnOff(scope)\r\n\t\t\t\t\t\t.on(`${eventData.type}.${eventData.namespace}`, (newEvent) => {\r\n\t\t\t\t\t\t\tif (event === newEvent)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tlet newEventData = {\r\n\t\t\t\t\t\t\t\ttype: eventData.type,\r\n\t\t\t\t\t\t\t\tnamespace: eventData.namespace,\r\n\t\t\t\t\t\t\t\tdismissTrigger: newEvent.target,\r\n\t\t\t\t\t\t\t\tpopupTrigger: eventData.popupTrigger,\r\n\t\t\t\t\t\t\t\tpopupTarget: eventData.popupTarget,\r\n\t\t\t\t\t\t\t\ttoggledClass: eventData.toggledClass,\r\n\t\t\t\t\t\t\t\tdismissHandler: eventData.dismissHandler,\r\n\t\t\t\t\t\t\t\tdismissScopes: eventData.dismissScopes\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthat.dismiss(newEventData, true);\r\n\t\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tthis._eventHandler(eventData.popupHandler, eventData.popupTarget);\r\n\r\n\t\t\tPopupDismiss.setBodyCursorInIOS(\"pointer\");\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\teventData.dismissTrigger = popupTrigger;\r\n\t\t\tthat.dismiss(eventData);\r\n\t\t}\r\n\t}\r\n\r\n\tdismiss(eventData, isTrigger)\r\n\t{\r\n\t\tif (this.isTap === false)\r\n\t\t\treturn;\r\n\r\n\t\tif (!isTrigger ||\r\n\t\t\t\t(!Util.hasClosest(eventData.dismissTrigger, eventData.popupTrigger)\r\n\t\t\t\t\t\t&& this.isDismissTrigger(eventData.dismissTrigger, eventData.popupTarget)\r\n\t\t\t\t\t\t&& eventData.popupTarget.getAttribute(this.attr.dataIsPopup) === 'true'\r\n\t\t\t\t)\r\n\t\t)\r\n\t\t{\r\n\t\t\tif (eventData.toggledClass)\r\n\t\t\t{\r\n\t\t\t\tremoveClass(eventData.popupTrigger, eventData.toggledClass);\r\n\t\t\t\tremoveClass(eventData.popupTarget, eventData.toggledClass);\r\n\t\t\t}\r\n\t\t\teventData.popupTarget.setAttribute(this.attr.dataIsPopup, 'false');\r\n\t\t\teventData.dismissScopes.forEach((scope) => {\r\n\t\t\t\tscope.off(`${eventData.type}.${eventData.namespace}`, () => this.dismiss(eventData, true));\r\n\t\t\t});\r\n\r\n\t\t\tthis._eventHandler(eventData.dismissHandler, eventData.popupTarget);\r\n\r\n\t\t\tPopupDismiss.setBodyCursorInIOS(\"default\");\r\n\t\t}\r\n\t}\r\n\r\n\tmonitorTap()\r\n\t{\r\n\t\tlet that = this,\r\n\t\t\t\tstart = {},\r\n\t\t\t\tend = {};\r\n\t\tthis.isTap = undefined;\r\n\r\n\t\tdocument.body.addEventListener('mousedown', mouseDown);\r\n\t\tdocument.body.addEventListener('mouseup', mouseUp);\r\n\r\n\t\tfunction mouseDown(event)\r\n\t\t{\r\n\t\t\tthat.isTap = false;\r\n\t\t\tstart.x = event.pageX;\r\n\t\t\tstart.y = event.pageY;\r\n\t\t}\r\n\r\n\t\tfunction mouseUp(event)\r\n\t\t{\r\n\t\t\tend.x = event.pageX;\r\n\t\t\tend.y = event.pageY;\r\n\r\n\t\t\tif (Math.abs(end.x - start.x) < 5 && Math.abs(end.y - start.y) < 5)\r\n\t\t\t{\r\n\t\t\t\tthat.isTap = true;\r\n\t\t\t\tdocument.body.removeEventListener('mousedown', mouseDown);\r\n\t\t\t\tdocument.body.removeEventListener('mouseup', mouseUp);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Default: all be dismiss trigger(return true);\r\n\t// Check click point ($child) has '[data-popup-dismiss=\"false\"]'('[data-popup-dismiss=\"true\"]') or not;\r\n\tisDismissTrigger(child, parent)\r\n\t{\r\n\t\tif (Util.hasClosest(child, parent))\r\n\t\t{\r\n\t\t\tlet dataPopupDismiss = child.getAttribute(this.attr.dataPopupDismiss),\r\n\t\t\t\t\tparentDismissFalse;\r\n\t\t\tif (dataPopupDismiss === 'false' || dataPopupDismiss === 'true')\r\n\t\t\t{\r\n\t\t\t\treturn dataPopupDismiss === 'true';\r\n\t\t\t}\r\n\t\t\telse if (parentDismissFalse = Util.findParent(child, `[${this.attr.dataPopupDismiss}=\"false\"]`))\r\n\t\t\t{\r\n\t\t\t\tlet parentDismissTrue = Util.findParent(child, `[${this.attr.dataPopupDismiss}=\"true\"]`);\r\n\t\t\t\treturn parentDismissTrue ? Util.hasClosest(parentDismissTrue, parentDismissFalse) : false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tdestroy()\r\n\t{\r\n\t\t[].forEach.call(this.elements, (element) => {\r\n\t\t\tdelete element[`data-${this.name}`];\r\n\t\t\telement.removeEventListener('click', this.popupEvent);\r\n\t\t});\r\n\r\n\t\tsuper.destroy();\r\n\t}\r\n\r\n\t_eventHandler(eventName, targetElement)\r\n\t{\r\n\t\tif (eventName !== null)\r\n\t\t{\r\n\t\t\tif (eventName in window)\r\n\t\t\t{\r\n\t\t\t\twindow[eventName](targetElement);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.trigger(eventName, targetElement);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Fix issue : In iOS device, the dismiss function could not be triggered;\r\n\tstatic setBodyCursorInIOS(val)\r\n\t{\r\n\t\tif (/iPhone|iPad|iPod/i.test(navigator.userAgent))\r\n\t\t{\r\n\t\t\tlet body = document.querySelector('body'),\r\n\t\t\t\t\tpopupCount = parseInt(body.getAttribute('popup-count') || '0', 10);\r\n\t\t\tif (val === 'pointer')\r\n\t\t\t{\r\n\t\t\t\t++popupCount === 1 && (body.style.cursor = val);\r\n\t\t\t}\r\n\t\t\telse if (val === 'default')\r\n\t\t\t{\r\n\t\t\t\t--popupCount && (body.style.cursor = val);\r\n\t\t\t}\r\n\t\t\tbody.setAttribute('popup-count', popupCount.toString());\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Downward compatibility\r\nwindow.popupDismiss = (elements) => {\r\n\tconsole.warn('popupDismiss.min.js: [Deprecation] popupDismiss() is deprecated. Please use new PopupDismiss(elements) instead.');\r\n\treturn new PopupDismiss(elements);\r\n};\r\n\r\nwindow.popupDismissDelegate = (elements) => {\r\n\tconsole.warn('popupDismiss.min.js: [Deprecation] popupDismissDelegate() is deprecated. Please use new PopupDismiss(elements, true) instead.');\r\n\treturn new PopupDismiss(elements, true);\r\n};\r\n\r\n/**\r\n * Auto init plugin if plugin.js?init=auto\r\n */\r\n(function () {\r\n\tlet pluginFileName = 'popupDismiss',\r\n\t\t\tcurrentScript = Util.getScriptByName(pluginFileName);\r\n\tif (!!currentScript)\r\n\t{\r\n\t\tlet scriptParamInit = Util.getUrlQueryParams(currentScript['src'])['init'],\r\n\t\t\t\tinitPopupDismiss = () => {\r\n\t\t\t\t\twindow.popupDismisser = new PopupDismiss();\r\n\t\t\t\t};\r\n\t\tif (scriptParamInit === 'auto')\r\n\t\t{\r\n\t\t\tif (document.readyState !== \"complete\")\r\n\t\t\t{\r\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', initPopupDismiss);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tinitPopupDismiss();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tconsole.warn('popupDismiss.min.js: [Notice] PopupDismiss auto-initialization failed with compatibility issue if import with \"[url]?init=auto\"!');\r\n\t}\r\n})();\r\n\r\nexport default PopupDismiss;","/**\r\n * Event v1.1.2.20190724\r\n */\r\nclass Event {\r\n\tconstructor()\r\n\t{\r\n\t\tthis._cache = {};\r\n\t\tthis._unread = {};\r\n\t}\r\n\r\n\ton(key, fn, isFirst = false)\r\n\t{\r\n\t\tif (!this._cache[key])\r\n\t\t{\r\n\t\t\tthis._cache[key] = [];\r\n\t\t}\r\n\t\tif (typeof fn === 'function')\r\n\t\t{\r\n\t\t\tthis._cache[key][isFirst ? 'unshift' : 'push'](fn);\r\n\r\n\t\t\tlet unReads = this._unread[key];\r\n\t\t\tif (!!unReads)\r\n\t\t\t{\r\n\t\t\t\tunReads.forEach(args => {\r\n\t\t\t\t\tthis.trigger(key, ...args);\r\n\t\t\t\t});\r\n\t\t\t\tthis._unread[key] = [];\r\n\t\t\t\tdelete this._unread[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error(`Your listen on ${fn} is not one valid function!`);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\toff(key, fn)\r\n\t{\r\n\t\tlet fns = this._cache[key];\r\n\t\tif (fns !== undefined && fns.length !== 0)\r\n\t\t{\r\n\t\t\tlet index = fns.indexOf(fn);\r\n\t\t\tif (index >= 0)\r\n\t\t\t{\r\n\t\t\t\tthis._cache[key].splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!fn)\r\n\t\t{\r\n\t\t\tdelete this._cache[key];\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tonce(key, fn)\r\n\t{\r\n\t\tlet that = this,\r\n\t\t\t\tnewFn = function () {\r\n\t\t\t\t\tfn.call(that, ...arguments);\r\n\t\t\t\t\tthat.off(key);\r\n\t\t\t\t};\r\n\t\tthis.on(key, newFn);\r\n\t}\r\n\r\n\ttrigger(key)\r\n\t{\r\n\t\t[].shift.call(arguments);\r\n\t\tlet args = [].slice.call(arguments),\r\n\t\t\t\tcacheFns = this._cache[key];\r\n\t\tif (!!cacheFns)\r\n\t\t{\r\n\t\t\tcacheFns.forEach(fn => {\r\n\t\t\t\tfn.call(this, ...args);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis._unread[key] = this._unread[key] || [];\r\n\t\t\tthis._unread[key].push(arguments);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tdestroy()\r\n\t{\r\n\t\tObject.keys(this._cache).forEach(key => delete this._cache[key]);\r\n\t\tObject.keys(this._unread).forEach(key => delete this._unread[key]);\r\n\t}\r\n}\r\n\r\nexport default Event;","/**\r\n * ClassName v1.1.3.20190717\r\n */\r\nclass ClassName {\r\n\tconstructor()\r\n\t{\r\n\t\tif (!document.createElement('div').classList)\r\n\t\t{\r\n\t\t\tthis.has = this._has;\r\n\t\t\tthis.add = this._add;\r\n\t\t\tthis.remove = this._remove;\r\n\t\t\tthis.toggle = this._toggle;\r\n\t\t}\r\n\t}\r\n\r\n\thas(element, className)\r\n\t{\r\n\t\treturn element.classList.contains(className);\r\n\t}\r\n\r\n\t_has(element, className)\r\n\t{\r\n\t\treturn (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className));\r\n\t}\r\n\r\n\tadd(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassList(element, className, true);\r\n\t}\r\n\r\n\tremove(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassList(element, className, false);\r\n\t}\r\n\r\n\t_add(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassName(element, className, true);\r\n\t}\r\n\r\n\t_remove(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassName(element, className, false);\r\n\t}\r\n\r\n\ttoggle(element, className)\r\n\t{\r\n\t\tlet elements = element.length ? element : [element];\r\n\t\treturn [].forEach.call(elements, item => item.classList.toggle(className));\r\n\t}\r\n\r\n\t_toggle(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassName(element, className);\r\n\t}\r\n\r\n\t_addRemoveClassList(element, className, force)\r\n\t{\r\n\t\tlet elements = element.length ? element : [element];\r\n\t\treturn [].forEach.call(elements, item => item.classList[force ? 'add' : 'remove'](className));\r\n\t}\r\n\r\n\t_addRemoveClassName(element, className, force)\r\n\t{\r\n\t\tlet elements = element.length ? element : [element];\r\n\t\treturn [].forEach.call(elements, item => {\r\n\t\t\tlet hasClass = this.has(item, className);\r\n\t\t\tif (hasClass !== force)\r\n\t\t\t{\r\n\t\t\t\tif (hasClass)\r\n\t\t\t\t{\r\n\t\t\t\t\titem.className = item.className.replace(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'), ' ');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\titem.className += ' ' + className;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nconst isElement = (o) => {\r\n\treturn (\r\n\t\t\ttypeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\r\n\t\t\t\t\to && typeof o === \"object\" && o.nodeType === 1 && typeof o.nodeName === \"string\"\r\n\t);\r\n};\r\n\r\nconst argumentsProxyHandler = {\r\n\tget(target, propKey, receiver)\r\n\t{\r\n\t\treturn function (...args) {\r\n\t\t\tif (!isElement(args[0]))\r\n\t\t\t{\r\n\t\t\t\tthrow new Error(`element: \"${args[0]}\" should be an HTMLElement.`);\r\n\t\t\t}\r\n\t\t\tif (typeof args[1] !== 'string' || args[1] === '')\r\n\t\t\t{\r\n\t\t\t\tthrow new Error(`className: \"${args[1]}\" should be an non-empty string.`);\r\n\t\t\t}\r\n\t\t\treturn target[propKey].apply(this, args);\r\n\t\t};\r\n\t}\r\n};\r\n\r\nconst className = new Proxy(new ClassName(), argumentsProxyHandler);\r\n\r\nconst hasClass = className.has.bind(className);\r\nconst addClass = className.add.bind(className);\r\nconst removeClass = className.remove.bind(className);\r\nconst toggleClass = className.toggle.bind(className);\r\n\r\nexport {hasClass, addClass, removeClass, toggleClass};"],"sourceRoot":""}