var PopupDismiss=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),s=(r=i)&&r.__esModule?r:{default:r},o=n(2);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
/**!
 * Javascript plugin: popupDismiss v5.5.4.20190326
 */var l=function(){function e(){u(this,e)}return a(e,null,[{key:"findParent",value:function(e,t){for(var n=function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)};(e=e.parentElement)&&!n(e,t););return e}},{key:"hasClosest",value:function(e,t){if(e===t)return!0;if(void 0===t)return!1;for(var n=[],r=e.parentNode;r!==t&&r.parentNode;){var a=r;n.push(a),r=a.parentNode}return r===t}},{key:"getSelectorsElements",value:function(t){if(!t||t&&""===t.trim())return[document];for(var n=[],r=t.split(",").map(function(e){return e.trim()}),a=0,i=(r=e.uniqueArray(r)).length;a<i;a++)if("document"===r[a])n.push(document);else{var s=[].slice.call(document.querySelectorAll(r[a]));n=n.concat(s)}return n}},{key:"uniqueArray",value:function(e){for(var t,n=[],r={},a=0,i=e.length;a<i&&null!==(t=e[a]);a++)r[t]||(n.push(t),r[t]=!0);return n}},{key:"extendOnOff",value:function(e){if(0===e.length)return null;var t=function(e,t,n){this.namespaces||(this.namespaces={}),this.namespaces[e]=t;var r=n||!1;return this.addEventListener(e.split(".")[0],t,r),this},n=function(e){return this.removeEventListener(e.split(".")[0],this.namespaces[e]),delete this.namespaces[e],this};return e.isExtendOnOff||(e.on=Element.prototype.on=t,e.off=Element.prototype.off=n,e.isExtendOnOff=!0),e}},{key:"getElements",value:function(e){var t=[];return null==e?t=[]:e.jquery?t=e.get():e instanceof window.NodeList||e instanceof NodeList||e instanceof HTMLCollection?t=Array.prototype.slice.call(e):Array.isArray(e)?t=e.filter(function(e){return 1===e.nodeType||e.jquery}):1===e.nodeType?t=[e]:"string"==typeof e&&(t=document.querySelectorAll(e)),t}},{key:"getUrlQueryParams",value:function(e){for(var t={},n=(e?-1!==e.indexOf("?")?e.split("?")[1]:"":window.location.search.substring(1)).split("&"),r=0;r<n.length;r++){var a=n[r].split("=");a.length>1&&(t[a[0]]=a[1])}return t}},{key:"getScriptByName",value:function(e){var t=document.getElementsByTagName("script");if(e)for(var n=0;n<t.length;n++){var r=t.item(n);if(r.src&&r.src.split("?")[0].match(e))return r}return null}}]),e}(),p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="popupDismiss",r.isTap=void 0,r.isDelegated=n,r.attr={dataToggle:"data-toggle",dataTarget:"data-target",dataTargetParent:"data-target-parent",dataDismissScope:"data-dismiss-scope",dataToggleClass:"data-toggle-class",dataPopupHandler:"data-popup-handler",dataDismissHandler:"data-dismiss-handler",dataIsPopup:"data-isPopup",dataPopupDismiss:"data-popup-dismiss"},r._elements=e,r.popupEvent=r.popupEvent.bind(r),void 0===e?(r.isDelegated=!0,r.elements=[document.body]):r.elements=l.getElements(e),[].forEach.call(r.elements,function(e){return r.initElement(e)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"initElement",value:function(e){!this.isDelegated&&e.getAttribute(this.attr.dataToggle)!==this.name||e.getAttribute("data-"+this.name)===this.name||(e.setAttribute("data-"+this.name,this.name),e.addEventListener("click",this.popupEvent))}},{key:"popupTarget",value:function(e,t,n){var r=null;if(n){var a=l.findParent(t,n);a&&(r=a.querySelector(e))}else r="parent"===e?t.parentNode:document.querySelector(e);return r}},{key:"popupEvent",value:function(e){var n=e.target,r=this;if(n.getAttribute(this.attr.dataToggle)!==this.name&&(n=l.findParent(n,"["+this.attr.dataToggle+'="'+this.name+'"]')),n){var a=n.getAttribute(this.attr.dataDismissScope),i=l.getSelectorsElements(a),s={type:e.type,namespace:n.getAttribute(this.attr.dataTarget)+"-"+(new Date).getTime(),popupTrigger:n,popupTarget:this.popupTarget(n.getAttribute(this.attr.dataTarget),n,n.getAttribute(this.attr.dataTargetParent)),toggledClass:n.getAttribute(this.attr.dataToggleClass)||null,popupHandler:n.getAttribute(this.attr.dataPopupHandler)||null,dismissHandler:n.getAttribute(this.attr.dataDismissHandler)||null,dismissScopes:i};"true"!==s.popupTarget.getAttribute(this.attr.dataIsPopup)?(this.monitorTap(),s.toggledClass&&((0,o.addClass)(s.popupTrigger,s.toggledClass),(0,o.addClass)(s.popupTarget,s.toggledClass)),s.popupTarget.setAttribute(this.attr.dataIsPopup,"true"),s.dismissScopes.forEach(function(t){l.extendOnOff(t).on(s.type+"."+s.namespace,function(t){if(e!==t){var n={type:s.type,namespace:s.namespace,dismissTrigger:t.target,popupTrigger:s.popupTrigger,popupTarget:s.popupTarget,toggledClass:s.toggledClass,dismissHandler:s.dismissHandler,dismissScopes:s.dismissScopes};r.dismiss(n,!0)}})}),this._eventHandler(s.popupHandler,s.popupTarget),t.setBodyCursorInIOS("pointer")):(s.dismissTrigger=n,r.dismiss(s))}}},{key:"dismiss",value:function(e,n){var r=this;!1!==this.isTap&&(!n||!l.hasClosest(e.dismissTrigger,e.popupTrigger)&&this.isDismissTrigger(e.dismissTrigger,e.popupTarget)&&"true"===e.popupTarget.getAttribute(this.attr.dataIsPopup))&&(e.toggledClass&&((0,o.removeClass)(e.popupTrigger,e.toggledClass),(0,o.removeClass)(e.popupTarget,e.toggledClass)),e.popupTarget.setAttribute(this.attr.dataIsPopup,"false"),e.dismissScopes.forEach(function(t){t.off(e.type+"."+e.namespace,function(){return r.dismiss(e,!0)})}),this._eventHandler(e.dismissHandler,e.popupTarget),t.setBodyCursorInIOS("default"))}},{key:"monitorTap",value:function(){var e=this,t={},n={};function r(n){e.isTap=!1,t.x=n.pageX,t.y=n.pageY}this.isTap=void 0,document.body.addEventListener("mousedown",r),document.body.addEventListener("mouseup",function a(i){n.x=i.pageX;n.y=i.pageY;Math.abs(n.x-t.x)<5&&Math.abs(n.y-t.y)<5&&(e.isTap=!0,document.body.removeEventListener("mousedown",r),document.body.removeEventListener("mouseup",a))})}},{key:"isDismissTrigger",value:function(e,t){if(l.hasClosest(e,t)){var n=e.getAttribute(this.attr.dataPopupDismiss),r=void 0;if("false"===n||"true"===n)return"true"===n;if(r=l.findParent(e,"["+this.attr.dataPopupDismiss+'="false"]')){var a=l.findParent(e,"["+this.attr.dataPopupDismiss+'="true"]');return!!a&&l.hasClosest(a,r)}}return!0}},{key:"destroy",value:function(){var e=this;[].forEach.call(this.elements,function(t){delete t["data-"+e.name],t.removeEventListener("click",e.popupEvent)}),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var s=a.get;return void 0!==s?s.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_eventHandler",value:function(e,t){null!==e&&(e in window?window[e](t):this.trigger(e,t))}}],[{key:"setBodyCursorInIOS",value:function(e){if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=document.querySelector("body"),n=parseInt(t.getAttribute("popup-count")||"0",10);"pointer"===e?1==++n&&(t.style.cursor=e):"default"===e&&--n&&(t.style.cursor=e),t.setAttribute("popup-count",n.toString())}}}]),t}();window.popupDismiss=function(e){return console.warn("popupDismiss.min.js: [Deprecation] popupDismiss() is deprecated. Please use new PopupDismiss(elements) instead."),new p(e)},window.popupDismissDelegate=function(e){return console.warn("popupDismiss.min.js: [Deprecation] popupDismissDelegate() is deprecated. Please use new PopupDismiss(elements, true) instead."),new p(e,!0)},function(){var e=l.getScriptByName("popupDismiss");if(e){var t=function(){window.popupDismisser=new p};"auto"===l.getUrlQueryParams(e.src).init&&("complete"!==document.readyState?document.addEventListener("DOMContentLoaded",t):t())}else console.warn('popupDismiss.min.js: [Notice] PopupDismiss auto-initialization failed with compatibility issue if import with "[url]?init=auto"!')}(),t.default=p,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cache={},this._unread={}}return r(e,[{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._cache[e]||(this._cache[e]=[]),"function"!=typeof t)throw new Error("Your listen on "+t+" is not one valid function!");this._cache[e][r?"unshift":"push"](t);var i=this._unread[e];return i&&(i.forEach(function(t){n.trigger.apply(n,[e].concat(a(t)))}),this._unread[e]=[],delete this._unread[e]),this}},{key:"off",value:function(e,t){var n=this._cache[e];if(void 0!==n&&0!==n.length){var r=n.indexOf(t);r>=0&&this._cache[e].splice(r,1)}return t||delete this._cache[e],this}},{key:"once",value:function(e,t){var n=this;this.on(e,function(){t.call.apply(t,[n].concat(Array.prototype.slice.call(arguments))),n.off(e)})}},{key:"trigger",value:function(e){var t=this;[].shift.call(arguments);var n=[].slice.call(arguments),r=this._cache[e];return r?r.forEach(function(e){e.call.apply(e,[t].concat(a(n)))}):(this._unread[e]=this._unread[e]||[],this._unread[e].push(arguments)),this}},{key:"destroy",value:function(){var e=this;Object.keys(this._cache).forEach(function(t){return delete e._cache[t]}),Object.keys(this._unread).forEach(function(t){return delete e._unread[t]})}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),document.createElement("div").classList||(this.has=this._has,this.add=this._add,this.remove=this._remove,this.toggle=this._toggle)}return a(e,[{key:"has",value:function(e,t){return e.classList.contains(t)}},{key:"_has",value:function(e,t){return new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"add",value:function(e,t){return this._addRemoveClassList(e,t,!0)}},{key:"remove",value:function(e,t){return this._addRemoveClassList(e,t,!1)}},{key:"_add",value:function(e,t){return this._addRemoveClassName(e,t,!0)}},{key:"_remove",value:function(e,t){return this._addRemoveClassName(e,t,!1)}},{key:"toggle",value:function(e,t){var n=e.length?e:[e];return[].forEach.call(n,function(e){return e.classList.toggle(t)})}},{key:"_toggle",value:function(e,t){return this._addRemoveClassName(e,t)}},{key:"_addRemoveClassList",value:function(e,t,n){var r=e.length?e:[e];return[].forEach.call(r,function(e){return e.classList[n?"add":"remove"](t)})}},{key:"_addRemoveClassName",value:function(e,t,n){var r=this,a=e.length?e:[e];return[].forEach.call(a,function(e){var a=r.has(e,t);a!==n&&(a?e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "):e.className+=" "+t)})}}]),e}(),s=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":r(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":r(e))&&1===e.nodeType&&"string"==typeof e.nodeName},o={get:function(e,t,n){return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(!s(r[0]))throw new Error('element: "'+r[0]+'" should be an HTMLElement.');if("string"!=typeof r[1]||""===r[1])throw new Error('className: "'+r[1]+'" should be an non-empty string.');return e[t].apply(this,r)}}},u=new Proxy(new i,o),l=u.has.bind(u),p=u.add.bind(u),c=u.remove.bind(u),d=u.toggle.bind(u);t.hasClass=l,t.addClass=p,t.removeClass=c,t.toggleClass=d}]);
//# sourceMappingURL=popupDismiss.min.js.map