{"version":3,"sources":["webpack://YX/webpack/bootstrap","webpack://YX/./app/util/Tool.js","webpack://YX/./app/util/Array.js","webpack://YX/./app/util/Device.js","webpack://YX/./app/util/Load.js","webpack://YX/./app/util/URL.js","webpack://YX/./app/YX.js","webpack://YX/./app/util/Algorithm.js","webpack://YX/./app/util/AnimateElement.js","webpack://YX/./app/util/AnimateTiming.js","webpack://YX/./app/util/Browser.js","webpack://YX/./app/util/Element.js","webpack://YX/./app/components/ClassName.js","webpack://YX/./app/util/Event.js","webpack://YX/./app/util/HTML.js","webpack://YX/./app/util/IS.js","webpack://YX/./app/util/Math.js","webpack://YX/./app/util/Navigator.js","webpack://YX/./app/util/Page.js","webpack://YX/./app/util/Plugin.js","webpack://YX/./app/util/RegExp.js","webpack://YX/./app/util/String.js","webpack://YX/./app/components/Event.js","webpack://YX/./app/components/WebWorker.js","webpack://YX/./app/components/SharedWorkers.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","copyElementToClipboard","copiedElement","callback","range","document","createRange","selectNode","selection","window","getSelection","removeAllRanges","addRange","msg","execCommand","console","log","err","fnStyle","STYLES","FORMAT","consoleLog","debug","fnNameMatcher","fnName","str","regexResult","exec","logLines","Error","stack","split","table","_console","_console2","callerName","keys","length","lastType","groupEnd","group","_len2","arguments","messages","Array","_key2","apply","concat","getCallbackName","typeName","debounce","func","wait","undefined","immediate","timer","context","args","later","setTimeout","clearTimeout","_len","params","_key","this","throttle","options","result","timeout","previous","leading","_","now","remaining","trailing","copyStringToClipboard","copiedString","element","bodyBackground","body","style","background","dom","id","createElement","setAttribute","innerHTML","appendChild","addDomToBody","removeChild","method","_this","Promise","resolve","callers","isArray","callMethod","thisArg","caller","shift","self","_toConsumableArray","timeChunk","ary","fn","count","array","setInterval","clearInterval","Math","min","start","setCallback","typeCallback","data","deepExtend","out","obj","_typeof","Date","parameterArrayToItem","param1","param2","param2IsArray","param2ArrayLength","param2Item","anchorSmoothScroll","selectorNot","$anchors","$","not","forEach","selector","click","event","location","pathname","replace","hostname","target","hash","slice","preventDefault","animate","scrollTop","offset","top","documentElement","findIndex","item","isObject","comparedValue","arrayItemValue","uniqueArray","sourceArray","elem","resultArray","push","find","index","splice","findObject","spliceItem","getArrayString","map","arrayItem","JSON","stringify","toString","join","isIOS","test","navigator","userAgent","MSStream","_URL","_Tool","getUrlTypeInfo","url","fileExtensionName","getFileNameFromURL","extensionName","js","tagName","urlAttrName","loadFn","loadScript","loadFnPromise","loadScriptWithPromise","css","loadCSS","loadCSSWithPromise","info","urlParam","callbackParam","script","isSuccess","libName","type","attributes","attr","onerror","readyState","onreadystatechange","onload","src","createComment","reject","checkResourceLoaded","link","rel","href","getElementsByTagName","error","loadResource","typeSelector","querySelectorAll","scriptElement","indexOf","loadUrls","urls","unLoadedResourcesInfo","filter","resource","resourceInfo","resourcePromise","all","then","catch","getScript","isResourceLoaded","prior","isIE9","documentMode","intervalId","isAbort","parentNode","insertBefore","getStyle","loadResources","String","getFileContent","XDomainRequest","xdr","responseText","open","send","xdrGetRequest","request","XMLHttpRequest","status","xmlHTTPGetRequest","getFileContentWithAjax","ajax","success","getResources","resourcesPromise","urlInfo","getURLParamByName","search","URLSearchParams","URL","searchParams","reg","RegExp","decodeURIComponent","substring","match","unescape","getUrlQueryParams","query","queryParams","queryParam","getQueryParamValue","param","getCurrentScript","scriptName","allScripts","currentScript","removeUrlParam","filteredParams","targetSearch","urlItems","getQueryPramsString","fileNameSplit","pop","simpleBaseName","baseName","getCurrentScriptParameter","getCurrentScriptPath","getRootPath","pathName","substr","lastIndexOf","getScriptName","source","lastStackFrameRegex","currentStackFrameRegex","trim","getCurrentScriptSrc","scripts","isExist","querySelector","removedLocationUrlParam","removedParamUrl","history","pushState","title","algorithm","animateElement","animateTiming","browser","device","html","is","load","math","page","plugin","regExp","string","tool","YX","Util","WebWorker","SharedWorkers","Event","shuffle","arr","size","randomIndex","floor","random","elShow","el","display","nodeType","elHide","elToggle","ownerDocument","defaultView","getComputedStyle","elFadeIn","ms","complete","opacity","timeoutUnit","elFadeOut","transition","addEventListener","elFadeTo","elFadeToggle","_el$ownerDocument$def","elSlideToggle","_el$ownerDocument$def2","height","parseInt","getAttribute","elAnimate","speed","TIMINGS","LINEAR","timeFraction","QUAD","quad","QUAD_EASE_OUT","makeEaseOut","QUAD_EASE_IN_OUT","makeEaseInOut","CIRC","circ","CIRC_EASE_OUT","CIRC_EASE_IN_OUT","BACK","back","BACK_EASE_OUT","BACK_EASE_IN_OUT","BOUNCE","bounce","BOUNCE_EASE_OUT","BOUNCE_EASE_IN_OUT","ELASTIC","elastic","ELASTIC_EASE_OUT","ELASTIC_EASE_IN_OUT","pow","sin","acos","x","a","b","cos","PI","timing","_ref","_ref$draw","draw","_ref$value","_ref$duration","duration","_ref$timing","performance","requestAnimationFrame","time","progress","_Device","isSafari","isMobileSafari","_ClassName","_Array","findParent","parentElement","matches","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","convertNodeListToArray","nodeList","hasClass","addClass","removeClass","toggleClass","getElements","elements","resultElement","jquery","NodeList","HTMLCollection","getSelectorsElements","selectorString","selectorsElements","selectorsArray","selectorStringItem","scopeNodeList","closest","className","hasClosest","parents","insertStyleToHead","cssText","head","styleSheet","createTextNode","createTagElement","tagInfo","tagElement","addElement","targetElement","addedElement","position","resultAddedElement","toLowerCase","firstChild","insertAdjacentHTML","outerHTML","previousElementSibling","nextElementSibling","nextSibling","ClassName","_classCallCheck","classList","has","_has","add","_add","remove","_remove","toggle","_toggle","contains","_addRemoveClassList","_addRemoveClassName","force","isElement","HTMLElement","nodeName","argumentsProxyHandler","propKey","receiver","Proxy","extendOnOff","events","opts","namespaces","removeEventListener","isExtendOnOff","on","Element","off","delegate","eventName","handler","possibleTargets","bindClickIgnoreDrag","isBind","eventListenerName","mouseDownX","mouseDownY","mouseDownHandler","pageX","pageY","mouseUpMoveHandler","which","triggerEvent","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","mouseTouchTrack","infoCallback","touchStartBeginTime","lastEventType","trackEvent","onclick","ontouchstart","ontouchend","ontouchmove","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","notification","option","spopOption","showNotification","registration","noti","Notification","autoclose","onshow","close","permission","requestPermission","Plugin","spop","initTemplate","template","templateData","sourceData","dataValue","renderTemplate","templateDataFn","resultHtml","_toString","function","null","boolean","number","isWindow","isNumeric","isNaN","parseFloat","isFinite","isFunction","isEmptyObject","isPlainObject","constructor","isTypeOf","getType","isPrime","sqrt","isZHLanguage","browserLanguage","languages","some","language","scrollTo","to","perTick","scrollListToIndex","listFolder","toTopIndex","listItems","childNodes","scrollOffset","contentHeight","scrollToCenter","listItemHeight","offsetHeight","_Load","commonPath","spopScript","spopStyle","promiseArray","results","every","regExpG","expStr","isURL","escapeHTML","&","<",">","\"","'","titleCase","charAt","toUpperCase","escapeJS","_cache","_unread","isFirst","unReads","trigger","fns","that","_this2","cacheFns","_this3","Worker","workerUrl","worker","onMessage","onError","errorCallback","alert","onmessage","e","_e$data","postMessage","terminate","instance","SharedWorker","port","message","postData"],"mappings":"mBACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QA0DA,OArDAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,2ZCmCA,SAASC,EAAuBC,EAAeC,GAC9C,IAAIC,EAAQC,SAASC,cACrBF,EAAMG,WAAWL,GAEjB,IAAIM,EAAYC,OAAOC,eACvBF,EAAUG,kBACVH,EAAUI,SAASR,GAEnB,IAEC,IACES,EADeR,SAASS,YAAY,QACjB,aAAe,eACpCC,QAAQC,IAAI,oBAAsBH,GAClCV,GAAYA,GAAS,GACpB,MAAOc,GACRF,QAAQC,IAAI,wBACZb,GAAYA,GAAS,GAItBK,EAAUG,kBA8HX,IAjDKO,EACEC,EAgBJC,EAgCGC,GAjDDH,EAAU,GACRC,EAAS,CACZ,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,+BACA,gCACA,mCAEDC,EAAS,OACJ,WAEN,IAAqB,IAAjBX,OAAOa,MAAiB,CAC3B,IAAMC,EAAgB,yBAChBC,EAAS,SAAUC,GACxB,IAAMC,EAAcH,EAAcI,KAAKF,GACvC,OAAOC,EAAY,IAAMA,EAAY,IAEhCE,GAAY,IAAIC,OAAQC,MAAOC,MAAM,MAAMhB,QAAQiB,MAAMJ,GAC/D,IAYyBK,EAElBC,EAdDC,EAAaX,EAAOI,EAAS,IAE9BV,EAAQiB,KACZjB,EAAQiB,GAAchB,EAAOxC,OAAOyD,KAAKlB,GAASmB,OAASlB,EAAOkB,SAG/DnB,EAAQoB,WAAaH,IACxBpB,QAAQwB,WACRxB,QAAQyB,MAAML,GACdjB,EAAQoB,SAAWH,GAhBO,QAAAM,EAAAC,UAAAL,OAFTM,EAESC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAFTF,EAESE,GAAAH,UAAAG,GAwB3B,OALmB,OAAfV,GACHF,EAAAlB,SAAQC,IAAR8B,MAAAb,EAAA,CAAYb,EAAQF,EAAQiB,GAAgBA,EAA5C,KAAAY,OAA8DJ,KAE9DT,EAAAnB,SAAQC,IAAR8B,MAAAZ,EAAeS,GAETR,KA4BV,SAASa,EAAgBC,GACxB,OAAOA,EAAW,aAsFlBC,SA1WD,SAAkBC,GAAmC,IAA7BC,EAA6BV,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAtB,GAAIY,IAAkBZ,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,KAAAA,UAAA,GAChDa,SAAOC,SAASC,SAGdC,EAAQ,kBAAMC,WAAW,WAE9BJ,EAAQ,KAGHD,IACJH,EAAKL,MAAMU,EAASC,GACpBD,EAAUC,EAAO,OAEhBL,IAGH,OAAO,WAEN,GAAKG,EAaJK,aAAaL,GACbA,EAAQG,QAdG,CACXH,EAAQG,IADG,QAAAG,EAAAnB,UAAAL,OAFOyB,EAEPlB,MAAAiB,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAFOD,EAEPC,GAAArB,UAAAqB,GAIPT,EACHH,EAAKL,MAAMkB,KAAMF,IAEjBN,EAAUQ,KACVP,EAAOK,QAiVVG,SAzTD,SAAkBd,EAAMC,EAAMc,GAC7B,IAAIV,SAASC,SAAMU,SACfC,EAAU,KAEVC,EAAW,EAEVH,IAASA,EAAU,IAExB,IAAIR,EAAQ,WAGXW,GAA+B,IAApBH,EAAQI,QAAoB,EAAIC,EAAEC,MAE7CJ,EAAU,KACVD,EAAShB,EAAKL,MAAMU,EAASC,GACxBW,IAASZ,EAAUC,EAAO,OAEhC,OAAO,WAEN,IAAIe,EAAMD,EAAEC,MAKPH,IAAgC,IAApBH,EAAQI,UAAmBD,EAAWG,GAEvD,IAAIC,EAAYrB,GAAQoB,EAAMH,GA0B9B,OAzBAb,EAAUQ,KACVP,EAAOf,UASH+B,GAAa,GAAKA,EAAYrB,GAE7BgB,IACHR,aAAaQ,GACbA,EAAU,MAEXC,EAAWG,EACXL,EAAShB,EAAKL,MAAMU,EAASC,GACxBW,IAASZ,EAAUC,EAAO,OACpBW,IAAgC,IAArBF,EAAQQ,WAI9BN,EAAUT,WAAWD,EAAOe,IAEtBN,MAsQRlE,2BACA0E,sBA5OD,SAA+BC,EAAczE,GAC5C,IAW2B0E,EAXvBC,EAAiBzE,SAAS0E,KAAKC,MAAMC,WAevC/E,EAde,SAACgF,EAAKC,GACpB,IAAIjF,EAAgBG,SAAS+E,cAAc,OAO3C,OANAD,GAAMjF,EAAcmF,aAAa,KAAMF,GAEvCjF,EAAcoF,UAAYJ,EAC1B7E,SAAS0E,KAAKQ,YAAYrF,GAE1BG,SAAS0E,KAAKC,MAAMC,WAAa,cAC1B/E,EAMQsF,CAAaZ,GAC/B3E,EAAuBC,EAAeC,GALX0E,EAML3E,EALnBG,SAAS0E,KAAKU,YAAYZ,GAC1BxE,SAAS0E,KAAKC,MAAMC,WAAaH,KA+NpC1G,KAlND,SAAcsH,EAAQ5B,GAAQ,IAAA6B,EAAA3B,KAU7B,OAAO,IAAI4B,QAAQ,SAACC,GACnB,IAAIC,EAAUJ,EAAO3D,MAAM,KAC3B+B,EAASlB,MAAMmD,QAAQjC,GAAUA,EAAS,CAACA,GAE3C+B,EAbgB,SAAbG,EAAcF,EAASG,GAC1B,IAAIC,EAASJ,EAAQK,QAMrB,OAJAF,GADAA,EAAUA,GAAqBG,MAAQT,GAAQlF,QAC7ByF,GACdJ,EAAQzD,OAAS,IACpB4D,EAAUD,EAAWF,EAASG,IAExBA,EAKMD,CAAWF,GAAXhD,WAAAO,EAAAgD,EAAuBvC,UAsMrCwC,UA1LD,SAAmBC,EAAKC,EAAIC,GAC3B,IAAIlD,EAAQ,KACVmD,cAAYH,IAMd,OAAO,WACNhD,EAAQoD,YAAY,WACnB,GAAqB,IAAjBD,EAAMrE,OACT,OAAOuE,cAAcrD,IARd,WACP,IAAK,IAAItF,EAAI,EAAGA,EAAI4I,KAAKC,IAAIL,GAAS,EAAGC,EAAMrE,QAASpE,IACvDuI,EAAGE,EAAMP,SAQXY,IACE,SA6KJ1F,eACA2F,YA9GD,SAAqB/D,GACpB,IAAIgE,EAAejE,EAAgBC,GACnC,OAAKxC,OAAOwG,GAML,MALNxG,OAAOwG,GAAgB,SAAUC,GAChCzG,OAAOwC,GAAYiE,GAEbD,MAyGRjE,oBACAmE,WAtFD,SAASA,EAAWC,GAEnBA,EAAMA,GAAO,GAEb,IAAK,IAAInJ,EAAI,EAAGA,EAAIyE,UAAUL,OAAQpE,IAAK,CAC1C,IAAIoJ,EAAM3E,UAAUzE,GAEpB,GAAKoJ,EAGL,IAAK,IAAI7H,KAAO6H,EACXA,EAAIvH,eAAeN,KACE,WAApB8H,EAAOD,EAAI7H,KACG,OAAb6H,EAAI7H,IACHoD,MAAMmD,QAAQsB,EAAI7H,KACjB6H,EAAI7H,aAAgB+H,MACP,aAAbF,EAAI7H,GAGV4H,EAAI5H,GAAO6H,EAAI7H,GAFf4H,EAAI5H,GAAO2H,EAAWC,EAAI5H,GAAM6H,EAAI7H,KAMxC,OAAO4H,KAgEPI,qBAvDD,SAA8BhB,EAAIiB,EAAQC,GAGzC,IAFA,IAAIC,EAAgB/E,MAAMmD,QAAQ2B,GAChCE,EAAoBD,GAAiBD,EAAOrF,QAAU,EAC/CpE,EAAI,EAAGoE,EAASoF,EAAOpF,OAAQpE,EAAIoE,EAAQpE,IAAK,CACxD,IAAI4J,EAAcF,GAAiB1J,EAAI2J,EAAqBF,EAAOzJ,GAAK,KACxEuI,GAAMA,EAAGiB,EAAOxJ,GAAI4J,OAmDrBC,mBA9CD,SAA6BC,GAC5B,IAAIC,EAAWC,EAAE,gBAAgBC,IAAI,cAAcA,IAAI,eAC5B,iBAAhBH,EAEVC,EAAWA,EAASE,IAAIH,GAEhBnF,MAAMmD,QAAQgC,IAEtBA,EAAYI,QAAQ,SAAAC,GACnBJ,EAAWA,EAASE,IAAIE,KAG1BJ,EAASK,MAAM,SAAUC,GACxB,GAAIC,SAASC,SAASC,QAAQ,MAAO,MAAQzE,KAAKwE,SAASC,QAAQ,MAAO,KAAOF,SAASG,WAAa1E,KAAK0E,SAC5G,CACC,IAAIC,EAASV,EAAEjE,KAAK4E,OACpBD,EAASA,EAAOtG,OAASsG,EAASV,EAAE,SAAWjE,KAAK4E,KAAKC,MAAM,GAAK,MACzDxG,SAEViG,EAAMQ,iBACNb,EAAE,cAAcc,QAAQ,CACvBC,UAAWL,EAAOM,SAASC,KACzB,YAyBNF,UAlBiB,WAChB3I,SAAS8I,iBAAmB9I,SAAS8I,gBAAgBH,WAAc3I,SAAS0E,KAAKiE,0SCrTnF,SAASI,EAAU1C,EAAO2C,EAAM7J,GAC/B,IAAI8J,EAA4B,iBAAhB,IAAOD,EAAP,YAAA/B,EAAO+B,OAAuB7J,EAC9C,GAAI8J,IAAaD,EAAK7J,GACrB,OAAQ,EAET,IAAI+J,EAAgBD,EAAWD,EAAK7J,GAAO6J,EACzCG,EAAiB,SAACjD,EAAKtI,EAAGuB,GACzB,OAAO+G,EAAItI,IAEVqL,IACHE,EAAiB,SAACjD,EAAKtI,EAAGuB,GACzB,OAAO+G,EAAItI,GAAGuB,KAIhB,IAAK,IAAIvB,EAAIyI,EAAMrE,OAAS,EAAGpE,GAAK,EAAGA,IACtC,GAAIuL,EAAe9C,EAAOzI,EAAGuB,KAAS+J,EACrC,OAAOtL,EAGT,OAAQ,IAiCRwL,YA3GD,SAAqBC,GAGpB,IADA,IACgBC,EADZC,EAAc,GAAIhB,EAAO,GACpB3K,EAAI,EAASC,EAAIwL,EAAYrH,OAAQpE,EAAIC,GAAiC,QAA3ByL,EAAOD,EAAYzL,IAAcA,IACnF2K,EAAKe,KACTC,EAAYC,KAAKF,GACjBf,EAAKe,IAAQ,GAGf,OAAOC,KAmGPE,KA/BD,SAAcpD,EAAOxH,EAAOM,GAC3B,IAAKkH,GAA0B,IAAjBA,EAAMrE,OACnB,OAAO,KAER,IAAI8B,EAAS,KAQb,MAPA,GAAGgE,QAAQ/J,KAAKsI,EAAO,SAAC2C,EAAMU,IACzBV,IAASnK,GAAYM,GAAO6J,EAAK7J,KAASN,KAC7CwH,EAAQA,EAAM3D,OAAO2D,EAAMsD,OAAOD,EAAOrD,EAAMrE,OAAS0H,IACxD5F,EAASkF,KAIJlF,KAoBPiF,cACAa,WA3ED,SAAoBvD,EAAOlH,EAAKN,GAC/B,GAAqB,IAAjBwH,EAAMrE,SAAiB7C,IAAQN,EAClC,OAAO,KAER,IAAK,IAAIjB,EAAIyI,EAAMrE,OAAS,EAAGpE,GAAK,EAAGA,IACtC,GAAIyI,EAAMzI,GAAGuB,KAASN,EACrB,OAAOwH,EAAMzI,GAGf,OAAO,QAmEPiM,WAbD,SAAoBxD,EAAO2C,GAC1B,IAAIU,EAAQX,EAAU1C,EAAO2C,GAC7B,OAAe,IAAXU,EACIrD,EAEDA,EAAMsD,OAAOD,EAAO,MAS3BI,eA/FD,SAASA,EAAezD,GACvB,MAAO,GAAG0D,IAAIhM,KAAKsI,EAAO,SAAU2D,GAMnC,OALIzH,MAAMmD,QAAQsE,GACjBA,EAAY,IAAMF,EAAeE,GAAa,IACf,iBAArB,IAAOA,EAAP,YAAA/C,EAAO+C,MACjBA,EAAYC,KAAKC,UAAUF,IAErBA,EAAUG,aACfC,KAAK,wFCxBRC,MALa,WACb,MAAO,mBAAmBC,KAAKC,UAAUC,aAAepK,OAAOqK,oTCFhE,IAAAC,EAAAlN,EAAA,GACAmN,EAAAnN,EAAA,GAOA,SAASoN,EAAeC,GAEvB,IAAIC,GAAoB,EAAAJ,EAAAK,oBAAmBF,GAAKG,cAChD,OAAIF,EACW,CACbG,GAAM,CACL9M,KAAM,KACN+M,QAAS,SACTC,YAAa,MACbC,OAAQC,EACRC,cAAeC,GAEhBC,IAAO,CACNrN,KAAM,MACN+M,QAAS,OACTC,YAAa,OACbC,OAAQK,EACRH,cAAeI,IAGFZ,GAET,KAUR,SAASO,EAAWR,EAAK/K,EAAUqD,EAASwI,GAC3C,GAAKd,EAGL,GAAItI,MAAMmD,QAAQmF,IAEjB,EAAAF,EAAAxD,sBAAqB,SAAUyE,EAAUC,GACxCR,EAAWO,EAAUC,EAAe1I,EAASwI,IAC3Cd,EAAK/K,OACF,CACN,IAAIgM,EAAS9L,SAAS+E,cAAc,UAClCgH,GAAY,EACZC,EAAUL,GAAQA,EAAA,QAAkBA,EAAA,SAAkB,EAAAjB,EAAAK,oBAAmBF,GAAK1M,KAIhF,GAHA2N,EAAOG,KAAO,kBACdN,GAAQA,EAAA,SAAmBG,EAAO9G,aAAa,QAAS,IAEpD2G,GAAQA,EAAKO,WAChB,IAAK,IAAIC,KAAQR,EAAKO,WACjBP,EAAKO,WAAWzM,eAAe0M,KAClCL,EAAO9G,aAAamH,EAAMR,EAAKO,WAAWC,IACjC,UAATA,GAAoBL,EAAO9G,aAAa,YAAa2G,EAAKO,WAAWC,KAKxEL,EAAOM,QAAU,WAChBL,GAAY,EACZjM,IAAaqD,EAAUA,EAAQrD,KAAcA,EAASiM,KAEnDD,EAAOO,WACVP,EAAOQ,mBAAqB,WACD,WAAtBR,EAAOO,YAAiD,aAAtBP,EAAOO,aAC5CP,EAAOQ,mBAAqB,KAC5BhJ,WAAW,WACVyI,GAAajM,IAAaqD,EAAUA,EAAQrD,KAAcA,EAASiM,KACjE,KAILD,EAAOS,OAAS,WACfzM,IAAaqD,EAAUA,EAAQrD,KAAcA,EAASiM,KAIxDD,EAAOU,IAAM3B,EAEb7K,SAAS0E,KAAKQ,YAAYlF,SAASyM,cAAc,WAAaT,EAAU,aACxEhM,SAAS0E,KAAKQ,YAAY4G,IAS5B,SAASP,EAAsBV,EAAKoB,GACnC,OAAO,IAAI1G,QAAQ,SAAUC,EAASkH,GAChC7B,GACJ6B,EAAO,IAAIlL,MAAM,iBAEdmL,EAAoB9B,IACvBrF,GAAQ,GAGT,IAAIsG,EAAS9L,SAAS+E,cAAc,UAEpC+G,EAAOG,KAAOA,GAAc,kBAE5BH,EAAOM,QAAU,YACJ,EACZM,KAEGZ,EAAOO,WACVP,EAAOQ,mBAAqB,WACD,WAAtBR,EAAOO,YAAiD,aAAtBP,EAAOO,aAC5CP,EAAOQ,mBAAqB,KAC5BhJ,WAAW,WACVkC,GAAQ,IACN,KAILsG,EAAOS,OAAS,WACf/G,GAAQ,IAIVsG,EAAOU,IAAM3B,EAEb7K,SAAS0E,KAAKQ,YAAYlF,SAASyM,cAAc,YAAa,EAAA/B,EAAAK,oBAAmBF,GAAK1M,KAAO,aAC7F6B,SAAS0E,KAAKQ,YAAY4G,KAU5B,SAASL,EAAQZ,EAAK/K,EAAUqD,GAC/B,GAAK0H,EAGL,GAAItI,MAAMmD,QAAQmF,IAEjB,EAAAF,EAAAxD,sBAAqB,SAAUyE,EAAUC,GACxCJ,EAAQG,EAAUC,IAChBhB,EAAK/K,OACF,CACN,IAAI8M,EAAO5M,SAAS+E,cAAc,QAClC6H,EAAKC,IAAM,aACXD,EAAKX,KAAO,WACZW,EAAKE,KAAOjC,EACZ+B,EAAKL,OAAS,WACbzM,IAAaqD,EAAUA,EAAQrD,KAAcA,MAE9C8M,EAAKR,QAAU,WACd1L,QAAQC,IAAI,kBAAoBkK,IAGjC7K,SAAS+M,qBAAqB,QAAQ,GAAG7H,YAAYlF,SAASyM,cAAc,WAAY,EAAA/B,EAAAK,oBAAmBF,GAAK1M,KAAO,cACvH6B,SAAS+M,qBAAqB,QAAQ,GAAG7H,YAAY0H,IASvD,SAASlB,EAAmBb,GAC3B,OAAO,IAAItF,QAAQ,SAAUC,EAASkH,GAChC7B,GACJ6B,EAAO,IAAIlL,MAAM,iBAEdmL,EAAoB9B,IACvBrF,GAAQ,GAGT,IAAIoH,EAAO5M,SAAS+E,cAAc,QAClC6H,EAAKC,IAAM,aACXD,EAAKX,KAAO,WACZW,EAAKE,KAAOjC,EACZ+B,EAAKL,OAAS,WACb/G,GAAQ,IAEToH,EAAKR,QAAU,SAAUY,GACxBN,EAAO,IAAIlL,MAAMwL,KAGlBhN,SAAS+M,qBAAqB,QAAQ,GAAG7H,YAAYlF,SAASyM,cAAc,WAAY,EAAA/B,EAAAK,oBAAmBF,GAAK1M,KAAO,cACvH6B,SAAS+M,qBAAqB,QAAQ,GAAG7H,YAAY0H,KASvD,SAASK,EAAapC,EAAK/K,GACrB6M,EAAoB9B,GAGxB/K,GAAYA,IAFZ8K,EAAeC,GAAKO,OAAOrN,KAAK4F,KAAMkH,EAAK/K,GA2C7C,SAAS6M,EAAoB9B,GAC5B,IAAIoB,EAAOrB,EAAeC,GACxBqC,EAAejB,EAAA,SAAmB,QAKpC,OAAiC,IAJrB1J,MAAM/C,UAAUgJ,MAAMzK,KAAKiC,SAASmN,iBAAiBD,IAC5DnD,IAAI,SAAUqD,GACd,OAAOA,EAAcnB,EAAA,eAEXoB,QAAQxC,GAQxB,SAASyC,EAASC,EAAMzN,GACvB,IAAI0N,EAAwBD,EAAKE,OAAO,SAAU5C,GACjD,OAAQ8B,EAAoB9B,KAC1Bd,IAAI,SAAU2D,GAChB,IAAIC,EAAe/C,EAAe8C,GAElC,OADAC,EAAa9C,IAAM6C,EACZC,IAGR,GAAuB,oBAAZpI,UAA4E,IAAjDA,QAAQ4E,WAAWkD,QAAQ,iBAAyB,CACzF,IAAIO,EAAkBJ,EAAsBzD,IAAI,SAAU4D,GACzD,OAAOA,EAAarC,cAAcvN,KAAK4F,KAAMgK,EAAa9C,OAE3DtF,QAAQsI,IAAID,GAAiBE,KAAK,WACjChO,GAAYA,MACViO,MAAM,SAAUf,GAClBtM,QAAQC,IAAI,6BAA+BqM,UAG5CQ,EAAsB1F,QAAQ,SAAU6F,GACvCA,EAAavC,OAAOrN,KAAK4F,KAAMgK,EAAa9C,OAE7C/K,GAAYA,IAgFd,IAAMkO,EAAY,SAACnD,GAClB,OAAO,IAAItF,QAAQ,SAACC,EAASkH,GACxBuB,iBAAiBpD,IACpBrF,GAAQ,GAET,IAAIsG,EAAS9L,SAAS+E,cAAc,UAClCmJ,EAAQlO,SAAS+M,qBAAqB,UAAU,GAChDoB,EAAmC,IAA1BnO,SAASoO,aAClBC,SAOFvC,EAAOS,OAAST,EAAOQ,mBAAqBR,EAAOM,QAAU,SAAUlI,EAAGoK,GACrEpK,GAAgB,UAAXA,EAAE+H,MACNoC,IACH9K,aAAa8K,GACbA,EAAa,MAEdvC,EAAOS,OAAST,EAAOQ,mBAAqBR,EAAOM,QAAU,KAC7DN,OAAS9I,EACT0J,EAAO,IAAIlL,MAAJ,eAAyBqJ,MACtByD,GAAYxC,KAAYA,EAAOO,YAAc,kBAAkB/B,KAAKwB,EAAOO,gBACjFgC,IACH9K,aAAa8K,GACbA,EAAa,MAEdvC,EAAOS,OAAST,EAAOQ,mBAAqB,KACvC6B,IACJrC,EAAOM,QAAU,MAIdkC,GACCxC,EAAOyC,YACVzC,EAAOyC,WAAWnJ,YAAY0G,KAI3B9L,SAASoO,cAAgBpO,SAASoO,cAAgB,MACtDtC,OAAS9I,GAGLmL,EAGJ7K,WAAW,YACTgL,GAAW9I,GAAQ,IAClB,IAJF8I,GAAW9I,GAAQ,KASvBsG,EAAOU,IAAM3B,EACbqD,EAAMK,WAAWC,aAAa1C,EAAQoC,GAGrCG,EAAa/K,WAAW,WAEvBwI,EAAOS,YAAOvJ,GAAW,GACzB0J,EAAO,IAAIlL,MAAJ,aAAuBqJ,KArDpB,QA2DR4D,EAAW,SAAC5D,GACjB,OAAO,IAAItF,QAAQ,SAAUC,EAASkH,GAChC7B,GACJ6B,EAAO,IAAIlL,MAAM,iBAEdyM,iBAAiBpD,IACpBrF,GAAQ,GAGT,IAAIoH,EAAO5M,SAAS+E,cAAc,QAClC6H,EAAKC,IAAM,aACXD,EAAKX,KAAO,WACZW,EAAKE,KAAOjC,EACZ+B,EAAKL,OAAS,WACb/G,GAAQ,IAEToH,EAAKR,QAAU,SAAUY,GACxBN,EAAO,IAAIlL,MAAMwL,KAGlBhN,SAAS+M,qBAAqB,QAAQ,GAAG7H,YAAYlF,SAASyM,cAAc,WAAY,EAAA/B,EAAAK,oBAAmBF,GAAK1M,KAAO,cACvH6B,SAAS+M,qBAAqB,QAAQ,GAAG7H,YAAY0H,QAsBtDvB,eACAE,0BACAE,YACAC,uBACAuB,iBACAyB,cAzQD,SAAuBnB,EAAMzN,GACf,OAATyN,GAA0B,KAATA,EAChBhL,MAAMmD,QAAQ6H,GAIG,KAHpBA,EAAOA,EAAKE,OAAO,SAAU5C,GAC5B,OAAQ8D,OAAO9D,KAASA,GAAe,KAARA,KAEvB7I,OACRlC,GAAYA,IACc,IAAhByN,EAAKvL,OACfiL,EAAaM,EAAK,GAAIzN,GAElBA,EACHwN,EAASC,EAAMzN,GAEfyN,EAAKxD,IAAI,SAAUc,GAClBoC,EAAapC,KAIN8D,OAAOpB,KAAUA,GAC3BN,EAAaM,EAAMzN,GAGpBA,GAAYA,OAmPb6M,wBACAW,aACAsB,eA7LD,SAAwB/D,EAAK/K,EAAUqD,GAClCnD,SAASoO,cAAgB,GAAKhO,OAAOyO,eAgBzC,SAAuBhE,EAAK/K,EAAUqD,GACrC,IAAI2L,EAAM,IAAID,eACVC,IACHA,EAAIvC,OAAS,WACZzM,IAAaqD,EAAUA,EAAQrD,GAAUgP,EAAIC,cAAgBjP,EAASgP,EAAIC,gBAE3ED,EAAI1C,QAAU,aAGd0C,EAAIE,KAAK,MAAOnE,GAChBiE,EAAIG,QAzBLC,CAAcrE,EAAK/K,EAAUqD,GAmC9B,SAA2B0H,EAAK/K,EAAUqD,GACzC,IAAIgM,EAAU,IAAIC,eAClBD,EAAQH,KAAK,MAAOnE,GAAK,GACzBsE,EAAQ5C,OAAS,WACZ4C,EAAQE,QAAU,KAAOF,EAAQE,OAAS,KAE7CvP,IAAaqD,EAAUA,EAAQrD,GAAUqP,EAAQJ,cAAgBjP,EAASqP,EAAQJ,gBAKpFI,EAAQ/C,QAAU,aAGlB+C,EAAQF,OA/CRK,CAAkBzE,EAAK/K,EAAUqD,MA0LlCoM,uBAjID,SAAgC1E,EAAK/K,EAAUqD,GAC9CyE,EAAE4H,KAAK,CACN3E,IAAKA,EACL4E,QAAS,SAAU5I,GAClB/G,IAAaqD,EAAUA,EAAQrD,GAAU+G,GAAQ/G,EAAS+G,UA8H5DmH,cACAS,aACAiB,aA9BoB,SAACnC,GACrB,IAMEoC,GANYpN,MAAMmD,QAAQ6H,GAAQA,EAAO,CAACA,IAClBxD,IAAI,SAACc,GAC5B,IAAI8C,EAAe/C,EAAeC,GAElC,OADA8C,EAAa9C,IAAMA,EACZ8C,IAEyB5D,IAAI,SAAA6F,GAEpC,OADgC,cAAnBA,EAAQxE,OAAyB4C,EAAYS,GAC5CmB,EAAQ/E,KAAKiD,KAAK,SAAChK,GAEhC,OADApD,QAAQC,IAAR,oBAAgCiP,EAAQ/E,KACjC/G,MAGX,OAAOyB,QAAQsI,IAAI8B,kCCxcpB,SAASE,EAAkB1R,GAAiC,IAA3B0M,EAA2BxI,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAArB6F,SAAS2C,IAAIiF,OAC7CC,gBACLrS,EAkNDmS,kBAlNCA,EAAoB,SAAC1R,EAAM0M,GAC1B,OAAO,IAAIkF,gBAAgBlF,GAAKpM,IAAIN,IAEzB6R,IACZtS,EA8MDmS,kBA9MCA,EAAoB,SAAC1R,EAAM0M,GAC1B,OAAO,IAAImF,IAAInF,GAAKoF,aAAaxR,IAAIN,IAGtCT,EA0MDmS,kBA1MCA,EAAoB,SAAC1R,EAAM0M,GAC1B,IAAMqF,EAAM,IAAIC,OAAO,QAAUhS,EAAO,iBAElC2R,GAAkC,IAAzBjF,EAAIwC,QAAQ,QAAiBxC,EAAInJ,MAAM,KAAK,GAAKmJ,EAChE,GAAIiF,EAAQ,CACX,IAAMpR,EAAI0R,mBAAmBN,EAAOpO,MAAM,KAAK,IAAI2O,UAAU,GAAGC,MAAMJ,GACtE,GAAIxR,EACH,OAAO6R,SAAS7R,EAAE,IAGpB,MAAO,IAGTmR,EAAkB1R,EAAM0M,GAQzB,SAAS2F,EAAkB3F,GAI1B,IAHA,IAAI4F,EAAQ,GAEVC,GADY7F,GAA6B,IAAtBA,EAAIwC,QAAQ,KAAcxC,EAAInJ,MAAM,KAAK,GAAK,GAAMwG,SAAS4H,OAAOO,UAAU,IACzE3O,MAAM,KAAK,GAAGA,MAAM,KACrC9D,EAAI,EAAGA,EAAI8S,EAAY1O,OAAQpE,IAAK,CAC5C,IAAI+S,EAAaD,EAAY9S,GAAG8D,MAAM,KAClCiP,EAAW3O,OAAS,IACvByO,EAAME,EAAW,IAAMP,mBAAmBO,EAAW,KAGvD,OAAOF,EAQR,SAASG,EAAmBC,GAC3B,OAAOhB,EAAkBgB,GAQ1B,SAASC,EAAiBC,GACzB,IAAIC,EAAahR,SAAS+M,qBAAqB,UAE/C,IAAIgE,EASH,OAAI/Q,SAASiR,cACLjR,SAASiR,cAETD,EAAWA,EAAWhP,OAAS,GAXvC,IAAK,IAAIpE,EAAI,EAAGA,EAAIoT,EAAWhP,OAAQpE,IAAK,CAC3C,IAAIkO,EAASkF,EAAWhI,KAAKpL,GAE7B,GAAIkO,EAAOU,KAAOV,EAAOU,IAAI9K,MAAM,KAAK,GAAG4O,MAAMS,GAChD,OAAOjF,EAUV,OAAO,KA8GR,SAASoF,EAAerG,EAAKgG,GAC5B,GAAMD,EAAmBC,GAAa,CACrC,IAAIM,EAAiB,GACnBC,EAAe,GAUjB,OAxBF,SAA6BvG,GAC5B,IAAI4F,EAAQ,GACZ,GAAK5F,EAEE,CACN,IAAIwG,EAAWxG,EAAInJ,MAAM,KACzB+O,EAAQY,EAASrP,OAASqP,EAAS,GAAK,QAHxCZ,EAAQrQ,OAAO8H,SAAS4H,OAAOO,UAAU,GAK1C,OAAOI,EAAM/O,MAAM,KAOlB4P,GACGxJ,QAAQ,SAAC2I,GACLA,EAAM/O,MAAM,KAAK,KAAOmP,GAC3BM,EAAe3H,KAAKiH,KAGpBU,EAAenP,SAClBoP,EAAe,IAAMD,EAAe/G,KAAK,MAEnCS,EAAInJ,MAAM,KAAK,GAAK0P,EAE5B,OAAOvG,qDAUPE,mBA7ND,SAA4BF,GAC3B,IAAI0G,EAAgB1G,EAAInJ,MAAM,KAAK8P,MAAM9P,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAC3E,MAAO,CACNvD,KAAMoT,EAAcnH,KAAK,KACzBqH,eAAgBF,EAAc,GAC9BvG,cAAeuG,EAAcvP,OAAS,EAAIuP,EAAcA,EAAcvP,OAAS,GAAK,GACpF0P,SAAUH,EAAcvP,OAAS,EAAIuP,EAAc5H,OAAO,EAAG4H,EAAcvP,OAAS,GAAGoI,KAAK,KAAOmH,EAAc,OAwNlH1B,sBACAW,sBACAI,uBACAE,qBACAa,0BArID,WACC,IAAIV,EAAgBH,OAAiB9N,GACrC,OAAOiO,EAAgBT,EAAkBS,EAAczE,KAAO,MAoI9DoF,qBA5HD,SAA8Bb,GAC7B,IAAIjF,EAASgF,EAAiBC,GAC9B,OAAOjF,EAASA,EAAOU,IAAM,MA2H7BqF,YApHD,WACC,IAAI/E,EAAO9M,SAASkI,SAAS4E,KAC3BgF,EAAW9R,SAASkI,SAASC,SAG/B,OAFkB2E,EAAKuD,UAAU,EAAGvD,EAAKO,QAAQyE,IACjCA,EAASzB,UAAU,EAAGyB,EAASC,OAAO,GAAGC,YAAY,KAAO,MAiH5EC,cAxGD,WACC,IAAIjF,EAAQ,IAAIxL,MACZ0Q,SACAC,EAAsB,IAAIhC,OAAO,yBACjCiC,EAAyB,IAAIjC,OAAO,sCAExC,OAAK+B,EAASC,EAAoB7Q,KAAK0L,EAAMvL,MAAM4Q,UAAyB,IAAbH,EAAO,GAC9DA,EAAO,IACLA,EAASE,EAAuB9Q,KAAK0L,EAAMvL,MAAM4Q,SACnDH,EAAO,QACgBlP,IAAtBgK,EAAA,SACDA,EAAA,cADH,KA+FLsF,oBAvFD,WACC,IAAIC,EAAUvS,SAAS+M,qBAAqB,UAC5C,OAAQ/M,SAASiR,eAAiBsB,EAAQA,EAAQvQ,OAAS,IAAIwK,OAsF/DgG,QA7ED,SAAiB3H,EAAK/K,EAAUqD,GAC/B,IAAIyJ,EAAO5M,SAAS+E,cAAc,QAChCgH,GAAY,EAEda,EAAKR,QAAU,WACdL,GAAY,EACZjM,IAAaqD,EAAUA,EAAQrD,KAAcA,EAASiM,KAEnDa,EAAKP,WACRO,EAAKN,mBAAqB,WACD,WAApBM,EAAKP,YAA+C,aAApBO,EAAKP,aACxCO,EAAKN,mBAAqB,KAC1BhJ,WAAW,WACVyI,GAAajM,IAAaqD,EAAUA,EAAQrD,KAAcA,EAASiM,KACjE,KAILa,EAAKL,OAAS,WACbzM,IAAaqD,EAAUA,EAAQrD,KAAcA,EAASiM,KAIxDa,EAAKE,KAAOjC,EAEZ+B,EAAKX,KAAO,WACZW,EAAKC,IAAM,aAEX7M,SAASyS,cAAc,QAAQvN,YAAY0H,MAkD3CsE,mBACAwB,wBAnBD,SAAiC7B,GAChC,IACE8B,EAAkBzB,EADF9Q,OAAO8H,SAAS4E,KACc+D,GAChDzQ,OAAOwS,QAAQC,UAAU,GAAI7S,SAAS8S,MAAOH,mFCzN9C,IAAYI,IAAZvV,EAAA,IACYwV,IAAZxV,EAAA,IACYyV,IAAZzV,EAAA,IACY6I,IAAZ7I,EAAA,IACY0V,IAAZ1V,EAAA,IACY2V,IAAZ3V,EAAA,IACYgH,IAAZhH,EAAA,KACYyK,IAAZzK,EAAA,KACY4V,IAAZ5V,EAAA,KACY6V,IAAZ7V,EAAA,KACY8V,IAAZ9V,EAAA,IACY+V,IAAZ/V,EAAA,KACY+M,IAAZ/M,EAAA,KACYgW,IAAZhW,EAAA,KACYiW,IAAZjW,EAAA,KACYkW,IAAZlW,EAAA,KACYmW,IAAZnW,EAAA,KACYoW,IAAZpW,EAAA,IACYqN,IAAZrN,EAAA,QAEAA,EAAA,SACAA,EAAA,SACAA,EAAA;;;;GAEA,IAAIqW,EAAK,CACRC,KAAM,CACLf,YACAC,iBACAC,gBACA5M,QACA6M,UACAC,SACA3O,UACAyD,QACAmL,OACAC,KACAC,OACAC,OACAhJ,YACAiJ,OACAC,SACAC,SACAC,SACAC,OACA/I,OAEDkJ,oBACAC,wBACA/L,MAAO,IAAIgM,qBAGGJ,uGCnCdK,QAbD,SAAiBC,EAAKC,GAElB,IADA,IAAItQ,EAAS,GACJlG,EAAI,EAAGA,EAAIwW,EAAMxW,IAAK,CAC3B,IAAMyW,EAAc7N,KAAK8N,MAAM9N,KAAK+N,UAAYJ,EAAInS,OAASpE,IACvDoL,EAAOmL,EAAIE,GACjBvQ,EAAO0F,KAAKR,GACZmL,EAAIE,GAAeF,EAAIA,EAAInS,OAAS,EAAIpE,GACxCuW,EAAIA,EAAInS,OAAS,EAAIpE,GAAKoL,EAE9B,OAAOlF,oFCuGV0Q,OAxHc,SAACC,GAA0B,IAAtBC,EAAsBrS,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAZ,QAEvBoS,GAAsB,IAAhBA,EAAGE,WAEdF,EAAG9P,MAAM+P,QAAUA,MAqHpBE,OAjHc,SAACH,GACTA,GAAsB,IAAhBA,EAAGE,WAEdF,EAAG9P,MAAM+P,QAAU,WA+GpBG,SA3GgB,SAACJ,GAA0B,IAAtBC,EAAsBrS,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAZ,QACzBoS,GAAsB,IAAhBA,EAAGE,WAE0D,SAApEF,EAAGK,cAAcC,YAAYC,iBAAiBP,EAAI,MAAMC,QAE3DD,EAAG9P,MAAM+P,QAAUA,EAInBD,EAAG9P,MAAM+P,QAAU,WAmGrBO,SA9FgB,SAACR,GAA2B,IAAvBS,EAAuB7S,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAlB,IAAK8S,EAAa9S,UAAA,GAC5C,GAAMoS,GAAsB,IAAhBA,EAAGE,SACf,CACCF,EAAG9P,MAAMyQ,QAAU,EAEnB,IAAIA,EAAU,EACZC,EAAc,GACVnS,EAAQoD,YAAY,YACzB8O,GAAW,GAAKF,IACD,IAEd3O,cAAcrD,GACdkS,EAAU,GAEXX,EAAG9P,MAAMyQ,QAAUA,EACfA,GAAW,GAEdD,GAAYA,EAASV,IAEpBY,OA4EJC,UAxEiB,SAACb,GAA2B,IAAvBS,EAAuB7S,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAlB,IAAK8S,EAAa9S,UAAA,GACvCoS,GAAsB,IAAhBA,EAAGE,WAEdF,EAAG9P,MAAM4Q,WAAT,WAAiCL,EAAjC,KACAT,EAAGe,iBACD,gBACA,SAACvN,GACAwM,EAAG9P,MAAM+P,QAAU,OACnBS,GAAYA,EAASV,KAEtB,GAEFA,EAAG9P,MAAMyQ,QAAU,MA6DpBK,SAzDgB,SAAChB,EAAIW,GAAsB,IAAbF,EAAa7S,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAR,IAC7BoS,GAAsB,IAAhBA,EAAGE,WAEdF,EAAG9P,MAAM4Q,WAAT,WAAiCL,EAAjC,KACAT,EAAG9P,MAAMyQ,QAAUA,MAsDpBM,aAlDoB,SAACjB,GAAiBpS,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,IAAAA,UAAA,GACtC,GAAMoS,GAAsB,IAAhBA,EAAGE,SACf,CACCF,EAAG9P,MAAM4Q,WAAa,kBADvB,IAAAI,EAEiBlB,EAAGK,cAAcC,YAAYC,iBAAiBP,EAAI,MAA7DW,EAFNO,EAEMP,QAGJX,EAAG9P,MAAMyQ,QAFM,MAAZA,EAEgB,EAIA,MAwCrBQ,cAnCqB,SAACnB,GAAiB,IAAbS,EAAa7S,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAR,IAC/B,GAAMoS,GAAsB,IAAhBA,EAAGE,SACf,CACCF,EAAG9P,MAAM4Q,WAAT,UAAgCL,EAAhC,KADD,IAAAW,EAEkBpB,EAAGK,cAAcC,YAAYC,iBAAiBP,EAAI,MAA5DqB,EAFRD,EAEQC,OACsB,IAAzBC,SAASD,EAAQ,IAEpBrB,EAAG9P,MAAMmR,OAASrB,EAAGuB,aAAa,gBAIlCvB,EAAGzP,aAAa,cAAkB8Q,EAAlC,MACArB,EAAG9P,MAAMmR,OAAS,WAwBpBG,UAnBiB,SAACxB,EAAIhR,EAAQyS,GACxBzB,GAAsB,IAAhBA,EAAGE,UAAoBlR,IAElCgR,EAAG9P,MAAM4Q,WAAT,OAA6BW,EAC7B5X,OAAOyD,KAAK0B,GAAQqE,QAAQ,SAAC3I,GAC5BsV,EAAG9P,MAAMxF,GAAOsE,EAAOtE,sFCjH1B,IAAMgX,EAAU,CACfC,OAwCD,SAAgBC,GAEf,OAAOA,GAzCPC,KAAMC,EACNC,cAAeC,EAAYF,GAC3BG,iBAAkBC,EAAcJ,GAChCK,KAAMC,EACNC,cAAeL,EAAYI,GAC3BE,iBAAkBJ,EAAcE,GAChCG,KAAMC,EACNC,cAAeT,EAAYQ,GAC3BE,iBAAkBR,EAAcM,GAChCG,OAAQC,EACRC,gBAAiBb,EAAYY,GAC7BE,mBAAoBZ,EAAcU,GAClCG,QAASC,EACTC,iBAAkBjB,EAAYgB,GAC9BE,oBAAqBhB,EAAcc,IA8BpC,SAASlB,EAAKF,GAEb,OAAO7P,KAAKoR,IAAIvB,EAAc,GAG/B,SAASQ,EAAKR,GAEb,OAAO,EAAI7P,KAAKqR,IAAIrR,KAAKsR,KAAKzB,IAG/B,SAASY,EAAKc,EAAG1B,GAEhB,OAAO7P,KAAKoR,IAAIvB,EAAc,KAAO0B,EAAI,GAAK1B,EAAe0B,GAG9D,SAASV,EAAOhB,GAEf,IAAK,IAAI2B,EAAI,EAAGC,EAAI,GAAcD,GAAKC,EAAGA,GAAK,EAE9C,GAAI5B,IAAiB,EAAI,EAAI2B,GAAK,GAEjC,OAAQxR,KAAKoR,KAAK,GAAK,EAAII,EAAI,GAAK3B,GAAgB,EAAG,GAAK7P,KAAKoR,IAAIK,EAAG,GAK3E,SAASR,EAAQM,EAAG1B,GAEnB,OAAO7P,KAAKoR,IAAI,EAAG,IAAMvB,EAAe,IAAM7P,KAAK0R,IAAI,GAAK1R,KAAK2R,GAAKJ,EAAI,EAAI1B,GAI/E,SAASI,EAAY2B,GAEpB,OAAO,SAAU/B,GAChB,OAAO,EAAI+B,EAAO,EAAI/B,IAIxB,SAASM,EAAcyB,GAEtB,OAAO,SAAU/B,GAChB,OAAIA,EAAe,GACX+B,EAAO,EAAI/B,GAAgB,GAE1B,EAAI+B,EAAO,GAAK,EAAI/B,KAAkB,KAKhDF,YACAzN,QA9ED,SAAA2P,GACA,IAAAC,EAAAD,EADkBE,YAClBvV,IAAAsV,EADyB,aACzBA,EAAAE,EAAAH,EADiCxZ,aACjCmE,IAAAwV,EADyC,EACzCA,EAAAC,EAAAJ,EAD4CK,gBAC5C1V,IAAAyV,EADuD,IACvDA,EAAAE,EAAAN,EAD6DD,cAC7DpV,IAAA2V,EADsExC,EAAA,OACtEwC,EACKjS,EAAQkS,YAAYzU,MAExB0U,sBAAsB,SAASnQ,EAAQoQ,GACtC,IAAIzC,GAAgByC,EAAOpS,GAASgS,EAChCrC,EAAe,IAElBA,EAAe,GAGhB,IAAI0C,EAAWX,EAAO/B,GAAgBxX,EAEtC0Z,EAAKQ,GAED1C,EAAe,GAElBwC,sBAAsBnQ,wHCrCzB,IAAAsQ,EAAAxb,EAAA,GAGMyb,EAAW,WAChB,QAAS1O,UAAUC,UAAU8F,MAAM,+BAQnC2I,aACAC,eANsB,WACtB,OAAOD,MAAc,EAAAD,EAAA3O,kTCRtB,IAAA8O,EAAA3b,EAAA,IACA4b,EAAA5b,EAAA,GA0DA,SAAS6b,EAAW7U,EAASuD,GAC5B,MAAQvD,EAAUA,EAAQ8U,iBAAmBC,EAAQ/U,EAASuD,KAE9D,OAAOvD,EASR,SAAS+U,EAAQ9E,EAAI1M,GACpB,OAAQ0M,EAAG8E,SAAW9E,EAAG+E,iBAAmB/E,EAAGgF,mBAAqBhF,EAAGiF,oBAAsBjF,EAAGkF,uBAAyBlF,EAAGmF,kBAAkB7b,KAAK0W,EAAI1M,GAiExJ,SAAS8R,EAAuBC,GAE/B,IADA,IAAIvQ,EAAc,GACT3L,EAAI,EAAGC,EAAIic,EAAS9X,OAAQpE,EAAIC,EAAGD,IAC3C2L,EAAY3L,GAAKkc,EAASlc,GAE3B,OAAO2L,IAyGPwQ,sBACAC,sBACAC,4BACAC,4BACAC,YAnPD,SAAqBC,GACpB,IAAIC,EAAgB,GAgBpB,OAfID,QACHC,EAAgB,GACND,EAASE,OACnBD,EAAgBD,EAASpY,OAAS,EAAIoY,EAAS3b,MAAQ,CAAC2b,EAAS,IACvDA,aAAoBha,OAAOma,UAAYH,aAAoBG,UAAYH,aAAoBI,eACrGH,EAAgB9X,MAAM/C,UAAUgJ,MAAMzK,KAAKqc,GACjC7X,MAAMmD,QAAQ0U,GACxBC,EAAgBD,EAAS3M,OAAO,SAAUjJ,GACzC,OAA4B,IAArBA,EAAQmQ,UAAkBnQ,EAAQ8V,SAEV,IAAtBF,EAASzF,SACnB0F,EAAgB,CAACD,GACa,iBAAbA,IACjBC,EAAgBra,SAASmN,iBAAiBiN,IAEpCC,KAmOPI,qBA3ND,SAA8BC,GAC7B,IAAKA,GAAmBA,GAA4C,KAA1BA,EAAerI,OACxD,MAAO,CAACrS,UAOT,IALA,IAAI2a,EAAoB,GACtBC,EAAiBF,EAAehZ,MAAM,KAAKqI,IAAI,SAAU8Q,GACxD,OAAOA,EAAmBxI,SAGpBzU,EAAI,EAAGC,GADhB+c,GAAiB,EAAAxB,EAAAhQ,aAAYwR,IACM5Y,OAAQpE,EAAIC,EAAGD,IACjD,GAA0B,aAAtBgd,EAAehd,GAClB+c,EAAkBnR,KAAKxJ,cACjB,CACN,IAAI8a,EAAgBjB,EAAuB7Z,SAASmN,iBAAiByN,EAAehd,KACpF+c,EAAoBA,EAAkBjY,OAAOoY,GAG/C,OAAOH,KA2MPtB,eACAE,YACAwB,QA9KD,SAAiBvW,EAASwW,GAOzB,OALI,EAAA7B,EAAAY,UAASvV,EAASwW,GACLxW,EAEA6U,EAAW7U,EAAS,IAAMwW,MA0K3CC,WA/JD,SAAoBxG,EAAI6E,GACvB,GAAI7E,IAAO6E,EACV,OAAO,EAER,QAAsBtW,IAAlBsW,EACH,OAAO,EAIR,IADA,IAAI4B,EAAU,GAAIxb,EAAI+U,EAAGlG,WAClB7O,IAAM4Z,GAAiB5Z,EAAE6O,YAAY,CAC3C,IAAIlQ,EAAIqB,EACRwb,EAAQ1R,KAAKnL,GACbqB,EAAIrB,EAAEkQ,WAEP,OAAO7O,IAAM4Z,KAkJbO,2BACAsB,kBA5GD,SAA2BC,EAAStW,GACnC,IAAIuW,EAAOrb,SAASqb,MAAQrb,SAAS+M,qBAAqB,QAAQ,GAChEpI,EAAQ3E,SAAS+E,cAAc,SAEjCJ,EAAMsH,KAAO,WACPnH,IACLH,EAAMG,GAAKA,GAERH,EAAM2W,WACT3W,EAAM2W,WAAWF,QAAUA,EAE3BzW,EAAMO,YAAYlF,SAASub,eAAeH,IAG3CC,EAAKnW,YAAYP,MA+FjB6W,iBAtFD,SAA0BtQ,EAASuQ,GAClC,IAAIC,EAAa1b,SAAS+E,cAAcmG,GAUxC,OARA5M,OAAOyD,KAAK0Z,EAAQtP,MAAMrE,QAAQ,SAAU3I,GAC3Cuc,EAAW1W,aAAa7F,EAAKsc,EAAQtP,KAAKhN,MAG3Cb,OAAOyD,KAAK0Z,EAAQ9W,OAAOmD,QAAQ,SAAU3I,GAC5Cuc,EAAW/W,MAAMxF,GAAOsc,EAAQ9W,MAAMxF,KAGhCuc,KA4EPC,WAlED,SAAoBC,EAAeC,EAAcC,GAChD,IAAIC,EAAqB,KACzB,GAAMH,GAAmBC,EACxB,OAAQC,GAAYA,EAASE,eAC5B,IAAK,UACEH,EAAalH,UAClBiH,EAAc3W,UAAY,GAC1B8W,EAAqBH,EAAc1W,YAAY2W,KAE/CD,EAAc3W,UAAY4W,EAC1BE,EAAqBH,EAAcK,YAEpC,MACD,IAAK,UACEJ,EAAalH,SAClBoH,EAAqBH,EAAcpN,aAAaqN,EAAcD,EAAcK,YAE5EL,EAAcM,mBAAmB,aAAcL,GAEhD,MACD,IAAK,eACEA,EAAalH,UAClBiH,EAAcM,mBAAmB,cAAeL,EAAaM,WAC7DJ,EAAqBH,EAAcQ,wBAE/BR,EAAcrN,YACjBqN,EAAcrN,WAAWC,aAAaqN,EAAcD,GAGtD,MACD,IAAK,cACEC,EAAalH,UAClBiH,EAAcM,mBAAmB,WAAYL,EAAaM,WAC1DJ,EAAqBH,EAAcS,oBAE/BT,EAAcrN,YACjBqN,EAAcrN,WAAWC,aAAaqN,EAAcD,EAAcU,aAGpE,MACD,QACOT,EAAalH,SAClBoH,EAAqBH,EAAc1W,YAAY2W,GAE/CD,EAAcM,mBAAmB,YAAaL,GAKlD,OAAOE,2hBChPFQ,aACL,SAAAA,iGACAC,CAAA7Y,KAAA4Y,GACMvc,SAAS+E,cAAc,OAAO0X,YAElC9Y,KAAK+Y,IAAM/Y,KAAKgZ,KAChBhZ,KAAKiZ,IAAMjZ,KAAKkZ,KAChBlZ,KAAKmZ,OAASnZ,KAAKoZ,QACnBpZ,KAAKqZ,OAASrZ,KAAKsZ,+CAIjBzY,EAASwW,GAEZ,OAAOxW,EAAQiY,UAAUS,SAASlC,gCAG9BxW,EAASwW,GAEb,OAAQ,IAAI7K,OAAO,QAAU6K,EAAY,QAAS,MAAM1Q,KAAK9F,EAAQwW,uCAGlExW,EAASwW,GAEZ,OAAOrX,KAAKwZ,oBAAoB3Y,EAASwW,GAAW,kCAG9CxW,EAASwW,GAEf,OAAOrX,KAAKwZ,oBAAoB3Y,EAASwW,GAAW,gCAGhDxW,EAASwW,GAEb,OAAOrX,KAAKyZ,oBAAoB5Y,EAASwW,GAAW,mCAG7CxW,EAASwW,GAEhB,OAAOrX,KAAKyZ,oBAAoB5Y,EAASwW,GAAW,kCAG9CxW,EAASwW,GAEf,IAAIZ,EAAW5V,EAAQxC,OAASwC,EAAU,CAACA,GAC3C,MAAO,GAAGsD,QAAQ/J,KAAKqc,EAAU,SAAApR,GAAA,OAAQA,EAAKyT,UAAUO,OAAOhC,qCAGxDxW,EAASwW,GAEhB,OAAOrX,KAAKyZ,oBAAoB5Y,EAASwW,+CAGtBxW,EAASwW,EAAWqC,GAEvC,IAAIjD,EAAW5V,EAAQxC,OAASwC,EAAU,CAACA,GAC3C,MAAO,GAAGsD,QAAQ/J,KAAKqc,EAAU,SAAApR,GAAA,OAAQA,EAAKyT,UAAUY,EAAQ,MAAQ,UAAUrC,iDAG/DxW,EAASwW,EAAWqC,GACxC,IAAA/X,EAAA3B,KACKyW,EAAW5V,EAAQxC,OAASwC,EAAU,CAACA,GAC3C,MAAO,GAAGsD,QAAQ/J,KAAKqc,EAAU,SAAApR,GAChC,IAAI+Q,EAAWzU,EAAKoX,IAAI1T,EAAMgS,GAC1BjB,IAAasD,IAEZtD,EAEH/Q,EAAKgS,UAAYhS,EAAKgS,UAAU5S,QAAQ,IAAI+H,OAAO,UAAY6K,EAAY,WAAY,KAIvFhS,EAAKgS,WAAa,IAAMA,cAOvBsC,EAAY,SAACjf,GAClB,MACyB,YAAvB,oBAAOkf,YAAP,YAAAtW,EAAOsW,cAA2Blf,aAAakf,YAC7Clf,GAAkB,iBAAb,IAAOA,EAAP,YAAA4I,EAAO5I,KAAiC,IAAfA,EAAEsW,UAAwC,iBAAftW,EAAEmf,UAI1DC,EAAwB,CAC7Bhf,IAD6B,SACzB6J,EAAQoV,EAASC,GAEpB,OAAO,WAAmB,QAAAna,EAAAnB,UAAAL,OAANoB,EAAMb,MAAAiB,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAANN,EAAMM,GAAArB,UAAAqB,GACzB,IAAK4Z,EAAUla,EAAK,IAEnB,MAAM,IAAI5B,MAAJ,aAAuB4B,EAAK,GAA5B,+BAEP,GAAuB,iBAAZA,EAAK,IAA+B,KAAZA,EAAK,GAEvC,MAAM,IAAI5B,MAAJ,eAAyB4B,EAAK,GAA9B,oCAEP,OAAOkF,EAAOoV,GAASjb,MAAMkB,KAAMP,MAKhC4X,EAAY,IAAI4C,MAAM,IAAIrB,EAAakB,GAEvC1D,EAAWiB,EAAU0B,IAAItd,KAAK4b,GAC9BhB,EAAWgB,EAAU4B,IAAIxd,KAAK4b,GAC9Bf,EAAce,EAAU8B,OAAO1d,KAAK4b,GACpCd,EAAcc,EAAUgC,OAAO5d,KAAK4b,KAElCjB,aAAUC,aAAUC,gBAAaC,4CC5BzC,SAAS2D,EAAYpJ,GACpB,GAAkB,IAAdA,EAAGzS,OACN,OAAO,KACR,IAAI8b,EACC,SAAU7V,EAAOnI,EAAUie,GACzBpa,KAAKqa,aACTra,KAAKqa,WAAa,IAEnBra,KAAKqa,WAAW/V,GAASnI,EACzB,IAAI+D,EAAUka,IAAQ,EAGtB,OADApa,KAAK6R,iBAAiBvN,EAAMvG,MAAM,KAAK,GAAI5B,EAAU+D,GAC9CF,MATLma,EAWE,SAAU7V,GAGd,OAFAtE,KAAKsa,oBAAoBhW,EAAMvG,MAAM,KAAK,GAAIiC,KAAKqa,WAAW/V,WACvDtE,KAAKqa,WAAW/V,GAChBtE,MAUT,OALK8Q,EAAGyJ,gBACPzJ,EAAG0J,GAAKC,QAAQ5e,UAAU2e,GAAKL,EAC/BrJ,EAAG4J,IAAMD,QAAQ5e,UAAU6e,IAAMP,EACjCrJ,EAAGyJ,eAAgB,GAEbzJ,qDAqEP6J,SA9KD,SAAkB9Z,EAAS+Z,EAAWxW,EAAUyW,GAC/C,IAAIC,EAAkBja,EAAQ2I,iBAAiBpF,GAC/CvD,EAAQgR,iBAAiB+I,EAEzB,SAAyBtW,GAGxB,IAFA,IAAIK,EAASL,EAAMK,OAEV1K,EAAI,EAAGC,EAAI4gB,EAAgBzc,OAAQpE,EAAIC,EAAGD,IAIlD,IAHA,IAAI6W,EAAKnM,EACP5I,EAAI+e,EAAgB7gB,GAEf6W,GAAMA,IAAOjQ,GAAS,CAC5B,GAAIiQ,IAAO/U,EACV,OAAO8e,EAAQzgB,KAAK2B,EAAGuI,GAExBwM,EAAKA,EAAGlG,iBAgKXmQ,oBApJD,SAA6BtE,EAAUta,EAAU6e,GAChD,IAAIC,GAA+B,IAAXD,EAAmB,KAAO,MAChDE,EAAa,EACbC,EAAa,EAMf,SAASC,EAAiB9W,GACzB4W,EAAa5W,EAAM+W,MACnBF,EAAa7W,EAAMgX,MACnBhX,EAAMK,OAAOkN,iBAAiB,UAAW0J,GACzCjX,EAAMK,OAAOkN,iBAAiB,YAAa0J,GAG5C,SAASA,EAAmBjX,GAC3B,GAAmB,YAAfA,EAAMgE,MAAsBhE,EAAMkX,OAAS,EAE9Crf,EAASmI,QACH,GAAmB,cAAfA,EAAMgE,MAAwBhE,EAAM+W,QAAUH,GAAc5W,EAAMgX,QAAUH,EACtF,OAED7W,EAAMK,OAAO2V,oBAAoB,UAAWiB,GAC5CjX,EAAMK,OAAO2V,oBAAoB,YAAaiB,GAnB/C,GAAGpX,QAAQ/J,KAAKqc,EAAU,SAAU5V,GACnCqZ,EAAYrZ,GAASoa,GAAmB,YAAaG,QA+ItDK,aAnHD,SAAsB5a,EAAS+Z,EAAW1X,GACzC,IAAIoB,EAAQ,KACRoX,YACHpX,EAAQ,IAAIoX,YAAYd,EAAW,CAACe,OAAQzY,KAE5CoB,EAAQjI,SAASuf,YAAY,gBACvBC,gBAAgBjB,GAAW,GAAM,EAAM1X,GAG9CrC,EAAQib,cAAcxX,MA2GtB4V,gBACA6B,gBAjED,SAAyBlb,EAASmb,GACjC,IAAIC,EAAsB,EACxBC,EAAgB,GAclB,SAASC,EAAW7X,GACA,eAAfA,EAAMgE,OACT2T,EAAsB1Y,KAAK/C,OAExB8D,EAAMgE,OAAS4T,KAClBF,EAAeA,GAA8Bjf,QAAQC,KACxC0B,UAAW4F,EAAMgE,KAAM/E,KAAK/C,MAAQyb,GAEjDC,EAAgB5X,EAAMgE,MApBxBzH,EAAQub,QAAUD,EAClBtb,EAAQwb,aAAeF,EACvBtb,EAAQyb,WAAaH,EACrBtb,EAAQ0b,YAAcJ,EACtBtb,EAAQ2b,YAAcL,EACtBtb,EAAQ4b,aAAeN,EACvBtb,EAAQ6b,aAAeP,EACvBtb,EAAQ8b,YAAcR,EACtBtb,EAAQ+b,WAAaT,EACrBtb,EAAQgc,YAAcV,EACtBtb,EAAQic,UAAYX,KAoDpBY,aArCD,SAAsBC,EAAQC,GAC7B,IAAIC,EAAmB,SAACF,GACvB,GAAIA,EAAOG,cAAgBH,EAAOG,aAAaD,iBAC9CF,EAAOG,aAAaD,iBAAiBF,EAAO7N,MAAO6N,OAC7C,CACN,IAAII,EAAO,IAAIC,aAAaL,EAAO7N,MAAO6N,GACtCM,EAAYN,EAAOM,eACLje,IAAdie,IACHF,EAAKG,OAAS,WACb5d,WAAWyd,EAAKI,MAAM/hB,KAAK2hB,GAAOE,OAKhC,iBAAkB7gB,OAEe,YAA5B4gB,aAAaI,WACvBP,EAAiBF,GACqB,WAA5BK,aAAaI,WACvBJ,aAAaK,kBAAkB,SAAUD,GACrB,YAAfA,EACHP,EAAiBF,GAEjB9M,GAAGyN,OAAOC,KAAKX,KAIjB/M,GAAGyN,OAAOC,KAAKX,GAZf/M,GAAGyN,OAAOC,KAAKX,kCC7JjB,SAASY,EAAaC,EAAUC,EAAcC,GAC7C,IAAI7d,EAAS2d,EACb,IAAK,IAAItiB,KAAOuiB,EACf,GAAIA,EAAajiB,eAAeN,GAAM,CACrC,IAAIyiB,EAAYF,EAAaviB,GAEI,mBAAtBuiB,EAAaviB,KACvByiB,EAAYF,EAAaviB,GAAKwiB,IAE/B7d,EAASA,EAAOsE,QAAQ,IAAI+H,OAAO,KAAOhR,EAAM,KAAM,KAAMyiB,GAG9D,OAAO9d,qDAwBP0d,iBACAK,eAdD,SAAwBjG,EAAe6F,EAAUE,EAAYG,EAAgBhG,GAE5E,IADA,IAAIiG,EAAa,GACRnkB,EAAI,EAAGA,EAAI+jB,EAAW3f,OAAQpE,IACtCmkB,GAAcP,EAAaC,EAAUK,EAAeH,EAAW/jB,IAAK+jB,EAAW/jB,IAE3Eke,GAAyB,WAAbA,EAGhBF,EAAcM,mBAAmBJ,EAAUiG,GAF3CnG,EAAc3W,UAAY8c,kSCDxBC,EAAY1jB,OAAOkB,UAAU2K,SAC7BJ,EAAM,CACR1D,MAAO,QACP/G,OAAQ,SACR2iB,SAAU,WACVtO,OAAQ,SACRuO,KAAM,OACNlf,UAAW,YACXmf,QAAS,UACTC,OAAQ,YAUTC,SArDgB,SAACrb,GACjB,OAAOA,SAAqCA,IAAQA,EAAI5G,UAqDxDkiB,UAlDiB,SAACzjB,GAClB,OAAQ0jB,MAAMC,WAAWnjB,KAAOojB,SAASpjB,MAkDzCqjB,WA/CkB,SAAC1Z,GACnB,GAAoB,mBAATA,EACV,OAAO,EAER,IAAIiD,EAAO3N,OAAOkB,UAAU2K,SAASpM,KAAKiL,GAC1C,MAAgB,sBAATiD,GAAyC,+BAATA,KA2CvC0W,cAxCqB,SAAC3b,GACtB,OAAmC,IAA5B1I,OAAOyD,KAAKiF,GAAKhF,UAwCxB4gB,cArCqB,SAAC5b,GACtB,QAAqB,iBAAjB,IAAQA,EAAR,YAAAC,EAAQD,KAAqBA,EAAI2N,UAAY3N,SAAqCA,IAAQA,EAAI5G,QAI9F4G,EAAI6b,cACLvkB,OAAOkB,UAAUC,eAAe1B,KAAKiJ,EAAI6b,YAAYrjB,UAAW,qBAgCnEsjB,SAVgB,SAAC9Z,EAAMiD,GACtB,OAAOlC,EAAIkC,IAASlC,EAAIkC,KAJV,SAACjD,GACf,OAAOgZ,EAAUjkB,KAAKiL,GAAMR,MAAM,GAAI,GAGJua,CAAQ/Z,qFCrC3Cga,QAbD,SAAiBZ,GAChB,GAAe,IAAXA,GAA2B,IAAXA,EACnB,OAAO,EAER,IAAK,IAAIxkB,EAAI,EAAGA,GAAK4I,KAAKyc,KAAKb,GAASxkB,IACvC,GAAIwkB,EAASxkB,GAAM,EAClB,OAAO,EAGT,OAAO,oFCGPslB,aARD,WACC,IAAIC,EAAkB5Y,UAAU6Y,UAAY7Y,UAAU6Y,UAAY7Y,UAAU4Y,gBAC5E,QAASA,GAAmBA,EAAgBE,KAAK,SAAAC,GAChD,OAAkC,IAA3BA,EAASjW,QAAQ,uCCiC1B,SAASkW,EAAS/e,EAASgf,EAAI9K,GAC9B,KAAIA,GAAY,GAAhB,CACA,IACI+K,GADaD,EAAKhf,EAAQmE,WACH+P,EAAW,GAEtCpV,WAAW,WACVkB,EAAQmE,UAAYnE,EAAQmE,UAAY8a,EACpCjf,EAAQmE,YAAc6a,GAC1BD,EAAS/e,EAASgf,EAAI9K,EAAW,KAC/B,wDAIHgL,kBA9CD,SAA2BC,EAAYja,EAAOka,EAAYlL,GACzD,GAAc,IAAVhP,EACH6Z,EAASI,EAAY,EAAGjL,OAClB,CACN,IAAImL,EAAYF,EAAWG,WACzBC,EAAe,EACfC,EAAgB,EAChBC,EAAiB,EACnBvL,OAAyB1V,IAAb0V,EAAyB,IAAMA,EAC3C,IAAK,IAAI9a,EAAI,EAAGC,EAAIgmB,EAAU7hB,OAAQpE,EAAIC,EAAGD,IAAK,CACjD,IAAIsmB,EAAiBL,EAAUjmB,GAAGumB,aAC9BvmB,EAAI8L,IACPqa,GAAgBG,EACZtmB,EAAIgmB,EAAa,IACpBK,GAAkBJ,EAAUjmB,EAAIgmB,GAAYO,eAG9CH,GAAiBE,GAElBH,EAAeE,GACIN,EAAWQ,aAAeH,IAC5CD,EAAeC,EAAgBL,EAAWQ,cAE3CZ,EAASI,EAAYI,EAAcrL,OAwBpC6K,wGCtDD,IAAAa,EAAA5mB,EAAA,KAyBC+jB,KAvBD,SAASA,EAAK1d,GACb,IAAMwgB,EAAa,4CACbC,EAAaD,EAAa,6BAC1BE,EAAYF,EAAa,8BAI3BG,EAAe,IACd,EAAAJ,EAAAzX,qBAAoB2X,IACxBE,EAAahb,MAAK,EAAA4a,EAAA7Y,uBAAsB+Y,KAEpC,EAAAF,EAAAzX,qBAAoB4X,IACxBC,EAAahb,MAAK,EAAA4a,EAAA1Y,oBAAmB6Y,IAEtChf,QAAQsI,IAAI2W,GACT1W,KAAK,SAAC2W,GACFA,EAAQC,MAAM,SAAA1b,GAAA,QAAUA,KAC3BuY,EAAK1d,uFCCT8gB,QAfD,SAAiBC,GAChB,OAAO,IAAIzU,OAAOyU,EAAQ,QAe1BC,MAPD,SAAeha,GAEd,OAAQ,IAAIsF,OADK,kKACe7F,KAAKO,kCCFtC,SAASia,EAAW1jB,GACnB,IAAI2I,EAAM,CACTgb,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,UAGN,OAAO/jB,EAAIgH,QAAQ,WAAY,SAAUpK,GACxC,OAAO+L,EAAI/L,wDAcZonB,UAjCD,SAAmBzR,GAClB,OAAOA,EAAO0R,OAAO,GAAGC,cAAgB3R,EAAOnL,MAAM,MAiCrDsc,eACAS,SAPD,SAAkBnkB,GACjB,OAAO0jB,EAAW1jB,EAAIgH,QAAQ,QAAS,QAAQA,QAAQ,OAAQ,OAAQA,QAAQ,OAAQ,6cC/BlF6L,aACL,SAAAA,iGACAuI,CAAA7Y,KAAAsQ,GACCtQ,KAAK6hB,OAAS,GACd7hB,KAAK8hB,QAAU,wCAGbtmB,EAAKgH,GACR,IAAAb,EAAA3B,KADY+hB,EACZrjB,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,IAAAA,UAAA,GAKC,GAJKsB,KAAK6hB,OAAOrmB,KAEhBwE,KAAK6hB,OAAOrmB,GAAO,IAEF,mBAAPgH,EAgBV,MAAM,IAAI3E,MAAJ,kBAA4B2E,EAA5B,+BAdNxC,KAAK6hB,OAAOrmB,GAAKumB,EAAU,UAAY,QAAQvf,GAE/C,IAAIwf,EAAUhiB,KAAK8hB,QAAQtmB,GAe5B,OAdOwmB,IAELA,EAAQ7d,QAAQ,SAAA1E,GACfkC,EAAKsgB,QAALnjB,MAAA6C,EAAA,CAAanG,GAAbuD,OAAAsD,EAAqB5C,OAEtBO,KAAK8hB,QAAQtmB,GAAO,UACbwE,KAAK8hB,QAAQtmB,IAQfwE,iCAGJxE,EAAKgH,GAER,IAAI0f,EAAMliB,KAAK6hB,OAAOrmB,GACtB,QAAY6D,IAAR6iB,GAAoC,IAAfA,EAAI7jB,OAC7B,CACC,IAAI0H,EAAQmc,EAAIxY,QAAQlH,GACpBuD,GAAS,GAEZ/F,KAAK6hB,OAAOrmB,GAAKwK,OAAOD,EAAO,GAOjC,OAJKvD,UAEGxC,KAAK6hB,OAAOrmB,GAEbwE,kCAGHxE,EAAKgH,GAET,IAAI2f,EAAOniB,KAKXA,KAAKwa,GAAGhf,EAJE,WACPgH,EAAGpI,KAAH0E,MAAA0D,EAAA,CAAQ2f,GAARpjB,OAAAH,MAAA/C,UAAAgJ,MAAAzK,KAAiBsE,aACjByjB,EAAKzH,IAAIlf,qCAKLA,GACR,IAAA4mB,EAAApiB,KACC,GAAGmC,MAAM/H,KAAKsE,WACd,IAAIe,EAAO,GAAGoF,MAAMzK,KAAKsE,WACvB2jB,EAAWriB,KAAK6hB,OAAOrmB,GAazB,OAZM6mB,EAELA,EAASle,QAAQ,SAAA3B,GAChBA,EAAGpI,KAAH0E,MAAA0D,EAAA,CAAQ4f,GAARrjB,OAAAsD,EAAiB5C,QAKlBO,KAAK8hB,QAAQtmB,GAAOwE,KAAK8hB,QAAQtmB,IAAQ,GACzCwE,KAAK8hB,QAAQtmB,GAAKqK,KAAKnH,YAGjBsB,uCAIR,IAAAsiB,EAAAtiB,KACCrF,OAAOyD,KAAK4B,KAAK6hB,QAAQ1d,QAAQ,SAAA3I,GAAA,cAAc8mB,EAAKT,OAAOrmB,KAC3Db,OAAOyD,KAAK4B,KAAK8hB,SAAS3d,QAAQ,SAAA3I,GAAA,cAAc8mB,EAAKR,QAAQtmB,wBAIhD8U,8VC7FftJ,EAAAnN,EAAA,OAEMuW,aACL,SAAAA,EAAYlQ,gGAAS2Y,CAAA7Y,KAAAoQ,GAChB3T,OAAO8lB,QAAUriB,EAAQsiB,WAC5BxiB,KAAKyiB,OAAS,IAAIF,OAAOriB,EAAQsiB,WACjCxiB,KAAK0iB,YACL1iB,KAAK2iB,QAAQziB,GAAWA,EAAQ0iB,gBAEhCC,MAAM,wGAYP7iB,KAAKyiB,OAAOK,UAAY,SAAUC,GACjC,GAAIA,EAAE7f,KAAM,KAAA8f,EACcD,EAAE7f,KAAtB/C,EADM6iB,EACN7iB,OAAQhE,EADF6mB,EACE7mB,UACb,EAAA6K,EAAA5M,MAAK+B,EAAUgE,QAEf0iB,0BAA0BE,EAA1B,4CAMqF,IAA5ErhB,EAA4EhD,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAAnE,KAAMoB,EAA6DpB,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAApD,GAAIvC,EAAgDuC,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAArC,KAAMkQ,EAA+BlQ,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,GAAAA,UAAA,GAArB,GAAqBA,UAAAL,OAAA,QAAAgB,IAAAX,UAAA,IAAAA,UAAA,GACvFkQ,EAAUhQ,MAAMmD,QAAQ6M,GAAWA,EAAU,CAACA,GAC9C5O,KAAKyiB,OAAOQ,YAAY,CAACvhB,SAAQ5B,SAAQ3D,WAAUyS,4CAG5CgU,GACP5iB,KAAKyiB,OAAOha,QAAU,SAAUxL,GAC/BF,QAAQiB,MAAMf,GACd2lB,GAAiBA,EAAc3lB,wCAKhC+C,KAAKyiB,OAAOS,kDAhCMhjB,GAIlB,OAHKF,KAAKmjB,WACTnjB,KAAKmjB,SAAW,IAAI/S,EAAUlQ,IAExBF,KAAKmjB,4BAgCC/S,8VCjDfpJ,EAAAnN,EAAA,OAEMwW,aACL,SAAAA,EAAYnQ,gGAAS2Y,CAAA7Y,KAAAqQ,GAChB5T,OAAO8lB,QAAUriB,EAAQsiB,UAC5BxiB,KAAKyiB,OAAS,IAAIW,aAAaljB,EAAQsiB,WAGvCK,MAAM,oGAWE1mB,GACT6D,KAAKyiB,OAAOY,KAAKP,UAAY,SAACC,GAE7B,GADA5mB,GAAYA,EAAS4mB,GACjBA,EAAE7f,KAAK/G,SAAU,KAAA6mB,EACMD,EAAE7f,KAAvBogB,EADeN,EACfM,QAASnnB,EADM6mB,EACN7mB,UACd,EAAA6K,EAAA5M,MAAK+B,EAAUmnB,yCAKNC,GA0CXvjB,KAAKyiB,OAAOY,KAAKJ,YAAYM,yCA3DXrjB,GAIlB,OAHKF,KAAKmjB,WACTnjB,KAAKmjB,SAAW,IAAI9S,EAAcnQ,IAE5BF,KAAKmjB,4BA2DC9S","file":"common.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/**\r\n * 防抖函数，返回函数连续调用时，空闲时间必须大于或等于 wait，func 才会执行\r\n *\r\n * @param  {function} func        回调函数\r\n * @param  {number}   wait        表示时间窗口的间隔\r\n * @param  {boolean}  immediate   设置为ture时，是否立即调用函数\r\n * @return {function}             返回客户调用函数\r\n *\r\n * window 的 resize、scroll、mousedown、mousemove、keyup、keydown\r\n * From: https://yuchengkai.cn/docs/frontend/#%E9%98%B2%E6%8A%96\r\n */\r\nfunction debounce(func, wait = 50, immediate = true) {\r\n\tlet timer, context, args\r\n\r\n\t// 延迟执行函数\r\n\tconst later = () => setTimeout(() => {\r\n\t\t// 延迟函数执行完毕，清空缓存的定时器序号\r\n\t\ttimer = null\r\n\t\t// 延迟执行的情况下，函数会在延迟函数中执行\r\n\t\t// 使用到之前缓存的参数和上下文\r\n\t\tif (!immediate) {\r\n\t\t\tfunc.apply(context, args)\r\n\t\t\tcontext = args = null\r\n\t\t}\r\n\t}, wait)\r\n\r\n\t// 这里返回的函数是每次实际调用的函数\r\n\treturn function (...params) {\r\n\t\t// 如果没有创建延迟执行函数（later），就创建一个\r\n\t\tif (!timer) {\r\n\t\t\ttimer = later()\r\n\t\t\t// 如果是立即执行，调用函数\r\n\t\t\t// 否则缓存参数和调用上下文\r\n\t\t\tif (immediate) {\r\n\t\t\t\tfunc.apply(this, params)\r\n\t\t\t} else {\r\n\t\t\t\tcontext = this\r\n\t\t\t\targs = params\r\n\t\t\t}\r\n\t\t\t// 如果已有延迟执行函数（later），调用的时候清除原来的并重新设定一个\r\n\t\t\t// 这样做延迟函数会重新计时\r\n\t\t} else {\r\n\t\t\tclearTimeout(timer)\r\n\t\t\ttimer = later()\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * underscore 节流函数，返回函数连续调用时，func 执行频率限定为 次 / wait\r\n *\r\n * @param  {function}   func      回调函数\r\n * @param  {number}     wait      表示时间窗口的间隔\r\n * @param  {object}     options   如果想忽略开始函数的的调用，传入{leading: false}。\r\n *                                如果想忽略结尾函数的调用，传入{trailing: false}\r\n *                                两者不能共存，否则函数不能执行\r\n * @return {function}             返回客户调用函数\r\n *\r\n * window 的 resize、scroll、mousedown、mousemove、keyup、keydown\r\n * From: https://yuchengkai.cn/docs/frontend/#%E8%8A%82%E6%B5%81\r\n */\r\nfunction throttle(func, wait, options) {\r\n\tlet context, args, result;\r\n\tlet timeout = null;\r\n\t// 之前的时间戳\r\n\tlet previous = 0;\r\n\t// 如果 options 没传则设为空对象\r\n\tif (!options) options = {};\r\n\t// 定时器回调函数\r\n\tlet later = function () {\r\n\t\t// 如果设置了 leading，就将 previous 设为 0\r\n\t\t// 用于下面函数的第一个 if 判断\r\n\t\tprevious = options.leading === false ? 0 : _.now();\r\n\t\t// 置空一是为了防止内存泄漏，二是为了下面的定时器判断\r\n\t\ttimeout = null;\r\n\t\tresult = func.apply(context, args);\r\n\t\tif (!timeout) context = args = null;\r\n\t};\r\n\treturn function () {\r\n\t\t// 获得当前时间戳\r\n\t\tlet now = _.now();\r\n\t\t// 首次进入前者肯定为 true\r\n\t\t// 如果需要第一次不执行函数\r\n\t\t// 就将上次时间戳设为当前的\r\n\t\t// 这样在接下来计算 remaining 的值时会大于0\r\n\t\tif (!previous && options.leading === false) previous = now;\r\n\t\t// 计算剩余时间\r\n\t\tlet remaining = wait - (now - previous);\r\n\t\tcontext = this;\r\n\t\targs = arguments;\r\n\t\t// 如果当前调用已经大于上次调用时间 + wait\r\n\t\t// 或者用户手动调了时间\r\n\t\t// 如果设置了 trailing，只会进入这个条件\r\n\t\t// 如果没有设置 leading，那么第一次会进入这个条件\r\n\t\t// 还有一点，你可能会觉得开启了定时器那么应该不会进入这个 if 条件了\r\n\t\t// 其实还是会进入的，因为定时器的延时\r\n\t\t// 并不是准确的时间，很可能你设置了2秒\r\n\t\t// 但是他需要2.2秒才触发，这时候就会进入这个条件\r\n\t\tif (remaining <= 0 || remaining > wait) {\r\n\t\t\t// 如果存在定时器就清理掉否则会调用二次回调\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = null;\r\n\t\t\t}\r\n\t\t\tprevious = now;\r\n\t\t\tresult = func.apply(context, args);\r\n\t\t\tif (!timeout) context = args = null;\r\n\t\t} else if (!timeout && options.trailing !== false) {\r\n\t\t\t// 判断是否设置了定时器和 trailing\r\n\t\t\t// 没有的话就开启一个定时器\r\n\t\t\t// 并且不能不能同时设置 leading 和 trailing\r\n\t\t\ttimeout = setTimeout(later, remaining);\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nfunction copyElementToClipboard(copiedElement, callback) {\r\n\tlet range = document.createRange();\r\n\trange.selectNode(copiedElement);\r\n\r\n\tlet selection = window.getSelection();\r\n\tselection.removeAllRanges();\r\n\tselection.addRange(range);\r\n\r\n\ttry {\r\n\t\t// Selected the required text, execute the copy command\r\n\t\tlet successful = document.execCommand('copy'),\r\n\t\t\t\tmsg = successful ? 'successful' : 'unsuccessful';\r\n\t\tconsole.log('Copy command was ' + msg);\r\n\t\tcallback && callback(true);\r\n\t} catch (err) {\r\n\t\tconsole.log('Oops, unable to copy');\r\n\t\tcallback && callback(false);\r\n\t}\r\n\r\n\t// Remove the selections - NOTE: Should use removeRange(range) when it is supported\r\n\tselection.removeAllRanges();\r\n}\r\n\r\nfunction copyStringToClipboard(copiedString, callback) {\r\n\tlet bodyBackground = document.body.style.background,\r\n\t\t\taddDomToBody = (dom, id) => {\r\n\t\t\t\tlet copiedElement = document.createElement('div');\r\n\t\t\t\tid && copiedElement.setAttribute('id', id);\r\n\t\t\t\t// copiedElement.setAttribute('style', 'height: 1px;border: 0;opacity: 0;overflow: hidden;');\r\n\t\t\t\tcopiedElement.innerHTML = dom;\r\n\t\t\t\tdocument.body.appendChild(copiedElement);\r\n\t\t\t\t// Set copy element bg transparent\r\n\t\t\t\tdocument.body.style.background = 'transparent';\r\n\t\t\t\treturn copiedElement;\r\n\t\t\t},\r\n\t\t\tremoveElementFromBody = (element) => {\r\n\t\t\t\tdocument.body.removeChild(element);\r\n\t\t\t\tdocument.body.style.background = bodyBackground;\r\n\t\t\t},\r\n\t\t\tcopiedElement = addDomToBody(copiedString);\r\n\tcopyElementToClipboard(copiedElement, callback);\r\n\tremoveElementFromBody(copiedElement);\r\n}\r\n\r\n/**\r\n * A funtcion which can easily invoke function from a string method name\r\n * @param method, eg: 'alert', 'math.floor', 'math.floor.toString'\r\n * @param params\r\n * @return {Promise<any>}\r\n */\r\nfunction call(method, params) {\r\n\tlet callMethod = (callers, thisArg) => {\r\n\t\tlet caller = callers.shift();\r\n\t\tthisArg = thisArg ? thisArg : (self || this || window);\r\n\t\tthisArg = thisArg[caller];\r\n\t\tif (callers.length > 0) {\r\n\t\t\tthisArg = callMethod(callers, thisArg);\r\n\t\t}\r\n\t\treturn thisArg;\r\n\t};\r\n\treturn new Promise((resolve) => {\r\n\t\tlet callers = method.split('.');\r\n\t\tparams = Array.isArray(params) ? params : [params];\r\n\t\tlet result = callMethod(callers)(...params);\r\n\t\tresolve(result);\r\n\t});\r\n}\r\n\r\n/**\r\n * lazy iterator array items\r\n * @param ary\r\n * @param fn\r\n * @param count\r\n * @return {Function}\r\n */\r\nfunction timeChunk(ary, fn, count) {\r\n\tlet timer = null,\r\n\t\t\tarray = [...ary],\r\n\t\t\tstart = () => {\r\n\t\t\t\tfor (let i = 0; i < Math.min(count || 1, array.length); i++) {\r\n\t\t\t\t\tfn(array.shift());\r\n\t\t\t\t}\r\n\t\t\t};\r\n\treturn () => {\r\n\t\ttimer = setInterval(() => {\r\n\t\t\tif (array.length === 0) {\r\n\t\t\t\treturn clearInterval(timer);\r\n\t\t\t}\r\n\t\t\tstart();\r\n\t\t}, 200);\r\n\t};\r\n}\r\n\r\n/**\r\n * Custom console log modal in function\r\n */\r\nfunction _consoleLog() {\r\n\tlet fnStyle = {};\r\n\tconst STYLES = [\r\n\t\t\t\t'font-size: 14px; color: #8665D5',\r\n\t\t\t\t'font-size: 14px; color: #406AD5',\r\n\t\t\t\t'font-size: 14px; color: #E9AC32',\r\n\t\t\t\t'font-size: 14px; color: #3AC1D9',\r\n\t\t\t\t'font-size: 14px; color: #FF7979',\r\n\t\t\t\t'font-size: 14px; color: #39D084',\r\n\t\t\t\t'font-size: 14px; color: #FF8E66',\r\n\t\t\t\t'font-size: 14px; color: #44B1E6',\r\n\t\t\t\t'font-size: 14px; color: #9e5648',\r\n\t\t\t\t'font-size: 14px; color: #406ad5',\r\n\t\t\t\t'font-size: 14px; color: #purple',\r\n\t\t\t\t'font-size: 14px; color: #red',\r\n\t\t\t\t'font-size: 14px; color: #teal',\r\n\t\t\t\t'font-size: 14px; color: #yellow'\r\n\t\t\t],\r\n\t\t\tFORMAT = '%c%s';\r\n\treturn function (...messages) {\r\n\r\n\t\tif (window.debug !== false) {\r\n\t\t\tconst fnNameMatcher = /([^(]+)@|at ([^(]+) \\(/;\r\n\t\t\tconst fnName = function (str) {\r\n\t\t\t\tconst regexResult = fnNameMatcher.exec(str);\r\n\t\t\t\treturn regexResult[1] || regexResult[2];\r\n\t\t\t};\r\n\t\t\tconst logLines = (new Error().stack).split('\\n');console.table(logLines);\r\n\t\t\tconst callerName = fnName(logLines[2]);\r\n\r\n\t\t\tif (!fnStyle[callerName]) {\r\n\t\t\t\tfnStyle[callerName] = STYLES[Object.keys(fnStyle).length % STYLES.length];\r\n\t\t\t}\r\n\r\n\t\t\tif (fnStyle.lastType !== callerName) {\r\n\t\t\t\tconsole.groupEnd();\r\n\t\t\t\tconsole.group(callerName);\r\n\t\t\t\tfnStyle.lastType = callerName;\r\n\t\t\t}\r\n\r\n\t\t\tif (callerName !== null) {\r\n\t\t\t\tconsole.log(FORMAT, fnStyle[callerName], `${callerName}:`, ...messages);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(...messages);\r\n\t\t\t}\r\n\t\t\treturn callerName;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst consoleLog = _consoleLog();\r\n\r\n/**\r\n * Dynamic set callback function in window\r\n * @param typeName\r\n * @returns {*}\r\n */\r\nfunction setCallback(typeName) {\r\n\tlet typeCallback = getCallbackName(typeName);\r\n\tif (!window[typeCallback]) {\r\n\t\twindow[typeCallback] = function (data) {\r\n\t\t\twindow[typeName] = data;\r\n\t\t};\r\n\t\treturn typeCallback;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * getCallbackName\r\n * @param typeName\r\n * @returns {string}\r\n */\r\nfunction getCallbackName(typeName) {\r\n\treturn typeName + \"Callback\";\r\n}\r\n\r\n\r\n/**\r\n * deepExtend - deep copy with out jQuery\r\n * @param out\r\n * @returns {*|{}}\r\n */\r\nfunction deepExtend(out) // arguments: (source, source1, source2, ...)\r\n{\r\n\tout = out || {};\r\n\r\n\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\tlet obj = arguments[i];\r\n\r\n\t\tif (!obj)\r\n\t\t\tcontinue;\r\n\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\tif (typeof obj[key] === 'object'\r\n\t\t\t\t\t\t&& obj[key] !== null\r\n\t\t\t\t\t\t&& !Array.isArray(obj[key])\r\n\t\t\t\t\t\t&& !(obj[key] instanceof Date)\r\n\t\t\t\t\t\t&& !(obj[key] === 'function')) {\r\n\t\t\t\t\tout[key] = deepExtend(out[key], obj[key]);\r\n\t\t\t\t} else\r\n\t\t\t\t\tout[key] = obj[key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn out;\r\n}\r\n\r\n/**\r\n * Tools for processing function who has parameter array\r\n * @param fn\r\n * @param param1\r\n * @param param2\r\n */\r\nfunction parameterArrayToItem(fn, param1, param2) {\r\n\tlet param2IsArray = Array.isArray(param2),\r\n\t\t\tparam2ArrayLength = param2IsArray && param2.length || 0;\r\n\tfor (let i = 0, length = param1.length; i < length; i++) {\r\n\t\tlet param2Item = (param2IsArray && i < param2ArrayLength) ? param2[i] : null;\r\n\t\tfn && fn(param1[i], param2Item);\r\n\t}\r\n}\r\n\r\n// Anchor\r\nfunction anchorSmoothScroll (selectorNot) {\r\n\tlet $anchors = $('a[href*=\"#\"]').not('[href=\"#\"]').not('[href=\"#0\"]');\r\n\tif (typeof selectorNot === \"string\")\r\n\t{\r\n\t\t$anchors = $anchors.not(selectorNot);\r\n\t}\r\n\telse if (Array.isArray(selectorNot))\r\n\t{\r\n\t\tselectorNot.forEach(selector => {\r\n\t\t\t$anchors = $anchors.not(selector);\r\n\t\t});\r\n\t}\r\n\t$anchors.click(function (event) {\r\n\t\tif (location.pathname.replace(/^\\//, '') === this.pathname.replace(/^\\//, '') && location.hostname === this.hostname)\r\n\t\t{\r\n\t\t\tlet target = $(this.hash);\r\n\t\t\ttarget = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\r\n\t\t\tif (target.length)\r\n\t\t\t{\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\t$('html, body').animate({\r\n\t\t\t\t\tscrollTop: target.offset().top\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Scroll\r\nconst scrollTop = () => {\r\n\t(document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n};\r\n\r\n\r\nexport {\r\n\tdebounce,\r\n\tthrottle,\r\n\tcopyElementToClipboard,\r\n\tcopyStringToClipboard,\r\n\tcall,\r\n\ttimeChunk,\r\n\tconsoleLog,\r\n\tsetCallback,\r\n\tgetCallbackName,\r\n\tdeepExtend,\r\n\tparameterArrayToItem,\r\n\tanchorSmoothScroll,\r\n\tscrollTop,\r\n}","/***\r\n * uniqueArray\r\n * @param {Array} sourceArray\r\n * @returns {Array}\r\n */\r\nfunction uniqueArray(sourceArray) {\r\n\t// return [...new Set(sourceArray)];\r\n\tlet resultArray = [], hash = {};\r\n\tfor (let i = 0, elem, l = sourceArray.length; i < l && (elem = sourceArray[i]) !== null; i++) {\r\n\t\tif (!hash[elem]) {\r\n\t\t\tresultArray.push(elem);\r\n\t\t\thash[elem] = true;\r\n\t\t}\r\n\t}\r\n\treturn resultArray;\r\n}\r\n\r\n/**\r\n * Get array item string which spilt with ',';\r\n * @param array\r\n * @returns {string}\r\n */\r\nfunction getArrayString(array) {\r\n\treturn [].map.call(array, function (arrayItem) {\r\n\t\tif (Array.isArray(arrayItem)) {\r\n\t\t\tarrayItem = '[' + getArrayString(arrayItem) + ']';\r\n\t\t} else if (typeof arrayItem === 'object') {\r\n\t\t\tarrayItem = JSON.stringify(arrayItem);\r\n\t\t}\r\n\t\treturn arrayItem.toString();\r\n\t}).join(', ');\r\n}\r\n\r\n/**\r\n * Find item with key\r\n * @param array\r\n * @param key\r\n * @param value\r\n * @return {*}\r\n */\r\nfunction findObject(array, key, value) {\r\n\tif (array.length === 0 || !key || !value) {\r\n\t\treturn null;\r\n\t}\r\n\tfor (let i = array.length - 1; i >= 0; i--) {\r\n\t\tif (array[i][key] === value) {\r\n\t\t\treturn array[i];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * Find item's index in array\r\n * @param array\r\n * @param item\r\n * @param key\r\n * @return {number}\r\n */\r\nfunction findIndex(array, item, key) {\r\n\tlet isObject = (typeof item === 'object' && !!key);\r\n\tif (isObject && !item[key]) {\r\n\t\treturn -1;\r\n\t}\r\n\tlet comparedValue = isObject ? item[key] : item,\r\n\t\t\tarrayItemValue = (ary, i, key) => {\r\n\t\t\t\treturn ary[i];\r\n\t\t\t};\r\n\tif (isObject) {\r\n\t\tarrayItemValue = (ary, i, key) => {\r\n\t\t\treturn ary[i][key];\r\n\t\t}\r\n\t}\r\n\r\n\tfor (let i = array.length - 1; i >= 0; i--) {\r\n\t\tif (arrayItemValue(array, i, key) === comparedValue) {\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\nfunction find(array, value, key) {\r\n\tif (!array || array.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\tlet result = null;\r\n\t[].forEach.call(array, (item, index) => {\r\n\t\tif (item === value || (!!key && item[key] === value)) {\r\n\t\t\tarray = array.concat(array.splice(index, array.length - index));\r\n\t\t\tresult = item;\r\n\t\t}\r\n\t});\r\n\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * Remove item from array\r\n * @param array\r\n * @param item\r\n * @return {*}\r\n */\r\nfunction spliceItem(array, item) {\r\n\tlet index = findIndex(array, item);\r\n\tif (index === -1) {\r\n\t\treturn array;\r\n\t}\r\n\treturn array.splice(index, 1);\r\n}\r\n\r\nexport {\r\n\tuniqueArray,\r\n\tfind,\r\n\tfindIndex,\r\n\tfindObject,\r\n\tspliceItem,\r\n\tgetArrayString,\r\n}","// Device\r\nconst isIOS = () => {\r\n\treturn /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream\r\n};\r\n\r\nexport {\r\n\tisIOS\r\n}","import {getFileNameFromURL} from \"./URL\";\r\nimport {parameterArrayToItem} from \"./Tool\";\r\n\r\n/***\r\n * getUrlTypeInfo\r\n * @param {string} url\r\n * @returns {object}\r\n */\r\nfunction getUrlTypeInfo(url) {\r\n\t// Current only support js and css resources;\r\n\tlet fileExtensionName = getFileNameFromURL(url).extensionName;\r\n\tif (fileExtensionName) {\r\n\t\tlet urlType = {\r\n\t\t\t'js': {\r\n\t\t\t\tname: 'js',\r\n\t\t\t\ttagName: 'script',\r\n\t\t\t\turlAttrName: 'src',\r\n\t\t\t\tloadFn: loadScript,\r\n\t\t\t\tloadFnPromise: loadScriptWithPromise\r\n\t\t\t},\r\n\t\t\t'css': {\r\n\t\t\t\tname: 'css',\r\n\t\t\t\ttagName: 'link',\r\n\t\t\t\turlAttrName: 'href',\r\n\t\t\t\tloadFn: loadCSS,\r\n\t\t\t\tloadFnPromise: loadCSSWithPromise\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn urlType[fileExtensionName];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/***\r\n * loadScript\r\n * @param {(string)} url string of url\r\n * @param {function} [callback] - callback() after script loaded\r\n * @param {object} [context] - callback's context\r\n * @param {object} info - {isAsync: [true/false], attributes: {}, libName: \"\"}\r\n */\r\nfunction loadScript(url, callback, context, info) {\r\n\tif (!url)\r\n\t\treturn;\r\n\r\n\tif (Array.isArray(url)) {\r\n\t\t// Process the url and callback if they are array;\r\n\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\tloadScript(urlParam, callbackParam, context, info);\r\n\t\t}, url, callback);\r\n\t} else {\r\n\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\tisSuccess = true,\r\n\t\t\t\tlibName = info && info['libName'] ? info['libName'] : getFileNameFromURL(url).name;\r\n\t\tscript.type = \"text/javascript\";\r\n\t\tinfo && info['isAsync'] && script.setAttribute('async', '');\r\n\r\n\t\tif (info && info.attributes) {\r\n\t\t\tfor (let attr in info.attributes) {\r\n\t\t\t\tif (info.attributes.hasOwnProperty(attr)) {\r\n\t\t\t\t\tscript.setAttribute(attr, info.attributes[attr]);\r\n\t\t\t\t\tattr === 'class' && script.setAttribute('className', info.attributes[attr]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tscript.onerror = function () {\r\n\t\t\tisSuccess = false;\r\n\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t};\r\n\t\tif (script.readyState) {  //IE\r\n\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\") {\r\n\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} else {  //Others\r\n\t\t\tscript.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tscript.src = url;\r\n\r\n\t\tdocument.body.appendChild(document.createComment(\" Script \" + libName + \" *** JS \"));\r\n\t\tdocument.body.appendChild(script);\r\n\t}\r\n}\r\n\r\n/***\r\n * loadScript with Promise\r\n * @param url\r\n * @returns {Promise}\r\n */\r\nfunction loadScriptWithPromise(url, type) {\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tif (!url) {\r\n\t\t\treject(new Error(\"url is null!\"));\r\n\t\t}\r\n\t\tif (checkResourceLoaded(url)) {\r\n\t\t\tresolve(true);\r\n\t\t}\r\n\r\n\t\tlet script = document.createElement(\"script\"),\r\n\t\t\t\tisSuccess = true;\r\n\t\tscript.type = type ? type : \"text/javascript\";\r\n\r\n\t\tscript.onerror = function () {\r\n\t\t\tisSuccess = false;\r\n\t\t\treject();\r\n\t\t};\r\n\t\tif (script.readyState) {  //IE\r\n\t\t\tscript.onreadystatechange = function () {\r\n\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\") {\r\n\t\t\t\t\tscript.onreadystatechange = null;\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tresolve(true);\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} else {  //Others\r\n\t\t\tscript.onload = function () {\r\n\t\t\t\tresolve(true);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tscript.src = url;\r\n\r\n\t\tdocument.body.appendChild(document.createComment(\" Script \" + getFileNameFromURL(url).name + \" *** JS \"));\r\n\t\tdocument.body.appendChild(script);\r\n\t});\r\n}\r\n\r\n/***\r\n * loadCSS\r\n * @param {(string|string[])} url string or an array of urls\r\n * @param {function} [callback] - callback() after script loaded\r\n * @param {object} [context] - callback's context\r\n */\r\nfunction loadCSS(url, callback, context) {\r\n\tif (!url)\r\n\t\treturn;\r\n\r\n\tif (Array.isArray(url)) {\r\n\t\t// Process the url and callback if they are array;\r\n\t\tparameterArrayToItem(function (urlParam, callbackParam) {\r\n\t\t\tloadCSS(urlParam, callbackParam);\r\n\t\t}, url, callback);\r\n\t} else {\r\n\t\tlet link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.href = url;\r\n\t\tlink.onload = function () {\r\n\t\t\tcallback && (context ? context[callback]() : callback());\r\n\t\t};\r\n\t\tlink.onerror = function () {\r\n\t\t\tconsole.log(\"Error load css:\" + url);\r\n\t\t};\r\n\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t}\r\n}\r\n\r\n/***\r\n * loadCSS with Promise\r\n * @param url\r\n * @returns {Promise}\r\n */\r\nfunction loadCSSWithPromise(url) {\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tif (!url) {\r\n\t\t\treject(new Error(\"url is null!\"));\r\n\t\t}\r\n\t\tif (checkResourceLoaded(url)) {\r\n\t\t\tresolve(true);\r\n\t\t}\r\n\r\n\t\tlet link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.href = url;\r\n\t\tlink.onload = function () {\r\n\t\t\tresolve(true);\r\n\t\t};\r\n\t\tlink.onerror = function (error) {\r\n\t\t\treject(new Error(error));\r\n\t\t};\r\n\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t});\r\n}\r\n\r\n/***\r\n * Load resource: support url types - js, css\r\n * @param {string} url\r\n * @param {function} [callback] - callback() after resource loaded\r\n */\r\nfunction loadResource(url, callback) {\r\n\tif (!checkResourceLoaded(url)) {\r\n\t\tgetUrlTypeInfo(url).loadFn.call(this, url, callback);\r\n\t} else {\r\n\t\tcallback && callback();\r\n\t}\r\n}\r\n\r\n/***\r\n * loadResources: support url, js, css\r\n * @param {string[]} urls - an array of urls\r\n * @param {function} [callback] - callback() after url loaded\r\n */\r\nfunction loadResources(urls, callback) {\r\n\tif (urls !== null && urls !== '') {\r\n\t\tif (Array.isArray(urls)) {\r\n\t\t\turls = urls.filter(function (url) {\r\n\t\t\t\treturn (String(url) === url && url !== '');\r\n\t\t\t});\r\n\t\t\tif (urls.length === 0) {\r\n\t\t\t\tcallback && callback();\r\n\t\t\t} else if (urls.length === 1) {\r\n\t\t\t\tloadResource(urls[0], callback);\r\n\t\t\t} else {\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tloadUrls(urls, callback);\r\n\t\t\t\t} else {\r\n\t\t\t\t\turls.map(function (url) {\r\n\t\t\t\t\t\tloadResource(url);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (String(urls) === urls) {\r\n\t\t\tloadResource(urls, callback);\r\n\t\t}\r\n\t} else {\r\n\t\tcallback && callback();\r\n\t}\r\n}\r\n\r\n/***\r\n * checkResourceLoaded\r\n * @param {string} url\r\n * @returns {boolean}\r\n */\r\nfunction checkResourceLoaded(url) {\r\n\tlet type = getUrlTypeInfo(url),\r\n\t\t\ttypeSelector = type['tagName'] || '[src]',\r\n\t\t\tallUrls = Array.prototype.slice.call(document.querySelectorAll(typeSelector))\r\n\t\t\t\t\t.map(function (scriptElement) {\r\n\t\t\t\t\t\treturn scriptElement[type['urlAttrName']];\r\n\t\t\t\t\t});\r\n\treturn allUrls.indexOf(url) !== -1;\r\n}\r\n\r\n/***\r\n * loadUrls with Promise if it is supported\r\n * @param {string[]} urls - an array of urls\r\n * @param {function} [callback] - callback() after url loaded\r\n */\r\nfunction loadUrls(urls, callback) {\r\n\tlet unLoadedResourcesInfo = urls.filter(function (url) {\r\n\t\treturn !checkResourceLoaded(url);\r\n\t}).map(function (resource) {\r\n\t\tlet resourceInfo = getUrlTypeInfo(resource);\r\n\t\tresourceInfo.url = resource;\r\n\t\treturn resourceInfo;\r\n\t});\r\n\t// If support Promise, use Promise\r\n\tif (typeof Promise !== \"undefined\" && Promise.toString().indexOf(\"[native code]\") !== -1) {\r\n\t\tlet resourcePromise = unLoadedResourcesInfo.map(function (resourceInfo) {\r\n\t\t\treturn resourceInfo.loadFnPromise.call(this, resourceInfo.url);\r\n\t\t});\r\n\t\tPromise.all(resourcePromise).then(function () {\r\n\t\t\tcallback && callback();\r\n\t\t}).catch(function (error) {\r\n\t\t\tconsole.log(\"Error: in load resources! \" + error);\r\n\t\t});\r\n\t} else {\r\n\t\tunLoadedResourcesInfo.forEach(function (resourceInfo) {\r\n\t\t\tresourceInfo.loadFn.call(this, resourceInfo.url);\r\n\t\t});\r\n\t\tcallback && callback();\r\n\t}\r\n}\r\n\r\n/***\r\n * Use XDomainRequest when browser <= IE9, otherwise use XMLHttpRequest(not support < IE9);\r\n * @param {string} url\r\n * @param {function} callback\r\n * @param {object} context: callback's context\r\n */\r\nfunction getFileContent(url, callback, context) {\r\n\tif (document.documentMode <= 9 && window.XDomainRequest) {\r\n\t\txdrGetRequest(url, callback, context)\r\n\t} else {\r\n\t\txmlHTTPGetRequest(url, callback, context);\r\n\t}\r\n\r\n\t/***\r\n\t * xdrGetRequest: send get request in IE <= 9\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t *\r\n\t * XDomainRequest is an implementation of HTTP access control (CORS) that worked in Internet Explorer 8 and 9.\r\n\t * It was removed in Internet Explorer 10 in favor of using XMLHttpRequest with proper CORS;\r\n\t * https://developer.mozilla.org/zh-CN/docs/Web/API/XDomainRequest\r\n\t */\r\n\tfunction xdrGetRequest(url, callback, context) {\r\n\t\tlet xdr = new XDomainRequest();\r\n\t\tif (xdr) {\r\n\t\t\txdr.onload = function () {\r\n\t\t\t\tcallback && (context ? context[callback](xdr.responseText) : callback(xdr.responseText));\r\n\t\t\t};\r\n\t\t\txdr.onerror = function () {\r\n\t\t\t\t/* error handling here */\r\n\t\t\t};\r\n\t\t\txdr.open('GET', url);\r\n\t\t\txdr.send();\r\n\t\t}\r\n\t}\r\n\r\n\t/***\r\n\t * XMLHttpRequest: send get request in IE >= 10, or other browsers\r\n\t * @param {string} url\r\n\t * @param {function} callback\r\n\t * @param {object} context: callback's context\r\n\t */\r\n\tfunction xmlHTTPGetRequest(url, callback, context) {\r\n\t\tlet request = new XMLHttpRequest();\r\n\t\trequest.open('GET', url, true);\r\n\t\trequest.onload = function () {\r\n\t\t\tif (request.status >= 200 && request.status < 400) {\r\n\t\t\t\t// Success\r\n\t\t\t\tcallback && (context ? context[callback](request.responseText) : callback(request.responseText));\r\n\t\t\t} else {\r\n\t\t\t\t// We reached our target server, but it returned an error\r\n\t\t\t}\r\n\t\t};\r\n\t\trequest.onerror = function () {\r\n\t\t\t// There was a connection error of some sort\r\n\t\t};\r\n\t\trequest.send();\r\n\t}\r\n}\r\n\r\n/***\r\n * Ajax request: dependency jQuery\r\n * @param {string} url\r\n * @param {function} callback\r\n * @param {object} context: callback's context\r\n */\r\nfunction getFileContentWithAjax(url, callback, context) {\r\n\t$.ajax({\r\n\t\turl: url,\r\n\t\tsuccess: function (data) {\r\n\t\t\tcallback && (context ? context[callback](data) : callback(data));\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst getScript = (url) => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (isResourceLoaded(url)) {\r\n\t\t\tresolve(true);\r\n\t\t}\r\n\t\tlet script = document.createElement('script'),\r\n\t\t\t\tprior = document.getElementsByTagName('script')[0],\r\n\t\t\t\tisIE9 = (document.documentMode === 9),\r\n\t\t\t\tintervalId,\r\n\t\t\t\ttimeout = 10 * 1000,\r\n\t\t\t\tround = undefined;\r\n\t\tif (round) {\r\n\t\t\turl = addTimestamp(url, round);\r\n\t\t}\r\n\r\n\t\tscript.onload = script.onreadystatechange = script.onerror = function (_, isAbort) {\r\n\t\t\tif (_ && _.type === 'error') {\r\n\t\t\t\tif (intervalId) {\r\n\t\t\t\t\tclearTimeout(intervalId);\r\n\t\t\t\t\tintervalId = null;\r\n\t\t\t\t}\r\n\t\t\t\tscript.onload = script.onreadystatechange = script.onerror = null;\r\n\t\t\t\tscript = undefined;\r\n\t\t\t\treject(new Error(`Load error: ${url}`));\r\n\t\t\t} else if (isAbort || (script && (!script.readyState || /loaded|complete/.test(script.readyState)))) {\r\n\t\t\t\tif (intervalId) {\r\n\t\t\t\t\tclearTimeout(intervalId);\r\n\t\t\t\t\tintervalId = null;\r\n\t\t\t\t}\r\n\t\t\t\tscript.onload = script.onreadystatechange = null;\r\n\t\t\t\tif (!isIE9) {\r\n\t\t\t\t\tscript.onerror = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove the script\r\n\t\t\t\tif (isAbort) {\r\n\t\t\t\t\tif (script.parentNode) {\r\n\t\t\t\t\t\tscript.parentNode.removeChild(script);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!document.documentMode || document.documentMode >= 10) {\r\n\t\t\t\t\tscript = undefined;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isIE9) {\r\n\t\t\t\t\t!isAbort && resolve(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t!isAbort && resolve(true);\r\n\t\t\t\t\t}, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscript.src = url;\r\n\t\tprior.parentNode.insertBefore(script, prior);\r\n\r\n\t\tif (timeout) {\r\n\t\t\tintervalId = setTimeout(function () {\r\n\t\t\t\t// Known issue: script that is timeout, can't be really canceled\r\n\t\t\t\tscript.onload(undefined, true);\r\n\t\t\t\treject(new Error(`Time out: ${url}`));\r\n\t\t\t}, timeout);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nconst getStyle = (url) => {\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tif (!url) {\r\n\t\t\treject(new Error(\"url is null!\"));\r\n\t\t}\r\n\t\tif (isResourceLoaded(url)) {\r\n\t\t\tresolve(true);\r\n\t\t}\r\n\r\n\t\tlet link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.href = url;\r\n\t\tlink.onload = function () {\r\n\t\t\tresolve(true);\r\n\t\t};\r\n\t\tlink.onerror = function (error) {\r\n\t\t\treject(new Error(error));\r\n\t\t};\r\n\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(document.createComment(\" Style \" + getFileNameFromURL(url).name + \" *** CSS \"));\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(link);\r\n\t});\r\n};\r\n\r\nconst getResources = (urls) => {\r\n\tlet allUrls = Array.isArray(urls) ? urls : [urls],\r\n\t\t\tresourcesInfo = allUrls.map((url) => {\r\n\t\t\t\tlet resourceInfo = getUrlTypeInfo(url);\r\n\t\t\t\tresourceInfo.url = url;\r\n\t\t\t\treturn resourceInfo;\r\n\t\t\t}),\r\n\t\t\tresourcesPromise = resourcesInfo.map(urlInfo => {\r\n\t\t\t\tlet loadFn = urlInfo.loadFn === 'getScript' ? getScript : getStyle;\r\n\t\t\t\treturn loadFn(urlInfo.url).then((result) => {\r\n\t\t\t\t\tconsole.log(`Resource loaded: ${urlInfo.url}`);\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\treturn Promise.all(resourcesPromise);\r\n};\r\n\r\nexport {\r\n\tloadScript,\r\n\tloadScriptWithPromise,\r\n\tloadCSS,\r\n\tloadCSSWithPromise,\r\n\tloadResource,\r\n\tloadResources,\r\n\tcheckResourceLoaded,\r\n\tloadUrls,\r\n\tgetFileContent,\r\n\tgetFileContentWithAjax,\r\n\tgetScript,\r\n\tgetStyle,\r\n\tgetResources,\r\n}","/***\r\n * getFileNameFromURL\r\n * @param {string} url\r\n * @returns {object} {name: '', simpleBaseName: '', extensionName: '', baseName: ''}\r\n */\r\nfunction getFileNameFromURL(url) {\r\n\tlet fileNameSplit = url.split('/').pop().split('#')[0].split('?')[0].split('.');\r\n\treturn {\r\n\t\tname: fileNameSplit.join('.'),\r\n\t\tsimpleBaseName: fileNameSplit[0],\r\n\t\textensionName: fileNameSplit.length > 1 ? fileNameSplit[fileNameSplit.length - 1] : '',\r\n\t\tbaseName: fileNameSplit.length > 1 ? fileNameSplit.splice(0, fileNameSplit.length - 1).join('.') : fileNameSplit[0],\r\n\t};\r\n}\r\n\r\nfunction getURLParamByName(name, url = location.url.search) {\r\n\tif (!!URLSearchParams) {\r\n\t\tgetURLParamByName = (name, url) => {\r\n\t\t\treturn new URLSearchParams(url).get(name);\r\n\t\t};\r\n\t} else if (!!URL) {\r\n\t\tgetURLParamByName = (name, url) => {\r\n\t\t\treturn new URL(url).searchParams.get(name);\r\n\t\t};\r\n\t} else {\r\n\t\tgetURLParamByName = (name, url) => {\r\n\t\t\tconst reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');\r\n\t\t\t// 获取地址栏的查询参数字符串\r\n\t\t\tconst search = url.indexOf('http') !== -1 ? url.split('?')[1] : url;\r\n\t\t\tif (search) {\r\n\t\t\t\tconst r = decodeURIComponent(search.split('#')[0]).substring(1).match(reg);\r\n\t\t\t\tif (r) {\r\n\t\t\t\t\treturn unescape(r[2]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t};\r\n\t}\r\n\tgetURLParamByName(name, url);\r\n}\r\n\r\n/***\r\n * getUrlQueryParams\r\n * @param {string} url\r\n * @returns {object}\r\n */\r\nfunction getUrlQueryParams(url) {\r\n\tlet query = {},\r\n\t\t\tsearchStr = url ? (url.indexOf('?') !== -1 ? url.split('?')[1] : '') : location.search.substring(1),\r\n\t\t\tqueryParams = searchStr.split(\"#\")[0].split(\"&\");\r\n\tfor (let i = 0; i < queryParams.length; i++) {\r\n\t\tlet queryParam = queryParams[i].split(\"=\");\r\n\t\tif (queryParam.length > 1) {\r\n\t\t\tquery[queryParam[0]] = decodeURIComponent(queryParam[1]);\r\n\t\t}\r\n\t}\r\n\treturn query;\r\n}\r\n\r\n/***\r\n * getQueryParamValue\r\n * @param param\r\n * @returns {*}\r\n */\r\nfunction getQueryParamValue(param) {\r\n\treturn getURLParamByName(param);\r\n}\r\n\r\n/***\r\n * getCurrentScript in Page\r\n * @param {string} scriptName\r\n * @returns {Element || null}\r\n */\r\nfunction getCurrentScript(scriptName) {\r\n\tlet allScripts = document.getElementsByTagName(\"script\");\r\n\r\n\tif (scriptName) {\r\n\t\tfor (let i = 0; i < allScripts.length; i++) {\r\n\t\t\tlet script = allScripts.item(i);\r\n\r\n\t\t\tif (script.src && script.src.split('?')[0].match(scriptName)) {\r\n\t\t\t\treturn script;\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tif (document.currentScript) {\r\n\t\t\treturn document.currentScript;\r\n\t\t} else {\r\n\t\t\treturn allScripts[allScripts.length - 1];\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n/**\r\n * getCurrentScriptParameter\r\n * @return {Object}\r\n */\r\nfunction getCurrentScriptParameter() {\r\n\tlet currentScript = getCurrentScript(undefined);\r\n\treturn currentScript ? getUrlQueryParams(currentScript.src) : {};\r\n}\r\n\r\n/***\r\n * getCurrentScriptPath in Page\r\n * @param {string} scriptName\r\n * @returns {null|string}\r\n */\r\nfunction getCurrentScriptPath(scriptName) {\r\n\tlet script = getCurrentScript(scriptName);\r\n\treturn script ? script.src : '';\r\n}\r\n\r\n/***\r\n * getRootPath\r\n * @returns {string}\r\n */\r\nfunction getRootPath() {\r\n\tlet href = document.location.href,\r\n\t\t\tpathName = document.location.pathname,\r\n\t\t\tlocalhostPath = href.substring(0, href.indexOf(pathName)),\r\n\t\t\tprojectName = pathName.substring(0, pathName.substr(1).lastIndexOf('/') + 1);\r\n\treturn (localhostPath + projectName);\r\n}\r\n\r\n/**\r\n * getScriptName\r\n * Not support in IE\r\n * @return {*}\r\n */\r\nfunction getScriptName() {\r\n\tlet error = new Error()\r\n\t\t\t, source\r\n\t\t\t, lastStackFrameRegex = new RegExp(/.+\\/(.*?):\\d+(:\\d+)*$/)\r\n\t\t\t, currentStackFrameRegex = new RegExp(/getScriptName \\(.+\\/(.*):\\d+:\\d+\\)/);\r\n\r\n\tif ((source = lastStackFrameRegex.exec(error.stack.trim())) && source[1] != \"\")\r\n\t\treturn source[1];\r\n\telse if ((source = currentStackFrameRegex.exec(error.stack.trim())))\r\n\t\treturn source[1];\r\n\telse if (error['fileName'] !== undefined)\r\n\t\treturn error['fileName'];\r\n}\r\n\r\n/**\r\n * getCurrentScriptSrc\r\n * @return {string}\r\n */\r\nfunction getCurrentScriptSrc() {\r\n\tvar scripts = document.getElementsByTagName(\"script\");\r\n\treturn (document.currentScript || scripts[scripts.length - 1]).src;\r\n}\r\n\r\n/**\r\n * Check url is exist or not, callback with success state\r\n * @param url\r\n * @param callback\r\n * @param context\r\n */\r\nfunction isExist(url, callback, context) {\r\n\tlet link = document.createElement(\"link\"),\r\n\t\t\tisSuccess = true;\r\n\r\n\tlink.onerror = function () {\r\n\t\tisSuccess = false;\r\n\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t};\r\n\tif (link.readyState) {  //IE\r\n\t\tlink.onreadystatechange = function () {\r\n\t\t\tif (link.readyState === \"loaded\" || link.readyState === \"complete\") {\r\n\t\t\t\tlink.onreadystatechange = null;\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tisSuccess && callback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t};\r\n\t} else {  //Others\r\n\t\tlink.onload = function () {\r\n\t\t\tcallback && (context ? context[callback]() : callback(isSuccess));\r\n\t\t};\r\n\t}\r\n\r\n\tlink.href = url;\r\n\t// TODO: type and rel should be accord to with checked file\r\n\tlink.type = 'text/css';\r\n\tlink.rel = 'stylesheet';\r\n\r\n\tdocument.querySelector('head').appendChild(link);\r\n}\r\n\r\nfunction getQueryPramsString(url) {\r\n\tlet query = '';\r\n\tif (!url) {\r\n\t\tquery = window.location.search.substring(1);\r\n\t} else {\r\n\t\tlet urlItems = url.split('?');\r\n\t\tquery = urlItems.length ? urlItems[1] : '';\r\n\t}\r\n\treturn query.split(\"&\");\r\n}\r\n\r\nfunction removeUrlParam(url, param) {\r\n\tif (!!getQueryParamValue(param, url)) {\r\n\t\tlet filteredParams = [],\r\n\t\t\t\ttargetSearch = '';\r\n\t\tgetQueryPramsString()\r\n\t\t\t\t.forEach((query) => {\r\n\t\t\t\t\tif (query.split('=')[0] !== param) {\r\n\t\t\t\t\t\tfilteredParams.push(query);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\tif (filteredParams.length) {\r\n\t\t\ttargetSearch = `?` + filteredParams.join('&');\r\n\t\t}\r\n\t\treturn url.split('?')[0] + targetSearch;\r\n\t}\r\n\treturn url;\r\n}\r\n\r\nfunction removedLocationUrlParam(param) {\r\n\tlet locationUrl = window.location.href,\r\n\t\t\tremovedParamUrl = removeUrlParam(locationUrl, param);\r\n\twindow.history.pushState({}, document.title, removedParamUrl);\r\n}\r\n\r\nexport {\r\n\tgetFileNameFromURL,\r\n\tgetURLParamByName,\r\n\tgetUrlQueryParams,\r\n\tgetQueryParamValue,\r\n\tgetCurrentScript,\r\n\tgetCurrentScriptParameter,\r\n\tgetCurrentScriptPath,\r\n\tgetRootPath,\r\n\tgetScriptName,\r\n\tgetCurrentScriptSrc,\r\n\tisExist,\r\n\tremoveUrlParam,\r\n\tremovedLocationUrlParam,\r\n}","/**!\r\n * YX Common Library v2.0.0.190729_beta | https://github.com/gyx8899/YX-JS-ToolKit/blob/master/assets/js\r\n * Copyright (c) 2018 Kate Kuo @Steper\r\n */\r\n\r\nimport * as algorithm from './util/Algorithm';\r\nimport * as animateElement from './util/AnimateElement';\r\nimport * as animateTiming from './util/AnimateTiming';\r\nimport * as array from './util/Array';\r\nimport * as browser from './util/Browser';\r\nimport * as device from './util/Device';\r\nimport * as element from './util/Element';\r\nimport * as event from './util/Event';\r\nimport * as html from './util/HTML';\r\nimport * as is from './util/IS';\r\nimport * as load from './util/Load';\r\nimport * as math from './util/Math';\r\nimport * as navigator from './util/Navigator';\r\nimport * as page from './util/Page';\r\nimport * as plugin from './util/Plugin';\r\nimport * as regExp from './util/RegExp';\r\nimport * as string from './util/String';\r\nimport * as tool from './util/Tool';\r\nimport * as url from './util/URL';\r\n\r\nimport Event from './components/Event';\r\nimport WebWorker from './components/WebWorker';\r\nimport SharedWorkers from './components/SharedWorkers';\r\n\r\nlet YX = {\r\n\tUtil: {\r\n\t\talgorithm,\r\n\t\tanimateElement,\r\n\t\tanimateTiming,\r\n\t\tarray,\r\n\t\tbrowser,\r\n\t\tdevice,\r\n\t\telement,\r\n\t\tevent,\r\n\t\thtml,\r\n\t\tis,\r\n\t\tload,\r\n\t\tmath,\r\n\t\tnavigator,\r\n\t\tpage,\r\n\t\tplugin,\r\n\t\tregExp,\r\n\t\tstring,\r\n\t\ttool,\r\n\t\turl,\r\n\t},\r\n\tWebWorker,\r\n\tSharedWorkers,\r\n\tevent: new Event(),\r\n};\r\n\r\nexport default YX;","/* 洗牌算法：\r\n    1.生成一个0 - arr.length 的随机数\r\n    2.交换该随机数位置元素和数组的最后一个元素，并把该随机位置的元素放入结果数组\r\n    3.生成一个0 - arr.length - 1 的随机数\r\n    4.交换该随机数位置元素和数组的倒数第二个元素，并把该随机位置的元素放入结果数组\r\n    依次类推，直至取完所需的10k个元素\r\n*/\r\n\r\nfunction shuffle(arr, size) {\r\n    let result = []\r\n    for (let i = 0; i < size; i++) {\r\n        const randomIndex = Math.floor(Math.random() * (arr.length - i))\r\n        const item = arr[randomIndex]\r\n        result.push(item)\r\n        arr[randomIndex] = arr[arr.length - 1 - i]\r\n        arr[arr.length - 1 - i] = item\r\n    }\r\n    return result\r\n}\r\n\r\nexport {\r\n\tshuffle,\r\n}","const elShow = (el, display = 'block') => {\r\n\t// display = 'inline' || 'inline-block' || 'inline-table' || 'block'\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.display = display;\r\n\t}\r\n};\r\n\r\nconst elHide = (el) => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.display = 'none';\r\n\t}\r\n}\r\n\r\nconst elToggle = (el, display = 'block') => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tif (el.ownerDocument.defaultView.getComputedStyle(el, null).display === 'none')\r\n\t\t{\r\n\t\t\tel.style.display = display;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tel.style.display = 'none';\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst elFadeIn = (el, ms = 400, complete) => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.opacity = 0;\r\n\r\n\t\tlet opacity = 0,\r\n\t\t\t\ttimeoutUnit = 50;\r\n\t\tconst timer = setInterval(() => {\r\n\t\t\topacity += 50 / ms;\r\n\t\t\tif (opacity >= 1)\r\n\t\t\t{\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\topacity = 1;\r\n\t\t\t}\r\n\t\t\tel.style.opacity = opacity;\r\n\t\t\tif (opacity >= 1)\r\n\t\t\t{\r\n\t\t\t\tcomplete && complete(el);\r\n\t\t\t}\r\n\t\t}, timeoutUnit);\r\n\t}\r\n}\r\n\r\nconst elFadeOut = (el, ms = 400, complete) => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.transition = `opacity ${ms}ms`;\r\n\t\tel.addEventListener(\r\n\t\t\t\t'transitionend',\r\n\t\t\t\t(event) => {\r\n\t\t\t\t\tel.style.display = 'none';\r\n\t\t\t\t\tcomplete && complete(el);\r\n\t\t\t\t},\r\n\t\t\t\tfalse\r\n\t\t);\r\n\t\tel.style.opacity = 0;\r\n\t}\r\n}\r\n\r\nconst elFadeTo = (el, opacity, ms = 400) => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.transition = `opacity ${ms}ms`;\r\n\t\tel.style.opacity = opacity;\r\n\t}\r\n}\r\n\r\nconst elFadeToggle = (el, ms = 400) => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.transition = 'opacity ${ms}ms';\r\n\t\tlet {opacity} = el.ownerDocument.defaultView.getComputedStyle(el, null);\r\n\t\tif (opacity === '1')\r\n\t\t{\r\n\t\t\tel.style.opacity = 0;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tel.style.opacity = 1;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst elSlideToggle = (el, ms = 400) => {\r\n\tif (!!el && el.nodeType === 1) //Element\r\n\t{\r\n\t\tel.style.transition = `height ${ms}ms`;\r\n\t\tconst {height} = el.ownerDocument.defaultView.getComputedStyle(el, null);\r\n\t\tif (parseInt(height, 10) === 0)\r\n\t\t{\r\n\t\t\tel.style.height = el.getAttribute('attr-height');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tel.setAttribute('attr-height', `${height}px`);\r\n\t\t\tel.style.height = '0px';\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst elAnimate = (el, params, speed) => {\r\n\tif (!!el && el.nodeType === 1 && !!params) //Element\r\n\t{\r\n\t\tel.style.transition = `all ${speed}`;\r\n\t\tObject.keys(params).forEach((key) => {\r\n\t\t\tel.style[key] = params[key];\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport {\r\n\telShow,\r\n\telHide,\r\n\telToggle,\r\n\telFadeIn,\r\n\telFadeOut,\r\n\telFadeTo,\r\n\telFadeToggle,\r\n\telSlideToggle,\r\n\telAnimate\r\n}","// https://javascript.info/js-animation\r\nconst TIMINGS = {\r\n\tLINEAR: linear,\r\n\tQUAD: quad,\r\n\tQUAD_EASE_OUT: makeEaseOut(quad),\r\n\tQUAD_EASE_IN_OUT: makeEaseInOut(quad),\r\n\tCIRC: circ,\r\n\tCIRC_EASE_OUT: makeEaseOut(circ),\r\n\tCIRC_EASE_IN_OUT: makeEaseInOut(circ),\r\n\tBACK: back,\r\n\tBACK_EASE_OUT: makeEaseOut(back),\r\n\tBACK_EASE_IN_OUT: makeEaseInOut(back),\r\n\tBOUNCE: bounce,\r\n\tBOUNCE_EASE_OUT: makeEaseOut(bounce),\r\n\tBOUNCE_EASE_IN_OUT: makeEaseInOut(bounce),\r\n\tELASTIC: elastic,\r\n\tELASTIC_EASE_OUT: makeEaseOut(elastic),\r\n\tELASTIC_EASE_IN_OUT: makeEaseInOut(elastic),\r\n};\r\n\r\nfunction animate({draw = ()=>{}, value = 1, duration = 1000, timing = TIMINGS['LINEAR']})\r\n{\r\n\tlet start = performance.now();\r\n\r\n\trequestAnimationFrame(function animate(time) {\r\n\t\tlet timeFraction = (time - start) / duration;\r\n\t\tif (timeFraction > 1)\r\n\t\t{\r\n\t\t\ttimeFraction = 1;\r\n\t\t}\r\n\r\n\t\tlet progress = timing(timeFraction) * value;\r\n\r\n\t\tdraw(progress);\r\n\r\n\t\tif (timeFraction < 1)\r\n\t\t{\r\n\t\t\trequestAnimationFrame(animate);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction linear(timeFraction)\r\n{\r\n\treturn timeFraction;\r\n}\r\n\r\nfunction quad(timeFraction)\r\n{\r\n\treturn Math.pow(timeFraction, 2);\r\n}\r\n\r\nfunction circ(timeFraction)\r\n{\r\n\treturn 1 - Math.sin(Math.acos(timeFraction));\r\n}\r\n\r\nfunction back(x, timeFraction)\r\n{\r\n\treturn Math.pow(timeFraction, 2) * ((x + 1) * timeFraction - x)\r\n}\r\n\r\nfunction bounce(timeFraction)\r\n{\r\n\tfor (let a = 0, b = 1, result; 1; a += b, b /= 2)\r\n\t{\r\n\t\tif (timeFraction >= (7 - 4 * a) / 11)\r\n\t\t{\r\n\t\t\treturn -Math.pow((11 - 6 * a - 11 * timeFraction) / 4, 2) + Math.pow(b, 2)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction elastic(x, timeFraction)\r\n{\r\n\treturn Math.pow(2, 10 * (timeFraction - 1)) * Math.cos(20 * Math.PI * x / 3 * timeFraction)\r\n}\r\n\r\n// accepts a timing function, returns the transformed variant\r\nfunction makeEaseOut(timing)\r\n{\r\n\treturn function (timeFraction) {\r\n\t\treturn 1 - timing(1 - timeFraction);\r\n\t}\r\n}\r\n\r\nfunction makeEaseInOut(timing)\r\n{\r\n\treturn function (timeFraction) {\r\n\t\tif (timeFraction < .5)\r\n\t\t\treturn timing(2 * timeFraction) / 2;\r\n\t\telse\r\n\t\t\treturn (2 - timing(2 * (1 - timeFraction))) / 2;\r\n\t}\r\n}\r\n\r\nexport {\r\n\tTIMINGS,\r\n\tanimate\r\n}","import {isIOS} from './Device';\r\n\r\n// Browser\r\nconst isSafari = () => {\r\n\treturn !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/)\r\n};\r\n\r\nconst isMobileSafari = () => {\r\n\treturn isSafari() && isIOS();\r\n};\r\n\r\nexport {\r\n\tisSafari,\r\n\tisMobileSafari\r\n}","import {hasClass, addClass, removeClass, toggleClass} from \"../components/ClassName\";\r\nimport {uniqueArray} from \"./Array\";\r\n\r\n/**\r\n * getElements\r\n * @param elements {selector|nodeType|array|nodelist|jquery element}\r\n * @returns {Array}\r\n */\r\nfunction getElements(elements) {\r\n\tlet resultElement = [];\r\n\tif (elements === undefined || elements === null) {\r\n\t\tresultElement = [];\r\n\t} else if (elements.jquery) {\r\n\t\tresultElement = elements.length > 1 ? elements.get() : [elements[0]];\r\n\t} else if (elements instanceof window.NodeList || elements instanceof NodeList || elements instanceof HTMLCollection) {\r\n\t\tresultElement = Array.prototype.slice.call(elements);\r\n\t} else if (Array.isArray(elements)) {\r\n\t\tresultElement = elements.filter(function (element) {\r\n\t\t\treturn element.nodeType === 1 || element.jquery;\r\n\t\t});\r\n\t} else if (elements.nodeType === 1) {\r\n\t\tresultElement = [elements];\r\n\t} else if (typeof elements === 'string') {\r\n\t\tresultElement = document.querySelectorAll(elements);\r\n\t}\r\n\treturn resultElement;\r\n}\r\n\r\n/**\r\n * getSelectorsElements\r\n * @param selectorString\r\n * @returns {*}\r\n */\r\nfunction getSelectorsElements(selectorString) {\r\n\tif (!selectorString || (selectorString && selectorString.trim() === '')) {\r\n\t\treturn [document];\r\n\t}\r\n\tlet selectorsElements = [],\r\n\t\t\tselectorsArray = selectorString.split(',').map(function (selectorStringItem) {\r\n\t\t\t\treturn selectorStringItem.trim();\r\n\t\t\t});\r\n\tselectorsArray = uniqueArray(selectorsArray);\r\n\tfor (let i = 0, l = selectorsArray.length; i < l; i++) {\r\n\t\tif (selectorsArray[i] === 'document') {\r\n\t\t\tselectorsElements.push(document);\r\n\t\t} else {\r\n\t\t\tlet scopeNodeList = convertNodeListToArray(document.querySelectorAll(selectorsArray[i]));\r\n\t\t\tselectorsElements = selectorsElements.concat(scopeNodeList);\r\n\t\t}\r\n\t}\r\n\treturn selectorsElements;\r\n}\r\n\r\n/**\r\n * findParent\r\n * @param element\r\n * @param selector\r\n * @returns {*}\r\n */\r\nfunction findParent(element, selector) {\r\n\twhile ((element = element.parentElement) && !matches(element, selector)) {\r\n\t}\r\n\treturn element;\r\n}\r\n\r\n/**\r\n * matches\r\n * @param el\r\n * @param selector\r\n * @returns {boolean | *}\r\n */\r\nfunction matches(el, selector) {\r\n\treturn (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n}\r\n\r\n/***\r\n * Get element's closet class parent element\r\n * @param {element} element\r\n * @param {string} className\r\n * @returns {element}\r\n */\r\nfunction closest(element, className) {\r\n\tlet closetElement = null;\r\n\tif (hasClass(element, className)) {\r\n\t\tclosetElement = element;\r\n\t} else {\r\n\t\tclosetElement = findParent(element, '.' + className);\r\n\t}\r\n\treturn closetElement;\r\n}\r\n\r\n/***\r\n * Check element has parentElement\r\n * @param el\r\n * @param parentElement\r\n * @returns {boolean}\r\n */\r\nfunction hasClosest(el, parentElement) {\r\n\tif (el === parentElement) {\r\n\t\treturn true;\r\n\t}\r\n\tif (parentElement === undefined) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet parents = [], p = el.parentNode;\r\n\twhile (p !== parentElement && p.parentNode) {\r\n\t\tlet o = p;\r\n\t\tparents.push(o);\r\n\t\tp = o.parentNode;\r\n\t}\r\n\treturn p === parentElement;\r\n}\r\n\r\nfunction parentsUntil(el, selector, filter) {\r\n\tconst result = [];\r\n\r\n\t// match start from parent\r\n\tel = el.parentElement;\r\n\twhile (el && !matches(el, selector)) {\r\n\t\tif (!filter) {\r\n\t\t\tresult.push(el);\r\n\t\t} else {\r\n\t\t\tif (matches(el, filter)) {\r\n\t\t\t\tresult.push(el);\r\n\t\t\t}\r\n\t\t}\r\n\t\tel = el.parentElement;\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/***\r\n * Convert JS selector elements to array\r\n * @param {elements} nodeList\r\n * @returns {Array}\r\n */\r\nfunction convertNodeListToArray(nodeList) {\r\n\tlet resultArray = [];\r\n\tfor (let i = 0, l = nodeList.length; i < l; i++) {\r\n\t\tresultArray[i] = nodeList[i];\r\n\t}\r\n\treturn resultArray;\r\n}\r\n\r\n/**\r\n * Insert style to head\r\n * @param {string} cssText - style string\r\n * @param {string} id - id string\r\n */\r\nfunction insertStyleToHead(cssText, id) {\r\n\tlet head = document.head || document.getElementsByTagName('head')[0],\r\n\t\t\tstyle = document.createElement('style');\r\n\r\n\tstyle.type = 'text/css';\r\n\tif (!!id) {\r\n\t\tstyle.id = id;\r\n\t}\r\n\tif (style.styleSheet) {\r\n\t\tstyle.styleSheet.cssText = cssText;\r\n\t} else {\r\n\t\tstyle.appendChild(document.createTextNode(cssText));\r\n\t}\r\n\r\n\thead.appendChild(style);\r\n}\r\n\r\n/**\r\n * Create one html tag element with tagInfo\r\n * @param {string} tagName - html tag name\r\n * @param {object} tagInfo - tag's attributes and style object, such as { attr: {}, style: {} }\r\n * @return {element} html tag element.\r\n */\r\nfunction createTagElement(tagName, tagInfo) {\r\n\tlet tagElement = document.createElement(tagName);\r\n\r\n\tObject.keys(tagInfo.attr).forEach(function (key) {\r\n\t\ttagElement.setAttribute(key, tagInfo.attr[key]);\r\n\t});\r\n\r\n\tObject.keys(tagInfo.style).forEach(function (key) {\r\n\t\ttagElement.style[key] = tagInfo.style[key];\r\n\t});\r\n\r\n\treturn tagElement;\r\n}\r\n\r\n/**\r\n * addChildElement\r\n * @param targetElement\r\n * @param addedElement\r\n * @param position\r\n * @return resultAddedElement\r\n */\r\nfunction addElement(targetElement, addedElement, position) {\r\n\tlet resultAddedElement = null;\r\n\tif (!!targetElement && !!addedElement) {\r\n\t\tswitch (position && position.toLowerCase()) {\r\n\t\t\tcase 'replace':\r\n\t\t\t\tif (!!addedElement.nodeType) {\r\n\t\t\t\t\ttargetElement.innerHTML = '';\r\n\t\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetElement.innerHTML = addedElement;\r\n\t\t\t\t\tresultAddedElement = targetElement.firstChild;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'prepend':\r\n\t\t\t\tif (!!addedElement.nodeType) {\r\n\t\t\t\t\tresultAddedElement = targetElement.insertBefore(addedElement, targetElement.firstChild);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetElement.insertAdjacentHTML('afterbegin', addedElement);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertbefore':\r\n\t\t\t\tif (!!addedElement.nodeType) {\r\n\t\t\t\t\ttargetElement.insertAdjacentHTML('beforebegin', addedElement.outerHTML);\r\n\t\t\t\t\tresultAddedElement = targetElement.previousElementSibling;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (targetElement.parentNode) {\r\n\t\t\t\t\t\ttargetElement.parentNode.insertBefore(addedElement, targetElement);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'insertafter':\r\n\t\t\t\tif (!!addedElement.nodeType) {\r\n\t\t\t\t\ttargetElement.insertAdjacentHTML('afterend', addedElement.outerHTML);\r\n\t\t\t\t\tresultAddedElement = targetElement.nextElementSibling;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (targetElement.parentNode) {\r\n\t\t\t\t\t\ttargetElement.parentNode.insertBefore(addedElement, targetElement.nextSibling);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault: //'append'\r\n\t\t\t\tif (!!addedElement.nodeType) {\r\n\t\t\t\t\tresultAddedElement = targetElement.appendChild(addedElement);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetElement.insertAdjacentHTML('beforeend', addedElement);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn resultAddedElement;\r\n}\r\n\r\nexport {\r\n\thasClass,\r\n\taddClass,\r\n\tremoveClass,\r\n\ttoggleClass,\r\n\tgetElements,\r\n\tgetSelectorsElements,\r\n\tfindParent,\r\n\tmatches,\r\n\tclosest,\r\n\thasClosest,\r\n\tconvertNodeListToArray,\r\n\tinsertStyleToHead,\r\n\tcreateTagElement,\r\n\taddElement,\r\n}","/**\r\n * ClassName v1.1.3.20190717\r\n */\r\nclass ClassName {\r\n\tconstructor()\r\n\t{\r\n\t\tif (!document.createElement('div').classList)\r\n\t\t{\r\n\t\t\tthis.has = this._has;\r\n\t\t\tthis.add = this._add;\r\n\t\t\tthis.remove = this._remove;\r\n\t\t\tthis.toggle = this._toggle;\r\n\t\t}\r\n\t}\r\n\r\n\thas(element, className)\r\n\t{\r\n\t\treturn element.classList.contains(className);\r\n\t}\r\n\r\n\t_has(element, className)\r\n\t{\r\n\t\treturn (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className));\r\n\t}\r\n\r\n\tadd(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassList(element, className, true);\r\n\t}\r\n\r\n\tremove(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassList(element, className, false);\r\n\t}\r\n\r\n\t_add(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassName(element, className, true);\r\n\t}\r\n\r\n\t_remove(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassName(element, className, false);\r\n\t}\r\n\r\n\ttoggle(element, className)\r\n\t{\r\n\t\tlet elements = element.length ? element : [element];\r\n\t\treturn [].forEach.call(elements, item => item.classList.toggle(className));\r\n\t}\r\n\r\n\t_toggle(element, className)\r\n\t{\r\n\t\treturn this._addRemoveClassName(element, className);\r\n\t}\r\n\r\n\t_addRemoveClassList(element, className, force)\r\n\t{\r\n\t\tlet elements = element.length ? element : [element];\r\n\t\treturn [].forEach.call(elements, item => item.classList[force ? 'add' : 'remove'](className));\r\n\t}\r\n\r\n\t_addRemoveClassName(element, className, force)\r\n\t{\r\n\t\tlet elements = element.length ? element : [element];\r\n\t\treturn [].forEach.call(elements, item => {\r\n\t\t\tlet hasClass = this.has(item, className);\r\n\t\t\tif (hasClass !== force)\r\n\t\t\t{\r\n\t\t\t\tif (hasClass)\r\n\t\t\t\t{\r\n\t\t\t\t\titem.className = item.className.replace(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'), ' ');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\titem.className += ' ' + className;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nconst isElement = (o) => {\r\n\treturn (\r\n\t\t\ttypeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\r\n\t\t\t\t\to && typeof o === \"object\" && o.nodeType === 1 && typeof o.nodeName === \"string\"\r\n\t);\r\n};\r\n\r\nconst argumentsProxyHandler = {\r\n\tget(target, propKey, receiver)\r\n\t{\r\n\t\treturn function (...args) {\r\n\t\t\tif (!isElement(args[0]))\r\n\t\t\t{\r\n\t\t\t\tthrow new Error(`element: \"${args[0]}\" should be an HTMLElement.`);\r\n\t\t\t}\r\n\t\t\tif (typeof args[1] !== 'string' || args[1] === '')\r\n\t\t\t{\r\n\t\t\t\tthrow new Error(`className: \"${args[1]}\" should be an non-empty string.`);\r\n\t\t\t}\r\n\t\t\treturn target[propKey].apply(this, args);\r\n\t\t};\r\n\t}\r\n};\r\n\r\nconst className = new Proxy(new ClassName(), argumentsProxyHandler);\r\n\r\nconst hasClass = className.has.bind(className);\r\nconst addClass = className.add.bind(className);\r\nconst removeClass = className.remove.bind(className);\r\nconst toggleClass = className.toggle.bind(className);\r\n\r\nexport {hasClass, addClass, removeClass, toggleClass};","/**\r\n * delegate element event\r\n * @param element\r\n * @param eventName\r\n * @param selector\r\n * @param handler\r\n */\r\nfunction delegate(element, eventName, selector, handler) {\r\n\tlet possibleTargets = element.querySelectorAll(selector);\r\n\telement.addEventListener(eventName, listenerHandler);\r\n\r\n\tfunction listenerHandler(event) {\r\n\t\tlet target = event.target;\r\n\r\n\t\tfor (let i = 0, l = possibleTargets.length; i < l; i++) {\r\n\t\t\tlet el = target,\r\n\t\t\t\t\tp = possibleTargets[i];\r\n\r\n\t\t\twhile (el && el !== element) {\r\n\t\t\t\tif (el === p) {\r\n\t\t\t\t\treturn handler.call(p, event);\r\n\t\t\t\t}\r\n\t\t\t\tel = el.parentNode;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * bindClickIgnoreDrag\r\n * @param elements\r\n * @param callback\r\n * @param isBind\r\n */\r\nfunction bindClickIgnoreDrag(elements, callback, isBind) {\r\n\tlet eventListenerName = isBind !== false ? 'on' : 'off',\r\n\t\t\tmouseDownX = 0,\r\n\t\t\tmouseDownY = 0;\r\n\r\n\t[].forEach.call(elements, function (element) {\r\n\t\textendOnOff(element)[eventListenerName]('mousedown', mouseDownHandler);\r\n\t});\r\n\r\n\tfunction mouseDownHandler(event) {\r\n\t\tmouseDownX = event.pageX;\r\n\t\tmouseDownY = event.pageY;\r\n\t\tevent.target.addEventListener('mouseup', mouseUpMoveHandler);\r\n\t\tevent.target.addEventListener('mousemove', mouseUpMoveHandler);\r\n\t}\r\n\r\n\tfunction mouseUpMoveHandler(event) {\r\n\t\tif (event.type === 'mouseup' && event.which <= 1) //only for left key\r\n\t\t{\r\n\t\t\tcallback(event);\r\n\t\t} else if (event.type === 'mousemove' && event.pageX === mouseDownX && event.pageY === mouseDownY) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tevent.target.removeEventListener('mouseup', mouseUpMoveHandler);\r\n\t\tevent.target.removeEventListener('mousemove', mouseUpMoveHandler);\r\n\t}\r\n}\r\n\r\n/**\r\n * triggerEvent\r\n * @param element\r\n * @param eventName\r\n * @param data\r\n */\r\nfunction triggerEvent(element, eventName, data) {\r\n\tlet event = null;\r\n\tif (CustomEvent) {\r\n\t\tevent = new CustomEvent(eventName, {detail: data});\r\n\t} else {\r\n\t\tevent = document.createEvent('CustomEvent');\r\n\t\tevent.initCustomEvent(eventName, true, true, data);\r\n\t}\r\n\r\n\telement.dispatchEvent(event);\r\n}\r\n\r\n/**\r\n * Extend on/off methods\r\n * @param el: element\r\n * @returns {*}\r\n */\r\nfunction extendOnOff(el) {\r\n\tif (el.length === 0)\r\n\t\treturn null;\r\n\tlet events = {\r\n\t\ton: function (event, callback, opts) {\r\n\t\t\tif (!this.namespaces) // save the namespaces on the DOM element itself\r\n\t\t\t\tthis.namespaces = {};\r\n\r\n\t\t\tthis.namespaces[event] = callback;\r\n\t\t\tlet options = opts || false;\r\n\r\n\t\t\tthis.addEventListener(event.split('.')[0], callback, options);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\toff: function (event) {\r\n\t\t\tthis.removeEventListener(event.split('.')[0], this.namespaces[event]);\r\n\t\t\tdelete this.namespaces[event];\r\n\t\t\treturn this;\r\n\t\t}\r\n\t};\r\n\r\n\t// Extend the DOM with these above custom methods\r\n\tif (!el.isExtendOnOff) {\r\n\t\tel.on = Element.prototype.on = events.on;\r\n\t\tel.off = Element.prototype.off = events.off;\r\n\t\tel.isExtendOnOff = true;\r\n\t}\r\n\treturn el;\r\n}\r\n\r\n/**\r\n * mouseTouchTrack\r\n * @param element\r\n * @param infoCallback\r\n */\r\nfunction mouseTouchTrack(element, infoCallback) {\r\n\tlet touchStartBeginTime = 0,\r\n\t\t\tlastEventType = '';\r\n\r\n\telement.onclick = trackEvent;\r\n\telement.ontouchstart = trackEvent;\r\n\telement.ontouchend = trackEvent;\r\n\telement.ontouchmove = trackEvent;\r\n\telement.onmousedown = trackEvent;\r\n\telement.onmouseenter = trackEvent;\r\n\telement.onmouseleave = trackEvent;\r\n\telement.onmousemove = trackEvent;\r\n\telement.onmouseout = trackEvent;\r\n\telement.onmouseover = trackEvent;\r\n\telement.onmouseup = trackEvent;\r\n\r\n\tfunction trackEvent(event) {\r\n\t\tif (event.type === \"touchstart\") {\r\n\t\t\ttouchStartBeginTime = Date.now();\r\n\t\t}\r\n\t\tif (event.type !== lastEventType) {\r\n\t\t\tinfoCallback = infoCallback ? infoCallback : console.log;\r\n\t\t\tinfoCallback(arguments, event.type, Date.now() - touchStartBeginTime);\r\n\r\n\t\t\tlastEventType = event.type;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction notification(option, spopOption) {\r\n\tlet showNotification = (option) => {\r\n\t\tif (option.registration && option.registration.showNotification) {\r\n\t\t\toption.registration.showNotification(option.title, option);\r\n\t\t} else {\r\n\t\t\tlet noti = new Notification(option.title, option);\r\n\t\t\tlet autoclose = option.autoclose;\r\n\t\t\tif (autoclose !== undefined) {\r\n\t\t\t\tnoti.onshow = () => {\r\n\t\t\t\t\tsetTimeout(noti.close.bind(noti), autoclose);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tif (!(\"Notification\" in window)) {\r\n\t\tYX.Plugin.spop(spopOption);\r\n\t} else if (Notification.permission === \"granted\") {\r\n\t\tshowNotification(option);\r\n\t} else if (Notification.permission !== 'denied') {\r\n\t\tNotification.requestPermission(function (permission) {\r\n\t\t\tif (permission === \"granted\") {\r\n\t\t\t\tshowNotification(option);\r\n\t\t\t} else {\r\n\t\t\t\tYX.Plugin.spop(spopOption);\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tYX.Plugin.spop(spopOption);\r\n\t}\r\n}\r\n\r\nexport {\r\n\tdelegate,\r\n\tbindClickIgnoreDrag,\r\n\ttriggerEvent,\r\n\textendOnOff,\r\n\tmouseTouchTrack,\r\n\tnotification,\r\n}","/**\r\n * Initialize template with template/templateData and source data\r\n * @param {string} template\r\n * @param {object} templateData\r\n * @param {object} [sourceData], for external data process from templateData function\r\n * @returns {string}\r\n */\r\nfunction initTemplate(template, templateData, sourceData) {\r\n\tlet result = template;\r\n\tfor (let key in templateData) {\r\n\t\tif (templateData.hasOwnProperty(key)) {\r\n\t\t\tlet dataValue = templateData[key];\r\n\t\t\t// Process source data to required data if the templateData key's value is function\r\n\t\t\tif (typeof templateData[key] === 'function') {\r\n\t\t\t\tdataValue = templateData[key](sourceData);\r\n\t\t\t}\r\n\t\t\tresult = result.replace(new RegExp('{{' + key + '}}', \"g\"), dataValue);\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * Render template with data and put it to target element\r\n * @param targetElement\r\n * @param template\r\n * @param sourceData\r\n * @param templateDataFn\r\n * @param [position], values=[update,beforebegin,afterbegin,beforeend,afterend], default update\r\n */\r\nfunction renderTemplate(targetElement, template, sourceData, templateDataFn, position) {\r\n\tlet resultHtml = '';\r\n\tfor (let i = 0; i < sourceData.length; i++) {\r\n\t\tresultHtml += initTemplate(template, templateDataFn(sourceData[i]), sourceData[i]);\r\n\t}\r\n\tif (!position || position === 'update') {\r\n\t\ttargetElement.innerHTML = resultHtml;\r\n\t} else {\r\n\t\ttargetElement.insertAdjacentHTML(position, resultHtml);\r\n\t}\r\n}\r\n\r\nexport {\r\n\tinitTemplate,\r\n\trenderTemplate,\r\n}","// is\r\nconst isWindow = (obj) => {\r\n\treturn obj !== null && obj !== undefined && obj === obj.window;\r\n}\r\n\r\nconst isNumeric = (value) => {\r\n\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nconst isFunction = (item) => {\r\n\tif (typeof item === 'function') {\r\n\t\treturn true;\r\n\t}\r\n\tlet type = Object.prototype.toString.call(item);\r\n\treturn type === '[object Function]' || type === '[object GeneratorFunction]';\r\n}\r\n\r\nconst isEmptyObject = (obj) => {\r\n\treturn Object.keys(obj).length === 0;\r\n}\r\n\r\nconst isPlainObject = (obj) => {\r\n\tif (typeof (obj) !== 'object' || obj.nodeType || obj !== null && obj !== undefined && obj === obj.window) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (obj.constructor &&\r\n\t\t\t!Object.prototype.hasOwnProperty.call(obj.constructor.prototype, 'isPrototypeOf')) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\n// isTypeOf\r\nlet _toString = Object.prototype.toString\r\nlet map = {\r\n  array: 'Array',\r\n  object: 'Object',\r\n  function: 'Function',\r\n  string: 'String',\r\n  null: 'Null',\r\n  undefined: 'Undefined',\r\n  boolean: 'Boolean',\r\n  number: 'Number'\r\n}\r\nconst getType = (item) => {\r\n  return _toString.call(item).slice(8, -1)\r\n}\r\nconst isTypeOf = (item, type) => {\r\n  return map[type] && map[type] === getType(item)\r\n}\r\n\r\nexport {\r\n\tisWindow,\r\n\tisNumeric,\r\n\tisFunction,\r\n\tisEmptyObject,\r\n\tisPlainObject,\r\n\tisTypeOf\r\n}","function isPrime(number) {\r\n\tif (number === 0 || number === 1) {\r\n\t\treturn true;\r\n\t}\r\n\tfor (let i = 2; i <= Math.sqrt(number); i++) {\r\n\t\tif (number % i === 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nexport {\r\n\tisPrime,\r\n}","/**\r\n * Check browser language setting which has zh[-CN/TW/HK]\r\n * @return {boolean}\r\n */\r\nfunction isZHLanguage() {\r\n\tlet browserLanguage = navigator.languages ? navigator.languages : navigator.browserLanguage;\r\n\treturn !!browserLanguage && browserLanguage.some(language => {\r\n\t\treturn language.indexOf('zh') === 0;\r\n\t});\r\n}\r\n\r\nexport {\r\n\tisZHLanguage,\r\n}","/**\r\n * scrollListToIndex\r\n * @param listFolder\r\n * @param index\r\n * @param toTopIndex\r\n * @param duration\r\n */\r\nfunction scrollListToIndex(listFolder, index, toTopIndex, duration) {\r\n\tif (index === 0) {\r\n\t\tscrollTo(listFolder, 0, duration);\r\n\t} else {\r\n\t\tlet listItems = listFolder.childNodes,\r\n\t\t\t\tscrollOffset = 0,\r\n\t\t\t\tcontentHeight = 0,\r\n\t\t\t\tscrollToCenter = 0;\r\n\t\tduration = (duration === undefined ? 500 : duration);\r\n\t\tfor (let i = 0, l = listItems.length; i < l; i++) {\r\n\t\t\tlet listItemHeight = listItems[i].offsetHeight;\r\n\t\t\tif (i < index) {\r\n\t\t\t\tscrollOffset += listItemHeight;\r\n\t\t\t\tif (i > toTopIndex - 1) {\r\n\t\t\t\t\tscrollToCenter += listItems[i - toTopIndex].offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcontentHeight += listItemHeight;\r\n\t\t}\r\n\t\tscrollOffset = scrollToCenter;\r\n\t\tif (scrollOffset + listFolder.offsetHeight > contentHeight) {\r\n\t\t\tscrollOffset = contentHeight - listFolder.offsetHeight;\r\n\t\t}\r\n\t\tscrollTo(listFolder, scrollOffset, duration);\r\n\t}\r\n}\r\n\r\n/**\r\n * scrollTo\r\n * @param element\r\n * @param to\r\n * @param duration\r\n */\r\nfunction scrollTo(element, to, duration) {\r\n\tif (duration <= 0) return;\r\n\tlet difference = to - element.scrollTop;\r\n\tlet perTick = difference / duration * 10;\r\n\r\n\tsetTimeout(function () {\r\n\t\telement.scrollTop = element.scrollTop + perTick;\r\n\t\tif (element.scrollTop === to) return;\r\n\t\tscrollTo(element, to, duration - 10);\r\n\t}, 10);\r\n}\r\n\r\nexport {\r\n\tscrollListToIndex,\r\n\tscrollTo,\r\n}","import {loadScriptWithPromise, loadCSSWithPromise, checkResourceLoaded} from \"./Load\";\r\n\r\nfunction spop(options) {\r\n\tconst commonPath = 'https://gyx8899.github.io/YX-WebThemeKit/';\r\n\tconst spopScript = commonPath + 'theme-pop/spop/spop.min.js';\r\n\tconst spopStyle = commonPath + 'theme-pop/spop/spop.min.css';\r\n\tconst successCallback = () => {\r\n\r\n\t};\r\n\tlet promiseArray = [];\r\n\tif (!checkResourceLoaded(spopScript)) {\r\n\t\tpromiseArray.push(loadScriptWithPromise(spopScript));\r\n\t}\r\n\tif (!checkResourceLoaded(spopStyle)) {\r\n\t\tpromiseArray.push(loadCSSWithPromise(spopStyle));\r\n\t}\r\n\tPromise.all(promiseArray)\r\n\t\t\t.then((results) => {\r\n\t\t\t\tif (results.every(item => !!item)) {\r\n\t\t\t\t\tspop(options);\r\n\t\t\t\t}\r\n\t\t\t});\r\n}\r\n\r\nexport {\r\n\tspop\r\n}","/***\r\n * regExpG\r\n * @param expStr\r\n * @returns {RegExp}\r\n */\r\nfunction regExpG(expStr) {\r\n\treturn new RegExp(expStr, \"g\");\r\n}\r\n\r\n/***\r\n * isURL\r\n * @param url\r\n * @returns {boolean}\r\n */\r\nfunction isURL(url) {\r\n\tlet expression = /(((http|ftp|https):\\/\\/)?([\\w\\-_]+(\\.(?!(\\d)+)[\\w\\-_]+))+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?)|(\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*)/g;\r\n\treturn (new RegExp(expression)).test(url);\r\n}\r\n\r\nexport {\r\n\tregExpG,\r\n\tisURL,\r\n}","/**\r\n * Capitalize the first word\r\n * @param string\r\n * @return {string}\r\n */\r\nfunction titleCase(string) {\r\n\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\n/***\r\n * escapeHTML\r\n * @param {string} str\r\n * @returns {void|string}\r\n */\r\nfunction escapeHTML(str) {\r\n\tlet map = {\r\n\t\t'&': '&amp;',\r\n\t\t'<': '&lt;',\r\n\t\t'>': '&gt;',\r\n\t\t'\"': '&quot;',\r\n\t\t\"'\": '&#039;'\r\n\t};\r\n\r\n\treturn str.replace(/[&<>\"']/g, function (m) {\r\n\t\treturn map[m];\r\n\t});\r\n}\r\n\r\n/**\r\n * Escape string for js parameter\r\n * @param str\r\n * @return {*}\r\n */\r\nfunction escapeJS(str) {\r\n\treturn escapeHTML(str.replace(/[\\\\]/g, '\\\\\\\\').replace(/[\"]/g, '\\\\\\\"').replace(/[']/g, \"\\\\\\'\"));\r\n}\r\n\r\nexport {\r\n\ttitleCase,\r\n\tescapeHTML,\r\n\tescapeJS,\r\n}","/**\r\n * Event v1.1.2.20190724\r\n */\r\nclass Event {\r\n\tconstructor()\r\n\t{\r\n\t\tthis._cache = {};\r\n\t\tthis._unread = {};\r\n\t}\r\n\r\n\ton(key, fn, isFirst = false)\r\n\t{\r\n\t\tif (!this._cache[key])\r\n\t\t{\r\n\t\t\tthis._cache[key] = [];\r\n\t\t}\r\n\t\tif (typeof fn === 'function')\r\n\t\t{\r\n\t\t\tthis._cache[key][isFirst ? 'unshift' : 'push'](fn);\r\n\r\n\t\t\tlet unReads = this._unread[key];\r\n\t\t\tif (!!unReads)\r\n\t\t\t{\r\n\t\t\t\tunReads.forEach(args => {\r\n\t\t\t\t\tthis.trigger(key, ...args);\r\n\t\t\t\t});\r\n\t\t\t\tthis._unread[key] = [];\r\n\t\t\t\tdelete this._unread[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow new Error(`Your listen on ${fn} is not one valid function!`);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\toff(key, fn)\r\n\t{\r\n\t\tlet fns = this._cache[key];\r\n\t\tif (fns !== undefined && fns.length !== 0)\r\n\t\t{\r\n\t\t\tlet index = fns.indexOf(fn);\r\n\t\t\tif (index >= 0)\r\n\t\t\t{\r\n\t\t\t\tthis._cache[key].splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!fn)\r\n\t\t{\r\n\t\t\tdelete this._cache[key];\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tonce(key, fn)\r\n\t{\r\n\t\tlet that = this,\r\n\t\t\t\tnewFn = function () {\r\n\t\t\t\t\tfn.call(that, ...arguments);\r\n\t\t\t\t\tthat.off(key);\r\n\t\t\t\t};\r\n\t\tthis.on(key, newFn);\r\n\t}\r\n\r\n\ttrigger(key)\r\n\t{\r\n\t\t[].shift.call(arguments);\r\n\t\tlet args = [].slice.call(arguments),\r\n\t\t\t\tcacheFns = this._cache[key];\r\n\t\tif (!!cacheFns)\r\n\t\t{\r\n\t\t\tcacheFns.forEach(fn => {\r\n\t\t\t\tfn.call(this, ...args);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis._unread[key] = this._unread[key] || [];\r\n\t\t\tthis._unread[key].push(arguments);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tdestroy()\r\n\t{\r\n\t\tObject.keys(this._cache).forEach(key => delete this._cache[key]);\r\n\t\tObject.keys(this._unread).forEach(key => delete this._unread[key]);\r\n\t}\r\n}\r\n\r\nexport default Event;","import {call} from '../util/Tool';\r\n\r\nclass WebWorker {\r\n\tconstructor(options) {\r\n\t\tif (window.Worker && options.workerUrl) {\r\n\t\t\tthis.worker = new Worker(options.workerUrl);\r\n\t\t\tthis.onMessage();\r\n\t\t\tthis.onError(options && options.errorCallback);\r\n\t\t} else {\r\n\t\t\talert('Browser does not support Worker, or workerUrl not set!');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getInstance(options) {\r\n\t\tif (!this.instance) {\r\n\t\t\tthis.instance = new WebWorker(options);\r\n\t\t}\r\n\t\treturn this.instance;\r\n\t}\r\n\r\n\tonMessage() {\r\n\t\tthis.worker.onmessage = function (e) {\r\n\t\t\tif (e.data) {\r\n\t\t\t\tlet {result, callback} = e.data;\r\n\t\t\t\tcall(callback, result);\r\n\t\t\t} else {\r\n\t\t\t\talert(`onmessage error: ${e}!`);\r\n\t\t\t}\r\n\t\t\t// throw new Error('Something wrong!'); // onerror\r\n\t\t};\r\n\t}\r\n\r\n\tpostMessage(method = null, params = [], callback = null, scripts = [], isClose = false) {\r\n\t\tscripts = Array.isArray(scripts) ? scripts : [scripts];\r\n\t\tthis.worker.postMessage({method, params, callback, scripts});\r\n\t}\r\n\r\n\tonError(errorCallback) {\r\n\t\tthis.worker.onerror = function (err) {\r\n\t\t\tconsole.table(err);\r\n\t\t\terrorCallback && errorCallback(err);\r\n\t\t};\r\n\t}\r\n\r\n\tterminate() {\r\n\t\tthis.worker.terminate();\r\n\t}\r\n}\r\n\r\nexport default WebWorker;","import {call} from '../util/Tool';\r\n\r\nclass SharedWorkers {\r\n\tconstructor(options) {\r\n\t\tif (window.Worker && options.workerUrl) {\r\n\t\t\tthis.worker = new SharedWorker(options.workerUrl);\r\n\t\t\t// this.worker.port.start();\r\n\t\t} else {\r\n\t\t\talert('Browser does not support Worker, or workUrl not set!');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getInstance(options) {\r\n\t\tif (!this.instance) {\r\n\t\t\tthis.instance = new SharedWorkers(options);\r\n\t\t}\r\n\t\treturn this.instance;\r\n\t}\r\n\r\n\tonMessage(callback) {\r\n\t\tthis.worker.port.onmessage = (e) => {\r\n\t\t\tcallback && callback(e);\r\n\t\t\tif (e.data.callback) {\r\n\t\t\t\tlet {message, callback} = e.data;\r\n\t\t\t\tcall(callback, message);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpostMessage(postData) {\r\n\t\t// Case 1: call function like webworker, just compute;\r\n\t\t// postData =\r\n\t\t// {\r\n\t\t// \ttype: 'apply',\r\n\t\t// \t// method: 'isPrime', // function name or calling path\r\n\t\t// \tmethod: 'isPrime', // function name or calling path\r\n\t\t// \t// params: 8, // one param or array params;\r\n\t\t// \tparams: [8], // one param or array params;\r\n\t\t// \t// scripts: 'common.js', // method dependency script files (relative/absolute) path;\r\n\t\t// \tscripts: ['common.js', 'util.js'], // method dependency script files (relative/absolute) path;;\r\n\t\t// \t// callback: 'isPrimeCallback', // function name or calling path\r\n\t\t// \tcallback: 'consoleLog'\r\n\t\t// };\r\n\r\n\t\t// Case 2.1: Post the called function result to which post listen this event\r\n\t\t// postData =\r\n\t\t// {\r\n\t\t// \ttype: 'post',\r\n\t\t// \tevent: 'postComputeResult', // post to this event listener;\r\n\t\t// \t// method: 'isPrime', // function name or calling path;\r\n\t\t// \tmethod: 'isPrime', // function name or calling path;\r\n\t\t// \t// params: 8, // one param or array params;\r\n\t\t// \tparams: [8], // one param or array params;\r\n\t\t// \t// scripts: 'common.js', // method dependency script files (relative/absolute) path;\r\n\t\t// \tscripts: ['common.js', 'util.js'], // method dependency script files (relative/absolute) path;\r\n\t\t// \t// callback: 'isPrimeCallback', // function name or calling path;\r\n\t\t// \tcallback: 'consoleLog'\r\n\t\t// };\r\n\t\t// Case 2.2: Post message to special event listener;\r\n\t\t// postData =\r\n\t\t// {\r\n\t\t// \ttype: 'post',\r\n\t\t// \tevent: 'postEventMessage',\r\n\t\t// \tmessage: 'This is post message'\r\n\t\t// };\r\n\t\t// Case 3: Get message from special event listener;\r\n\t\t// postData =\r\n\t\t// {\r\n\t\t// \ttype: 'get',\r\n\t\t// \tevent: 'postEventMessage'\r\n\t\t// };\r\n\t\tthis.worker.port.postMessage(postData);\r\n\t}\r\n}\r\n\r\nexport default SharedWorkers;"],"sourceRoot":""}