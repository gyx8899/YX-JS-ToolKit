<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="A js demo for resize function. Mobile browser header trigger window resize when scroll down">
	<meta name="keywords" content="web, js demo, jQuery plugin, jQuery widget, html, mobile">
	<meta name="author" content="Steper Kuo">
	<title>Demo: Mobile browser header trigger window resize when scroll down</title>

	<!-- Link *** CSS  -->
	<link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic,300italic' rel='stylesheet' type='text/css'>

	<!-- Style custom *** CSS -->
	<style id="demoCSS" type="text/css">
		/* Demo's CSS here */
	</style>
	<style type="text/css">
		.title-info
		{
			font-weight: bold;
			color: red;
		}
		#currentOrientation
		{
			color: white;
			font-size: 16px;
			position: fixed;
			bottom: 10px;
			right: 10px;
			width: 120px;
			height: 25px;
			background-color: #1a1a1a;
		}
		#currentSize
		{
			color: white;
			font-size: 16px;
			position: fixed;
			bottom: 10px;
			left: 10px;
			width: 150px;
			height: 25px;
			background-color: #1a1a1a;
		}
		.text-section
		{
			margin: 0 20px;
			padding: 200px 0;
		}
		#eventLog
		{
			height: 100px;
		}
	</style>

	<!--Jquery.js, HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<script src="//cdn.bootcss.com/jquery/1.11.0/jquery.min.js"></script>
	<!--[if lt IE 9]>
	<script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
	<script src="//oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->
</head>
<body>

<main>

	<!-- Demos -->
	<section id="demos">
		<div class="row">
			<div id="demoWrap" class="large-12 columns">
				<div id="demoHTML">
					<!--Demo's html here-->
<div class="title-info">Bg color changed when $('window').resize() triggered.</div>
<div id="currentOrientation"></div>
<div id="currentSize"></div>
<textarea id="eventLog"></textarea>
				</div>
				<h3 id="overview">Overview</h3>
				<!--Introduction here-->
				<p>

				</p>
			</div>
		</div>
	</section>
</main>

<!-- Script Theme *** JS -->
<script src="https://gyx8899.github.io/YX-JS-ToolKit/asset/js/common.js"></script>
<script src="https://gyx8899.github.io/YX-WebThemeKit/theme-header-footer-owl/header-footer.js"></script>
<script type="text/javascript">$.applyHeaderFooter('owl');</script>

<!-- Script Demo *** JS -->
<script src="https://gyx8899.github.io/YX-WebThemeKit/fn-preview-code/previewCode.js"></script>
<script type="text/javascript">
	$(document).ready(function ()
	{
		previewAll($('#demoWrap'), $('#demoHTML'), $('#demoCSS'), $('#demoJS'))
	});
</script>
<script id="demoJS" type="text/javascript">
	// Demo's JS here
$(document).ready(function ()
{
	windowResizeListener();
	orientationChangeListener();
});
function windowResizeListener()
{
	var windowWidth = $(window).width(),
			windowHeight = $(window).height(),
			$currentSize = $("#currentSize");
	$currentSize.text("Height: " + windowHeight);
	$(window).resize(function ()
	{
		var newWidth = $(window).width(),
				newHeight = $(window).height(),
				random = Math.floor(Math.random() * (255 + 1)),
				log = '',
				heightText = $currentSize.text();

		if (newWidth != windowWidth || newHeight != windowHeight)
		{
			log = "Really resize! ";
			if (newHeight != windowHeight)
			{
				heightText = random.toString() + " Height: " + newHeight;
			}
			windowWidth = newWidth;
			windowHeight = newHeight;
		}
		else
		{
			log = "False  resize!";
			heightText = random.toString() + " False  resize! ";
		}
		log += "Width:" + newWidth.toString() + " Height:" + newHeight.toString();
		console.log(log);
		$currentSize.text(heightText);

		updateTextarea($('#eventLog'), log);

		changeBackgroundColor($("#demos"));
	});
}
function changeBackgroundColor($dom)
{
	var red = Math.floor(Math.random() * (255 + 1));
	var green = Math.floor(Math.random() * (255 + 1));
	var blue = Math.floor(Math.random() * (255 + 1));
	document.body.style.background = "rgb(" + red + "," + green + "," + blue + ")";
	$dom.css("background-color", "rgb(" + red + "," + green + "," + blue + ")");
}
function orientationChangeListener()
{
	// Bind an event to window.orientationchange that, when the device is turned, gets the orientation and displays it to on screen.
	$(window).on("orientationchange", function ()
	{
		$("#currentOrientation").text("Orientation: " + window.orientation);
	});

	// You can also manually force this event to fire.
	$(window).trigger('orientationchange');
}
function updateTextarea($textarea, newLog)
{
	$textarea.text($textarea.text() + '\n' + newLog);
	$textarea.scrollTop($textarea[0].scrollHeight);
}
</script>
</body>
</html>