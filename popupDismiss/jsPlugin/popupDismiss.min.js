var PopupDismiss=function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**!
 * Javascript plugin: popupDismiss v5.1.20181106
 *
 */var r=function(){function t(){i(this,t)}return a(t,null,[{key:"addClass",value:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}},{key:"removeClass",value:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"findParent",value:function(t,e){for(var s=function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)};(t=t.parentElement)&&!s(t,e););return t}},{key:"hasClosest",value:function(t,e){if(t===e)return!0;if(void 0===e)return!1;for(var s=[],a=t.parentNode;a!==e&&a.parentNode;){var i=a;s.push(i),a=i.parentNode}return a===e}},{key:"getSelectorsElements",value:function(e){if(!e||e&&""===e.trim())return[document];for(var s=[],a=e.split(",").map(function(t){return t.trim()}),i=0,r=(a=t.uniqueArray(a)).length;i<r;i++)if("document"===a[i])s.push(document);else{var n=[].slice.call(document.querySelectorAll(a[i]));s=s.concat(n)}return s}},{key:"uniqueArray",value:function(t){for(var e,s=[],a={},i=0,r=t.length;i<r&&null!==(e=t[i]);i++)a[e]||(s.push(e),a[e]=!0);return s}},{key:"extendOnOff",value:function(t){if(0===t.length)return null;var e=function(t,e,s){this.namespaces||(this.namespaces={}),this.namespaces[t]=e;var a=s||!1;return this.addEventListener(t.split(".")[0],e,a),this},s=function(t){return this.removeEventListener(t.split(".")[0],this.namespaces[t]),delete this.namespaces[t],this};return t.isExtendOnOff||(t.on=Element.prototype.on=e,t.off=Element.prototype.off=s,t.isExtendOnOff=!0),t}},{key:"getElements",value:function(t){var e=[];return null==t?e=[]:t.jquery?e=t.length>1?t.get():[t[0]]:t instanceof window.NodeList||t instanceof NodeList||t instanceof HTMLCollection?e=Array.prototype.slice.call(t):Array.isArray(t)?e=t.filter(function(t){return 1===t.nodeType||t.jquery}):1===t.nodeType?e=[t]:"string"==typeof t&&(e=document.querySelectorAll(t)),e}},{key:"getUrlQueryParams",value:function(t){for(var e={},s=(t?-1!==t.indexOf("?")?t.split("?")[1]:"":window.location.search.substring(1)).split("&"),a=0;a<s.length;a++){var i=s[a].split("=");i.length>1&&(e[i[0]]=i[1])}return e}},{key:"getScriptByName",value:function(t){var e=document.getElementsByTagName("script");if(t)for(var s=0;s<e.length;s++){var a=e.item(s);if(a.src&&a.src.match(t))return a}return null}}]),t}(),n=function(){function t(e){var s=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(this,t),this.name="popupDismiss",this.isTap=void 0,this.attr={dataToggle:"data-toggle",dataTarget:"data-target",dataDismissScope:"data-dismiss-scope",dataToggleClass:"data-toggle-class",dataPopupHandler:"data-popup-handler",dataDismissHandler:"data-dismiss-handler",dataIsPopup:"data-isPopup",dataPopupDismiss:"data-popup-dismiss"},this.popupEvent=this.popupEvent.bind(this),void 0===e?this.initDelegate(document.body):(this.elements=r.getElements(e),this.isDelegated=a||void 0===e,this.init=this.isDelegated?this.initDelegate:this.initElement,this.elements.forEach(function(t){return s.init(t)}))}return a(t,[{key:"initElement",value:function(t){t.getAttribute(this.attr.dataToggle)===this.name&&t.getAttribute("data-"+this.name)!==this.name&&(t.setAttribute("data-"+this.name,this.name),t.addEventListener("click",this.popupEvent))}},{key:"initDelegate",value:function(t){this.delegate(t,"click","["+this.attr.dataToggle+'="'+this.name+'"]',this.popupEvent)}},{key:"delegate",value:function(t,e,s,a){var i=this;t.addEventListener(e,function(t){var e=t.target,n=null;(n=e.getAttribute(i.attr.dataToggle)===i.name?e:r.findParent(e,s))&&a.call(n,t)})}},{key:"popupTarget",value:function(t,e){var s=null;return 0===t.indexOf("parent ")?(s=e.parentNode.querySelector(t.split("parent ".trim())[1]),0===t.split("parent ")[1].indexOf("parent ")&&(s=this.popupTarget(t.split("parent ")[1],e))):s=document.querySelector(t),s}},{key:"popupEvent",value:function(e){var s=e.target,a=this;s.getAttribute(this.attr.dataToggle)!==this.name&&(s=r.findParent(s,"["+this.attr.dataToggle+'="'+this.name+'"]'));var i=s.getAttribute(this.attr.dataDismissScope),n=r.getSelectorsElements(i),o={type:e.type,namespace:s.getAttribute(this.attr.dataTarget)+"-"+(new Date).getTime(),popupTrigger:s,popupTarget:this.popupTarget(s.getAttribute(this.attr.dataTarget),s),toggledClass:s.getAttribute(this.attr.dataToggleClass)||null,popupHandler:s.getAttribute(this.attr.dataPopupHandler)||null,dismissHandler:s.getAttribute(this.attr.dataDismissHandler)||null,dismissScopes:n};"true"!==o.popupTarget.getAttribute(this.attr.dataIsPopup)?(this.monitorTap(),o.toggledClass&&(r.addClass(o.popupTrigger,o.toggledClass),r.addClass(o.popupTarget,o.toggledClass)),o.popupTarget.setAttribute(this.attr.dataIsPopup,"true"),o.dismissScopes.forEach(function(t){r.extendOnOff(t).on(o.type+"."+o.namespace,function(t){if(e!==t){var s={type:o.type,namespace:o.namespace,dismissTrigger:t.target,popupTrigger:o.popupTrigger,popupTarget:o.popupTarget,toggledClass:o.toggledClass,dismissHandler:o.dismissHandler,dismissScopes:o.dismissScopes};a.dismiss(s,!0)}})}),null!==o.popupHandler&&window[o.popupHandler](o.popupTarget),t.setBodyCursorInIOS("pointer")):(o.dismissTrigger=s,a.dismiss(o))}},{key:"dismiss",value:function(e,s){var a=this;!1!==this.isTap&&(!s||!r.hasClosest(e.dismissTrigger,e.popupTrigger)&&this.isDismissTrigger(e.dismissTrigger,e.popupTarget)&&"true"===e.popupTarget.getAttribute(this.attr.dataIsPopup))&&(e.toggledClass&&(r.removeClass(e.popupTrigger,e.toggledClass),r.removeClass(e.popupTarget,e.toggledClass)),e.popupTarget.setAttribute(this.attr.dataIsPopup,"false"),e.dismissScopes.forEach(function(t){t.off(e.type+"."+e.namespace,function(){return a.dismiss(e,!0)})}),null!==e.dismissHandler&&window[e.dismissHandler](e.popupTarget),t.setBodyCursorInIOS("default"))}},{key:"monitorTap",value:function(){var t=this,e={},s={};function a(s){t.isTap=!1,e.x=s.pageX,e.y=s.pageY}this.isTap=void 0,document.body.addEventListener("mousedown",a),document.body.addEventListener("mouseup",function i(r){s.x=r.pageX;s.y=r.pageY;Math.abs(s.x-e.x)<5&&Math.abs(s.y-e.y)<5&&(t.isTap=!0,document.body.removeEventListener("mousedown",a),document.body.removeEventListener("mouseup",i))})}},{key:"isDismissTrigger",value:function(t,e){if(r.hasClosest(t,e)){var s=t.getAttribute(this.attr.dataPopupDismiss),a=void 0;if("false"===s||"true"===s)return"true"===s;if(a=r.findParent(t,"["+this.attr.dataPopupDismiss+'="false"]')){var i=r.findParent(t,"["+this.attr.dataPopupDismiss+'="true"]');return!!i&&r.hasClosest(i,a)}}return!0}}],[{key:"setBodyCursorInIOS",value:function(t){if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var e=document.querySelector("body"),s=parseInt(e.getAttribute("popup-count")||"0",10);"pointer"===t?1==++s&&(e.style.cursor=t):"default"===t&&--s&&(e.style.cursor=t),e.setAttribute("popup-count",s.toString())}}}]),t}();!function(){var t=r.getScriptByName("popupDismiss");if(t){var e=function(){return new n};"auto"===r.getUrlQueryParams(t.src).init&&("complete"!==document.readyState?document.addEventListener("DOMContentLoaded",e):e())}else console.warn('PopupDismiss auto initialization failed with compatibility issue if import with "[url]?init=auto"!')}(),e.default=n,t.exports=e.default}]);
//# sourceMappingURL=popupDismiss.min.js.map