var PopupDismiss=function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/**!
 * Javascript plugin: popupDismiss v5.4.0.20181211
 *
 */var n=function(){function t(){a(this,t)}return i(t,null,[{key:"addClass",value:function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}},{key:"removeClass",value:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," ")}},{key:"findParent",value:function(t,e){for(var s=function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)};(t=t.parentElement)&&!s(t,e););return t}},{key:"hasClosest",value:function(t,e){if(t===e)return!0;if(void 0===e)return!1;for(var s=[],i=t.parentNode;i!==e&&i.parentNode;){var a=i;s.push(a),i=a.parentNode}return i===e}},{key:"getSelectorsElements",value:function(e){if(!e||e&&""===e.trim())return[document];for(var s=[],i=e.split(",").map(function(t){return t.trim()}),a=0,n=(i=t.uniqueArray(i)).length;a<n;a++)if("document"===i[a])s.push(document);else{var r=[].slice.call(document.querySelectorAll(i[a]));s=s.concat(r)}return s}},{key:"uniqueArray",value:function(t){for(var e,s=[],i={},a=0,n=t.length;a<n&&null!==(e=t[a]);a++)i[e]||(s.push(e),i[e]=!0);return s}},{key:"extendOnOff",value:function(t){if(0===t.length)return null;var e=function(t,e,s){this.namespaces||(this.namespaces={}),this.namespaces[t]=e;var i=s||!1;return this.addEventListener(t.split(".")[0],e,i),this},s=function(t){return this.removeEventListener(t.split(".")[0],this.namespaces[t]),delete this.namespaces[t],this};return t.isExtendOnOff||(t.on=Element.prototype.on=e,t.off=Element.prototype.off=s,t.isExtendOnOff=!0),t}},{key:"getElements",value:function(t){var e=[];return null==t?e=[]:t.jquery?e=t.length>1?t.get():[t[0]]:t instanceof window.NodeList||t instanceof NodeList||t instanceof HTMLCollection?e=Array.prototype.slice.call(t):Array.isArray(t)?e=t.filter(function(t){return 1===t.nodeType||t.jquery}):1===t.nodeType?e=[t]:"string"==typeof t&&(e=document.querySelectorAll(t)),e}},{key:"getUrlQueryParams",value:function(t){for(var e={},s=(t?-1!==t.indexOf("?")?t.split("?")[1]:"":window.location.search.substring(1)).split("&"),i=0;i<s.length;i++){var a=s[i].split("=");a.length>1&&(e[a[0]]=a[1])}return e}},{key:"getScriptByName",value:function(t){var e=document.getElementsByTagName("script");if(t)for(var s=0;s<e.length;s++){var i=e.item(s);if(i.src&&i.src.split("?")[0].match(t))return i}return null}}]),t}(),r=function(){function t(e){var s=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a(this,t),this.name="popupDismiss",this.isTap=void 0,this.attr={dataToggle:"data-toggle",dataTarget:"data-target",dataTargetParent:"data-target-parent",dataDismissScope:"data-dismiss-scope",dataToggleClass:"data-toggle-class",dataPopupHandler:"data-popup-handler",dataDismissHandler:"data-dismiss-handler",dataIsPopup:"data-isPopup",dataPopupDismiss:"data-popup-dismiss"},this.popupEvent=this.popupEvent.bind(this),void 0===e?this.initDelegate(document.body):(this.elements=n.getElements(e),this.isDelegated=i||void 0===e,this.init=this.isDelegated?this.initDelegate:this.initElement,[].slice.call(this.elements).forEach(function(t){return s.init(t)}))}return i(t,[{key:"initElement",value:function(t){t.getAttribute(this.attr.dataToggle)===this.name&&t.getAttribute("data-"+this.name)!==this.name&&(t.setAttribute("data-"+this.name,this.name),t.addEventListener("click",this.popupEvent))}},{key:"initDelegate",value:function(t){this.delegate(t,"click","["+this.attr.dataToggle+'="'+this.name+'"]',this.popupEvent)}},{key:"delegate",value:function(t,e,s,i){var a=this;t.addEventListener(e,function(t){var e=t.target,r=null;(r=e.getAttribute(a.attr.dataToggle)===a.name?e:n.findParent(e,s))&&i.call(r,t)})}},{key:"popupTarget",value:function(t,e,s){var i=null;if(s){var a=n.findParent(e,s);a&&(i=a.querySelector(t))}else i=document.querySelector(t);return i}},{key:"popupEvent",value:function(e){var s=e.target,i=this;s.getAttribute(this.attr.dataToggle)!==this.name&&(s=n.findParent(s,"["+this.attr.dataToggle+'="'+this.name+'"]'));var a=s.getAttribute(this.attr.dataDismissScope),r=n.getSelectorsElements(a),o={type:e.type,namespace:s.getAttribute(this.attr.dataTarget)+"-"+(new Date).getTime(),popupTrigger:s,popupTarget:this.popupTarget(s.getAttribute(this.attr.dataTarget),s,s.getAttribute(this.attr.dataTargetParent)),toggledClass:s.getAttribute(this.attr.dataToggleClass)||null,popupHandler:s.getAttribute(this.attr.dataPopupHandler)||null,dismissHandler:s.getAttribute(this.attr.dataDismissHandler)||null,dismissScopes:r};"true"!==o.popupTarget.getAttribute(this.attr.dataIsPopup)?(this.monitorTap(),o.toggledClass&&(n.addClass(o.popupTrigger,o.toggledClass),n.addClass(o.popupTarget,o.toggledClass)),o.popupTarget.setAttribute(this.attr.dataIsPopup,"true"),o.dismissScopes.forEach(function(t){n.extendOnOff(t).on(o.type+"."+o.namespace,function(t){if(e!==t){var s={type:o.type,namespace:o.namespace,dismissTrigger:t.target,popupTrigger:o.popupTrigger,popupTarget:o.popupTarget,toggledClass:o.toggledClass,dismissHandler:o.dismissHandler,dismissScopes:o.dismissScopes};i.dismiss(s,!0)}})}),null!==o.popupHandler&&window[o.popupHandler](o.popupTarget),t.setBodyCursorInIOS("pointer")):(o.dismissTrigger=s,i.dismiss(o))}},{key:"dismiss",value:function(e,s){var i=this;!1!==this.isTap&&(!s||!n.hasClosest(e.dismissTrigger,e.popupTrigger)&&this.isDismissTrigger(e.dismissTrigger,e.popupTarget)&&"true"===e.popupTarget.getAttribute(this.attr.dataIsPopup))&&(e.toggledClass&&(n.removeClass(e.popupTrigger,e.toggledClass),n.removeClass(e.popupTarget,e.toggledClass)),e.popupTarget.setAttribute(this.attr.dataIsPopup,"false"),e.dismissScopes.forEach(function(t){t.off(e.type+"."+e.namespace,function(){return i.dismiss(e,!0)})}),null!==e.dismissHandler&&window[e.dismissHandler](e.popupTarget),t.setBodyCursorInIOS("default"))}},{key:"monitorTap",value:function(){var t=this,e={},s={};function i(s){t.isTap=!1,e.x=s.pageX,e.y=s.pageY}this.isTap=void 0,document.body.addEventListener("mousedown",i),document.body.addEventListener("mouseup",function a(n){s.x=n.pageX;s.y=n.pageY;Math.abs(s.x-e.x)<5&&Math.abs(s.y-e.y)<5&&(t.isTap=!0,document.body.removeEventListener("mousedown",i),document.body.removeEventListener("mouseup",a))})}},{key:"isDismissTrigger",value:function(t,e){if(n.hasClosest(t,e)){var s=t.getAttribute(this.attr.dataPopupDismiss),i=void 0;if("false"===s||"true"===s)return"true"===s;if(i=n.findParent(t,"["+this.attr.dataPopupDismiss+'="false"]')){var a=n.findParent(t,"["+this.attr.dataPopupDismiss+'="true"]');return!!a&&n.hasClosest(a,i)}}return!0}}],[{key:"setBodyCursorInIOS",value:function(t){if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var e=document.querySelector("body"),s=parseInt(e.getAttribute("popup-count")||"0",10);"pointer"===t?1==++s&&(e.style.cursor=t):"default"===t&&--s&&(e.style.cursor=t),e.setAttribute("popup-count",s.toString())}}}]),t}();window.popupDismiss=function(t){return console.warn("popupDismiss.min.js: [Deprecation] popupDismiss() is deprecated. Please use new PopupDismiss(elements) instead."),new r(t)},window.popupDismissDelegate=function(t){return console.warn("popupDismiss.min.js: [Deprecation] popupDismissDelegate() is deprecated. Please use new PopupDismiss(elements, true) instead."),new r(t,!0)},function(){var t=n.getScriptByName("popupDismiss");if(t){var e=function(){return new r};"auto"===n.getUrlQueryParams(t.src).init&&("complete"!==document.readyState?document.addEventListener("DOMContentLoaded",e):e())}else console.warn('popupDismiss.min.js: [Notice] PopupDismiss auto-initialization failed with compatibility issue if import with "[url]?init=auto"!')}(),e.default=r,t.exports=e.default}]);
//# sourceMappingURL=popupDismiss.min.js.map